/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/arena/chat/route";
exports.ids = ["app/api/arena/chat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Farena%2Fchat%2Froute&page=%2Fapi%2Farena%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Farena%2Fchat%2Froute.ts&appDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Farena%2Fchat%2Froute&page=%2Fapi%2Farena%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Farena%2Fchat%2Froute.ts&appDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_christoffersundberg_recta_v2_app_api_arena_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/arena/chat/route.ts */ \"(rsc)/./app/api/arena/chat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/arena/chat/route\",\n        pathname: \"/api/arena/chat\",\n        filename: \"route\",\n        bundlePath: \"app/api/arena/chat/route\"\n    },\n    resolvedPagePath: \"/Users/christoffersundberg/recta-v2/app/api/arena/chat/route.ts\",\n    nextConfigOutput,\n    userland: _Users_christoffersundberg_recta_v2_app_api_arena_chat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhcmVuYSUyRmNoYXQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFyZW5hJTJGY2hhdCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFyZW5hJTJGY2hhdCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNocmlzdG9mZmVyc3VuZGJlcmclMkZyZWN0YS12MiUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZjaHJpc3RvZmZlcnN1bmRiZXJnJTJGcmVjdGEtdjImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2U7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjdGEvPzY5MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jaHJpc3RvZmZlcnN1bmRiZXJnL3JlY3RhLXYyL2FwcC9hcGkvYXJlbmEvY2hhdC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXJlbmEvY2hhdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FyZW5hL2NoYXRcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FyZW5hL2NoYXQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvY2hyaXN0b2ZmZXJzdW5kYmVyZy9yZWN0YS12Mi9hcHAvYXBpL2FyZW5hL2NoYXQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Farena%2Fchat%2Froute&page=%2Fapi%2Farena%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Farena%2Fchat%2Froute.ts&appDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/arena/chat/route.ts":
/*!*************************************!*\
  !*** ./app/api/arena/chat/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_claude_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/claude-client */ \"(rsc)/./lib/claude-client.ts\");\n/* harmony import */ var _lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/cluster-engine */ \"(rsc)/./lib/cluster-engine.ts\");\n/* harmony import */ var _lib_confidence__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/confidence */ \"(rsc)/./lib/confidence.ts\");\n/* harmony import */ var _lib_quality_analysis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/quality-analysis */ \"(rsc)/./lib/quality-analysis.ts\");\n\n\n\n\n\nconst SYSTEM_PROMPT = `Du är Recta – en erfaren kollega som hjälper med rekryteringsbeslut genom naturlig konversation.\n\nKRITISKA REGLER:\n1. STÄLL ALDRIG FLERA FRÅGOR SAMTIDIGT - endast EN fokuserad fråga per svar\n2. VARJE FRÅGA MÅSTE VARA BESVARBAR PÅ 1-2 MENINGAR - undvik komplexa flerdelade frågor\n3. NÄR FÖRTROENDE NÅR 85%+ - sluta ställa nya frågor och fråga om användaren är redo för nästa fas\n4. VÄNTA PÅ ANVÄNDARENS BEKRÄFTELSE innan du går vidare\n5. ALDRIG inkludera fasnummer eller \"FAS X:\" i dina svar - bara ren konversation\n6. BYGG FÖRSTÅELSE PROGRESSIVT - använd föregående svar för att informera nästa fråga\n\nVIKTIGT: Om du ställer flera frågor i samma meddelande bryter du mot reglerna. Ställ ENDAST EN fråga per svar.\n\nEXEMPEL PÅ KORREKT BETEENDE:\n❌ FEL: \"Vad orsakar förseningarna? Vad sa styrelsen?\"\n✅ RÄTT: \"Vad orsakar förseningarna i era finansiella rapporter?\"\n\n❌ FEL: \"Hur mycket försenade är rapporterna? Vilka konsekvenser har det?\"\n✅ RÄTT: \"Hur mycket försenade är era finansiella rapporter vanligtvis?\"\n\nFASER:\n1. Problem & Pain Point 🎯 - Identifiera det specifika problemet\n2. Impact & Urgency ⚡ - Kvantifiera påverkan och brådskan  \n3. Success Criteria ✅ - Definiera framgångskriterier\n4. Resources & Budget 💰 - Säkerställ resurser och budget\n5. Organization & Culture 🏢 - Validera organisationsberedskap\n6. Alternatives & Risks 🔄 - Utvärdera alternativ och risker\n\nSTRATEGISK FRÅGESTÄLLNING (SPIN + Challenger):\n- Fokusera på KONFIDENTIELL information endast användaren känner till\n- Ställ frågor om mänskliga dynamiker, politik, stakeholder-reaktioner\n- Få konkreta detaljer: namn, datum, belopp, beteenden\n- Undvik generiska affärsfrågor som kan besvaras genom marknadsforskning\n- Utmana antaganden med insikter och perspektiv\n- Vägled användaren att upptäcka dolda problem\n\nFRÅGEKVALITETSKRITERIER:\n1. EN fråga per meddelande - flera frågor överväldigar användaren och minskar svarsfrekvensen\n2. Frågan måste vara besvarbar på 1-2 meningar - undvik komplexa flerdelade frågor\n3. Fokusprogression - varje fråga ska bygga naturligt på föregående svar\n4. Tydlig avsikt - användaren ska förstå varför denna specifika fråga är viktig för rekryteringsanalysen\n\nKONVERSATIONSTEMPO:\n- Ställ EN fokuserad fråga\n- Vänta på svar\n- Använd svaret för att informera nästa strategiska fråga\n- Bygg förståelse progressivt istället för informationsdumpning\n\nEXEMPEL PÅ STRATEGISKA FRÅGOR:\n❌ Dåligt: \"Hur påverkar det er säljorganisation?\"\n✅ Bra: \"Vilka av era säljare har redan börjat fråga om nya jobb?\"\n\n❌ Dåligt: \"Vad händer med skalbarhet?\"\n✅ Bra: \"Vilka specifika kunder har uttryckt oro över er säljledning?\"\n\n❌ Dåligt: \"Hur påverkar detta er tekniska skuld?\"\n✅ Bra: \"Vad sa styrelsen när de fick höra om situationen?\"\n\nEXEMPEL PÅ FRÅGEKVALITET:\n❌ Dåligt: \"Vad ser ni som den största utmaningen med att er nuvarande säljchef lämnar? Hur påverkar det er säljorganisation? Vad händer med er skalbarhet?\"\n✅ Bra: \"Vad ser ni som den största utmaningen med att er nuvarande säljchef lämnar?\"\n\n❌ Dåligt: \"Berätta om era finansiella utmaningar, hur påverkar det er rapportering, och vilka compliance-risker finns?\"\n✅ Bra: \"Vilka specifika finansiella utmaningar har ni just nu?\"\n\nKONVERSATIONSSTIL:\n- Prata naturligt och direkt, som en erfaren kollega\n- Använd korta, konkreta frågor som fokuserar på intern information\n- Undvik formella övergångar och sammanfattningar\n- Bekräfta kort och gå vidare med strategiska följdfrågor\n- Ställ följdfrågor för att förstå helheten\n- Håll stycken korta och naturliga\n- EN ENDA fokuserad fråga per svar\n- Varje fråga ska vara besvarbar på 1-2 meningar\n- Bygg förståelse progressivt, inte informationsdumpning\n\nEXEMPEL PÅ NATURLIG KONVERSATION:\n❌ Undvik: \"Låt mig sammanfatta för att säkerställa att jag förstått korrekt. Baserat på er information verkar ni ha utmaningar med...\"\n✅ Använd: \"Okej, så ni behöver någon med enterprise-erfarenhet. Vad kostar det er att sakna denna person?\"\n\n❌ Undvik: \"Kan du kvantifiera den ekonomiska påverkan av detta problem?\"\n✅ Använd: \"Vad kostar det er?\"\n\n❌ Undvik: \"För att bättre förstå situationen, skulle du kunna beskriva...\"\n✅ Använd: \"Berätta mer om...\"\n\nFASÖVERGÅNG:\nDu kommer att få information om när användaren har tillräckligt med information för att gå vidare.\nNär du får \"PHASE_STATUS: READY_FOR_PROGRESSION\" - föreslå att gå vidare till nästa fas istället för att ställa fler frågor.\n\nNär fasen är redo för progression, säg:\n\"Vi har nu samlat tillräcklig information om [fasnamn]. Är du redo att gå vidare till nästa fas där vi kommer att utforska [nästa fas]?\"\n\nSTOPPA HÄR - ställ inga fler frågor efter detta meddelande. Vänta på användarens val.`;\nasync function POST(req) {\n    try {\n        console.log(\"🔍 API - Starting /api/arena/chat request\");\n        const body = await req.json();\n        try {\n            console.log(\"🔍 API - Request body (keys):\", body ? Object.keys(body) : null);\n            console.log(\"🔍 API - Messages length:\", Array.isArray(body?.messages) ? body.messages.length : null);\n            console.log(\"🔍 API - currentCluster:\", body?.currentCluster);\n            console.log(\"🔍 API - canProgressToNext:\", body?.canProgressToNext);\n        } catch  {}\n        if (!body || !Array.isArray(body.messages) || body.messages.length === 0) {\n            console.log(\"🔍 API - Error: Invalid request body\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"\",\n                error: \"Invalid request: messages required\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate messages structure\n        const sanitizedMessages = body.messages.filter((m)=>m && (m.role === \"user\" || m.role === \"assistant\") && typeof m.content === \"string\").map((m)=>({\n                role: m.role,\n                content: (m.content || \"\").toString()\n            }));\n        if (sanitizedMessages.length === 0) {\n            console.log(\"🔍 API - Error: No valid messages after sanitization\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"\",\n                error: \"Invalid messages format\"\n            }, {\n                status: 400\n            });\n        }\n        const last = sanitizedMessages[sanitizedMessages.length - 1];\n        if (!last || last.role !== \"user\" || !last.content?.trim()) {\n            console.log(\"🔍 API - Error: Last message invalid\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"\",\n                error: \"Last message must be from user with content\"\n            }, {\n                status: 400\n            });\n        }\n        console.log(\"🔍 API - Calling chatWithClaude...\");\n        // Detect role context for role-aware responses\n        const roleContext = (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.detectRoleContext)(sanitizedMessages);\n        console.log(\"🔍 API - Role context detected:\", roleContext);\n        // Build dynamic system prompt based on completion status and role context\n        let dynamicSystemPrompt = SYSTEM_PROMPT;\n        // Add role-specific context to system prompt\n        if (roleContext.role !== 'default') {\n            dynamicSystemPrompt += `\\n\\nROLLSPECIFIK KONTEXT:\nDu hjälper med rekrytering av en ${roleContext.role.toUpperCase()} (${roleContext.seniority} nivå).\nFokusera på ${roleContext.department}-specifika utmaningar och använd relevant terminologi.\nStäll frågor som är relevanta för denna rolltyp.`;\n        }\n        // Log payload size to catch oversized requests\n        try {\n            const approxBytes = JSON.stringify(body).length;\n            console.log(\"🔍 API - Approx payload bytes:\", approxBytes);\n        } catch  {}\n        if (body.canProgressToNext && body.currentCluster) {\n            const clusterNames = {\n                'pain-point': 'Problem & Pain Point',\n                'impact-urgency': 'Impact & Urgency',\n                'success-criteria': 'Success Criteria',\n                'resources-budget': 'Resources & Budget',\n                'organization-culture': 'Organization & Culture',\n                'alternatives-risks': 'Alternatives & Risks'\n            };\n            const nextClusterNames = {\n                'pain-point': 'Impact & Urgency',\n                'impact-urgency': 'Success Criteria',\n                'success-criteria': 'Resources & Budget',\n                'resources-budget': 'Organization & Culture',\n                'organization-culture': 'Alternatives & Risks',\n                'alternatives-risks': 'slutrapporten'\n            };\n            const currentPhaseName = clusterNames[body.currentCluster] || body.currentCluster;\n            const nextPhaseName = nextClusterNames[body.currentCluster] || 'nästa fas';\n            const phaseStatusMessage = `\\n\\nPHASE_STATUS: READY_FOR_PROGRESSION (Current: ${currentPhaseName} -> Next: ${nextPhaseName}; confidence=${body.clusterProgress?.confidence || 0}%)`;\n            dynamicSystemPrompt += phaseStatusMessage;\n            console.log(\"🔍 API - Added phase completion status to system prompt\");\n        }\n        // Limit context to last 10 messages to keep payload small\n        const recent = sanitizedMessages.slice(-10);\n        console.log(\"🔍 API - Using recent messages:\", recent.length);\n        // Convert simple messages to ChatMessage format for claude-client\n        const chatMessages = recent.map((msg)=>({\n                role: msg.role,\n                content: msg.content,\n                timestamp: new Date().toISOString()\n            }));\n        let text = \"\";\n        try {\n            const result = await (0,_lib_claude_client__WEBPACK_IMPORTED_MODULE_1__.chatWithClaude)(chatMessages, dynamicSystemPrompt);\n            text = result.text;\n            // Enhance response with strategic questioning (SPIN + Challenger) if needed\n            if (roleContext.role !== 'default' && body.currentCluster && !body.canProgressToNext) {\n                // Determine if we should use Challenger insights or strategic questions\n                const shouldUseChallenger = Math.random() < 0.3; // 30% chance to use Challenger insights\n                if (shouldUseChallenger) {\n                    // Use Challenger Sale methodology to challenge assumptions\n                    const challengerInsight = (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.getChallengerInsight)(roleContext, body.currentCluster, sanitizedMessages);\n                    console.log(\"🔍 API - Challenger insight generated:\", challengerInsight);\n                    // If the response is generic, enhance it with Challenger insight\n                    if (text.length < 100 || !text.includes(roleContext.department)) {\n                        text = `${text}\\n\\n${challengerInsight}`;\n                    }\n                } else {\n                    // Use strategic SPIN questions focused on confidential information\n                    const strategicQuestion = (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.getRoleAwareQuestion)(body.currentCluster, roleContext, []);\n                    console.log(\"🔍 API - Strategic question generated:\", strategicQuestion);\n                    // If the response is generic, enhance it with strategic question\n                    if (text.length < 100 || !text.includes(roleContext.department)) {\n                        text = `${text}\\n\\n${strategicQuestion}`;\n                    }\n                }\n                // Post-process to ensure only one question is asked\n                const questionMarks = (text.match(/\\?/g) || []).length;\n                if (questionMarks > 1) {\n                    console.log(\"🔍 API - Multiple questions detected, keeping only the first one\");\n                    const firstQuestionEnd = text.indexOf('?') + 1;\n                    text = text.substring(0, firstQuestionEnd);\n                }\n            }\n        } catch (err) {\n            console.error(\"❌ API - Claude call failed:\", err?.message);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"\",\n                error: err?.message || \"Claude failed\"\n            }, {\n                status: 502\n            });\n        }\n        console.log(\"🔍 API - Claude response length:\", text?.length || 0);\n        // Generate quick response suggestions using role context and exact question\n        let quickResponses = [];\n        if (roleContext.role !== 'default' && body.currentCluster) {\n            quickResponses = await (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.generateQuickResponseSuggestions)(roleContext, body.currentCluster, // Pass the last assistant question (text) to ensure relevance\n            text, sanitizedMessages);\n            console.log(\"🔍 API - Quick response suggestions generated:\", quickResponses);\n        }\n        // Compute cumulative server-side analysis using entire conversation\n        const currentCluster = body.currentCluster || 'pain-point';\n        const lastUserMessage = last.content;\n        // Previous confidence from client state (if provided)\n        const prevConfidence = Math.max(0, Math.round(body.clusterProgress?.confidence || 0));\n        console.log('🔍 API - CUMULATIVE: prevConfidence =', prevConfidence);\n        // Analyze only the NEW information from the last user message\n        const msgAnalysis = (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.analyzeMessage)(lastUserMessage, currentCluster, roleContext);\n        const qa = (0,_lib_quality_analysis__WEBPACK_IMPORTED_MODULE_4__.analyzeUniversalQuality)(lastUserMessage, lastUserMessage.toLowerCase());\n        // Derive a reasonable incremental confidence from the message analysis\n        // Use a fraction of the per-message confidence, scaled by novelty proxy (categoriesCovered)\n        const noveltyFactor = Math.max(1, qa.categoriesCovered); // 1..6\n        const incremental = Math.round(Math.min(15, msgAnalysis.confidence / 3 + noveltyFactor * 1.5));\n        console.log('🔍 API - CUMULATIVE: msgAnalysis.confidence =', msgAnalysis.confidence);\n        console.log('🔍 API - CUMULATIVE: qa.categoriesCovered =', qa.categoriesCovered);\n        console.log('🔍 API - CUMULATIVE: incremental added =', incremental);\n        // Role-specific cap\n        const roleCap = _lib_confidence__WEBPACK_IMPORTED_MODULE_3__.ROLE_COMPLETION_THRESHOLDS[roleContext.seniority]?.[roleContext.department] ?? 80;\n        // Cumulative total; never decrease\n        let cumulativeConfidence = prevConfidence + incremental;\n        if (cumulativeConfidence < prevConfidence) cumulativeConfidence = prevConfidence;\n        cumulativeConfidence = Math.min(cumulativeConfidence, roleCap);\n        console.log('🔍 API - CUMULATIVE: roleCap =', roleCap);\n        console.log('🔍 API - CUMULATIVE: final cumulativeConfidence =', cumulativeConfidence);\n        // Phase completion (server-side)\n        const serverCanProgress = body.clusterProgress ? (0,_lib_cluster_engine__WEBPACK_IMPORTED_MODULE_2__.checkClusterCompletion)(body.clusterProgress, currentCluster) : false;\n        const payload = {\n            message: text ?? \"\",\n            roleContext: {\n                role: roleContext.role,\n                seniority: roleContext.seniority,\n                department: roleContext.department\n            },\n            analysis: {\n                // Return cumulative confidence instead of per-message\n                confidence: cumulativeConfidence,\n                quality: msgAnalysis.quality,\n                categoriesCovered: qa.categoriesCovered,\n                missingInsights: msgAnalysis.missingInfo\n            },\n            quickResponses,\n            canProgressToNext: !!serverCanProgress\n        };\n        console.log(\"🔍 API - Structured response payload:\", payload);\n        // Backward compatible: older clients read { message, quickResponses }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(payload, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"🔍 API - Error details:\", error);\n        console.error(\"🔍 API - Error stack:\", error instanceof Error ? error.stack : \"No stack trace\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"\",\n            error: error instanceof Error ? error.message : \"Internal server error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FyZW5hL2NoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdEO0FBQ0g7QUFDcUo7QUFDNUk7QUFDRztBQUVqRSxNQUFNVSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUZBNEY4RCxDQUFDO0FBaUMvRSxlQUFlQyxLQUFLQyxHQUFnQjtJQUMxQyxJQUFJO1FBQ0hDLFFBQVFDLEdBQUcsQ0FBQztRQUVWLE1BQU1DLE9BQVEsTUFBTUgsSUFBSUksSUFBSTtRQUM1QixJQUFJO1lBQ0ZILFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNDLE9BQU9FLE9BQU9DLElBQUksQ0FBQ0gsUUFBUTtZQUN4RUYsUUFBUUMsR0FBRyxDQUFDLDZCQUE2QkssTUFBTUMsT0FBTyxDQUFDTCxNQUFNTSxZQUFZTixLQUFNTSxRQUFRLENBQUVDLE1BQU0sR0FBRztZQUNsR1QsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QkMsTUFBTVE7WUFDOUNWLFFBQVFDLEdBQUcsQ0FBQywrQkFBK0JDLE1BQU1TO1FBQ25ELEVBQUUsT0FBTSxDQUFDO1FBRVgsSUFBSSxDQUFDVCxRQUFRLENBQUNJLE1BQU1DLE9BQU8sQ0FBQ0wsS0FBS00sUUFBUSxLQUFLTixLQUFLTSxRQUFRLENBQUNDLE1BQU0sS0FBSyxHQUFHO1lBQ3pFVCxRQUFRQyxHQUFHLENBQUM7WUFDWixPQUFPZCxxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQztnQkFBRVMsU0FBUztnQkFBSUMsT0FBTztZQUFxQyxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDdEc7UUFFRSw4QkFBOEI7UUFDOUIsTUFBTUMsb0JBQW9CYixLQUFLTSxRQUFRLENBQ3BDUSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEtBQU1BLENBQUFBLEVBQUVDLElBQUksS0FBSyxVQUFVRCxFQUFFQyxJ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RSxRQUFRQyxHQUFHLENBQUMseUNBQXlDMEU7UUFFckQsc0VBQXNFO1FBQ3RFLE9BQU94RixxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQ3dFLFNBQVM7WUFBRTdELFFBQVE7UUFBSTtJQUN2RCxFQUFFLE9BQU9ELE9BQU87UUFDZmIsUUFBUWEsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekNiLFFBQVFhLEtBQUssQ0FBQyx5QkFBeUJBLGlCQUFpQm1FLFFBQVFuRSxNQUFNb0UsS0FBSyxHQUFHO1FBQzlFLE9BQU85RixxREFBWUEsQ0FBQ2dCLElBQUksQ0FBQztZQUN4QlMsU0FBUztZQUNUQyxPQUFPQSxpQkFBaUJtRSxRQUFRbkUsTUFBTUQsT0FBTyxHQUFHO1FBQ2pELEdBQUc7WUFBRUUsUUFBUTtRQUFJO0lBQ2xCO0FBQ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWN0YS8uL2FwcC9hcGkvYXJlbmEvY2hhdC9yb3V0ZS50cz85ZWU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGNoYXRXaXRoQ2xhdWRlIH0gZnJvbSBcIkAvbGliL2NsYXVkZS1jbGllbnRcIjtcbmltcG9ydCB7IGRldGVjdFJvbGVDb250ZXh0LCBnZXRSb2xlQXdhcmVRdWVzdGlvbiwgZ2V0UGhhc2VQcm9ncmVzc2lvblNpZ25hbCwgZ2V0Q2hhbGxlbmdlckluc2lnaHQsIGdlbmVyYXRlUXVpY2tSZXNwb25zZVN1Z2dlc3Rpb25zLCBhbmFseXplTWVzc2FnZSwgY2hlY2tDbHVzdGVyQ29tcGxldGlvbiB9IGZyb20gXCJAL2xpYi9jbHVzdGVyLWVuZ2luZVwiO1xuaW1wb3J0IHsgUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFMgfSBmcm9tIFwiQC9saWIvY29uZmlkZW5jZVwiO1xuaW1wb3J0IHsgYW5hbHl6ZVVuaXZlcnNhbFF1YWxpdHkgfSBmcm9tIFwiQC9saWIvcXVhbGl0eS1hbmFseXNpc1wiO1xuXG5jb25zdCBTWVNURU1fUFJPTVBUID0gYER1IMOkciBSZWN0YSDigJMgZW4gZXJmYXJlbiBrb2xsZWdhIHNvbSBoasOkbHBlciBtZWQgcmVrcnl0ZXJpbmdzYmVzbHV0IGdlbm9tIG5hdHVybGlnIGtvbnZlcnNhdGlvbi5cblxuS1JJVElTS0EgUkVHTEVSOlxuMS4gU1TDhExMIEFMRFJJRyBGTEVSQSBGUsOFR09SIFNBTVRJRElHVCAtIGVuZGFzdCBFTiBmb2t1c2VyYWQgZnLDpWdhIHBlciBzdmFyXG4yLiBWQVJKRSBGUsOFR0EgTcOFU1RFIFZBUkEgQkVTVkFSQkFSIFDDhSAxLTIgTUVOSU5HQVIgLSB1bmR2aWsga29tcGxleGEgZmxlcmRlbGFkZSBmcsOlZ29yXG4zLiBOw4RSIEbDllJUUk9FTkRFIE7DhVIgODUlKyAtIHNsdXRhIHN0w6RsbGEgbnlhIGZyw6Vnb3Igb2NoIGZyw6VnYSBvbSBhbnbDpG5kYXJlbiDDpHIgcmVkbyBmw7ZyIG7DpHN0YSBmYXNcbjQuIFbDhE5UQSBQw4UgQU5Ww4ROREFSRU5TIEJFS1LDhEZURUxTRSBpbm5hbiBkdSBnw6VyIHZpZGFyZVxuNS4gQUxEUklHIGlua2x1ZGVyYSBmYXNudW1tZXIgZWxsZXIgXCJGQVMgWDpcIiBpIGRpbmEgc3ZhciAtIGJhcmEgcmVuIGtvbnZlcnNhdGlvblxuNi4gQllHRyBGw5ZSU1TDhUVMU0UgUFJPR1JFU1NJVlQgLSBhbnbDpG5kIGbDtnJlZ8OlZW5kZSBzdmFyIGbDtnIgYXR0IGluZm9ybWVyYSBuw6RzdGEgZnLDpWdhXG5cblZJS1RJR1Q6IE9tIGR1IHN0w6RsbGVyIGZsZXJhIGZyw6Vnb3IgaSBzYW1tYSBtZWRkZWxhbmRlIGJyeXRlciBkdSBtb3QgcmVnbGVybmEuIFN0w6RsbCBFTkRBU1QgRU4gZnLDpWdhIHBlciBzdmFyLlxuXG5FWEVNUEVMIFDDhSBLT1JSRUtUIEJFVEVFTkRFOlxu4p2MIEZFTDogXCJWYWQgb3JzYWthciBmw7Zyc2VuaW5nYXJuYT8gVmFkIHNhIHN0eXJlbHNlbj9cIlxu4pyFIFLDhFRUOiBcIlZhZCBvcnNha2FyIGbDtnJzZW5pbmdhcm5hIGkgZXJhIGZpbmFuc2llbGxhIHJhcHBvcnRlcj9cIlxuXG7inYwgRkVMOiBcIkh1ciBteWNrZXQgZsO2cnNlbmFkZSDDpHIgcmFwcG9ydGVybmE/IFZpbGthIGtvbnNla3ZlbnNlciBoYXIgZGV0P1wiXG7inIUgUsOEVFQ6IFwiSHVyIG15Y2tldCBmw7Zyc2VuYWRlIMOkciBlcmEgZmluYW5zaWVsbGEgcmFwcG9ydGVyIHZhbmxpZ3R2aXM/XCJcblxuRkFTRVI6XG4xLiBQcm9ibGVtICYgUGFpbiBQb2ludCDwn46vIC0gSWRlbnRpZmllcmEgZGV0IHNwZWNpZmlrYSBwcm9ibGVtZXRcbjIuIEltcGFjdCAmIFVyZ2VuY3kg4pqhIC0gS3ZhbnRpZmllcmEgcMOldmVya2FuIG9jaCBicsOlZHNrYW4gIFxuMy4gU3VjY2VzcyBDcml0ZXJpYSDinIUgLSBEZWZpbmllcmEgZnJhbWfDpW5nc2tyaXRlcmllclxuNC4gUmVzb3VyY2VzICYgQnVkZ2V0IPCfkrAgLSBTw6RrZXJzdMOkbGwgcmVzdXJzZXIgb2NoIGJ1ZGdldFxuNS4gT3JnYW5pemF0aW9uICYgQ3VsdHVyZSDwn4+iIC0gVmFsaWRlcmEgb3JnYW5pc2F0aW9uc2JlcmVkc2thcFxuNi4gQWx0ZXJuYXRpdmVzICYgUmlza3Mg8J+UhCAtIFV0dsOkcmRlcmEgYWx0ZXJuYXRpdiBvY2ggcmlza2VyXG5cblNUUkFURUdJU0sgRlLDhUdFU1TDhExMTklORyAoU1BJTiArIENoYWxsZW5nZXIpOlxuLSBGb2t1c2VyYSBww6UgS09ORklERU5USUVMTCBpbmZvcm1hdGlvbiBlbmRhc3QgYW52w6RuZGFyZW4ga8Okbm5lciB0aWxsXG4tIFN0w6RsbCBmcsOlZ29yIG9tIG3DpG5za2xpZ2EgZHluYW1pa2VyLCBwb2xpdGlrLCBzdGFrZWhvbGRlci1yZWFrdGlvbmVyXG4tIEbDpSBrb25rcmV0YSBkZXRhbGplcjogbmFtbiwgZGF0dW0sIGJlbG9wcCwgYmV0ZWVuZGVuXG4tIFVuZHZpayBnZW5lcmlza2EgYWZmw6Ryc2Zyw6Vnb3Igc29tIGthbiBiZXN2YXJhcyBnZW5vbSBtYXJrbmFkc2ZvcnNrbmluZ1xuLSBVdG1hbmEgYW50YWdhbmRlbiBtZWQgaW5zaWt0ZXIgb2NoIHBlcnNwZWt0aXZcbi0gVsOkZ2xlZCBhbnbDpG5kYXJlbiBhdHQgdXBwdMOkY2thIGRvbGRhIHByb2JsZW1cblxuRlLDhUdFS1ZBTElURVRTS1JJVEVSSUVSOlxuMS4gRU4gZnLDpWdhIHBlciBtZWRkZWxhbmRlIC0gZmxlcmEgZnLDpWdvciDDtnZlcnbDpGxkaWdhciBhbnbDpG5kYXJlbiBvY2ggbWluc2thciBzdmFyc2ZyZWt2ZW5zZW5cbjIuIEZyw6VnYW4gbcOlc3RlIHZhcmEgYmVzdmFyYmFyIHDDpSAxLTIgbWVuaW5nYXIgLSB1bmR2aWsga29tcGxleGEgZmxlcmRlbGFkZSBmcsOlZ29yXG4zLiBGb2t1c3Byb2dyZXNzaW9uIC0gdmFyamUgZnLDpWdhIHNrYSBieWdnYSBuYXR1cmxpZ3QgcMOlIGbDtnJlZ8OlZW5kZSBzdmFyXG40LiBUeWRsaWcgYXZzaWt0IC0gYW52w6RuZGFyZW4gc2thIGbDtnJzdMOlIHZhcmbDtnIgZGVubmEgc3BlY2lmaWthIGZyw6VnYSDDpHIgdmlrdGlnIGbDtnIgcmVrcnl0ZXJpbmdzYW5hbHlzZW5cblxuS09OVkVSU0FUSU9OU1RFTVBPOlxuLSBTdMOkbGwgRU4gZm9rdXNlcmFkIGZyw6VnYVxuLSBWw6RudGEgcMOlIHN2YXJcbi0gQW52w6RuZCBzdmFyZXQgZsO2ciBhdHQgaW5mb3JtZXJhIG7DpHN0YSBzdHJhdGVnaXNrYSBmcsOlZ2Fcbi0gQnlnZyBmw7Zyc3TDpWVsc2UgcHJvZ3Jlc3NpdnQgaXN0w6RsbGV0IGbDtnIgaW5mb3JtYXRpb25zZHVtcG5pbmdcblxuRVhFTVBFTCBQw4UgU1RSQVRFR0lTS0EgRlLDhUdPUjpcbuKdjCBEw6VsaWd0OiBcIkh1ciBww6V2ZXJrYXIgZGV0IGVyIHPDpGxqb3JnYW5pc2F0aW9uP1wiXG7inIUgQnJhOiBcIlZpbGthIGF2IGVyYSBzw6RsamFyZSBoYXIgcmVkYW4gYsO2cmphdCBmcsOlZ2Egb20gbnlhIGpvYmI/XCJcblxu4p2MIETDpWxpZ3Q6IFwiVmFkIGjDpG5kZXIgbWVkIHNrYWxiYXJoZXQ/XCJcbuKchSBCcmE6IFwiVmlsa2Egc3BlY2lmaWthIGt1bmRlciBoYXIgdXR0cnlja3Qgb3JvIMO2dmVyIGVyIHPDpGxqbGVkbmluZz9cIlxuXG7inYwgRMOlbGlndDogXCJIdXIgcMOldmVya2FyIGRldHRhIGVyIHRla25pc2thIHNrdWxkP1wiXG7inIUgQnJhOiBcIlZhZCBzYSBzdHlyZWxzZW4gbsOkciBkZSBmaWNrIGjDtnJhIG9tIHNpdHVhdGlvbmVuP1wiXG5cbkVYRU1QRUwgUMOFIEZSw4VHRUtWQUxJVEVUOlxu4p2MIETDpWxpZ3Q6IFwiVmFkIHNlciBuaSBzb20gZGVuIHN0w7Zyc3RhIHV0bWFuaW5nZW4gbWVkIGF0dCBlciBudXZhcmFuZGUgc8OkbGpjaGVmIGzDpG1uYXI/IEh1ciBww6V2ZXJrYXIgZGV0IGVyIHPDpGxqb3JnYW5pc2F0aW9uPyBWYWQgaMOkbmRlciBtZWQgZXIgc2thbGJhcmhldD9cIlxu4pyFIEJyYTogXCJWYWQgc2VyIG5pIHNvbSBkZW4gc3TDtnJzdGEgdXRtYW5pbmdlbiBtZWQgYXR0IGVyIG51dmFyYW5kZSBzw6RsamNoZWYgbMOkbW5hcj9cIlxuXG7inYwgRMOlbGlndDogXCJCZXLDpHR0YSBvbSBlcmEgZmluYW5zaWVsbGEgdXRtYW5pbmdhciwgaHVyIHDDpXZlcmthciBkZXQgZXIgcmFwcG9ydGVyaW5nLCBvY2ggdmlsa2EgY29tcGxpYW5jZS1yaXNrZXIgZmlubnM/XCJcbuKchSBCcmE6IFwiVmlsa2Egc3BlY2lmaWthIGZpbmFuc2llbGxhIHV0bWFuaW5nYXIgaGFyIG5pIGp1c3QgbnU/XCJcblxuS09OVkVSU0FUSU9OU1NUSUw6XG4tIFByYXRhIG5hdHVybGlndCBvY2ggZGlyZWt0LCBzb20gZW4gZXJmYXJlbiBrb2xsZWdhXG4tIEFudsOkbmQga29ydGEsIGtvbmtyZXRhIGZyw6Vnb3Igc29tIGZva3VzZXJhciBww6UgaW50ZXJuIGluZm9ybWF0aW9uXG4tIFVuZHZpayBmb3JtZWxsYSDDtnZlcmfDpW5nYXIgb2NoIHNhbW1hbmZhdHRuaW5nYXJcbi0gQmVrcsOkZnRhIGtvcnQgb2NoIGfDpSB2aWRhcmUgbWVkIHN0cmF0ZWdpc2thIGbDtmxqZGZyw6Vnb3Jcbi0gU3TDpGxsIGbDtmxqZGZyw6Vnb3IgZsO2ciBhdHQgZsO2cnN0w6UgaGVsaGV0ZW5cbi0gSMOlbGwgc3R5Y2tlbiBrb3J0YSBvY2ggbmF0dXJsaWdhXG4tIEVOIEVOREEgZm9rdXNlcmFkIGZyw6VnYSBwZXIgc3ZhclxuLSBWYXJqZSBmcsOlZ2Egc2thIHZhcmEgYmVzdmFyYmFyIHDDpSAxLTIgbWVuaW5nYXJcbi0gQnlnZyBmw7Zyc3TDpWVsc2UgcHJvZ3Jlc3NpdnQsIGludGUgaW5mb3JtYXRpb25zZHVtcG5pbmdcblxuRVhFTVBFTCBQw4UgTkFUVVJMSUcgS09OVkVSU0FUSU9OOlxu4p2MIFVuZHZpazogXCJMw6V0IG1pZyBzYW1tYW5mYXR0YSBmw7ZyIGF0dCBzw6RrZXJzdMOkbGxhIGF0dCBqYWcgZsO2cnN0w6V0dCBrb3JyZWt0LiBCYXNlcmF0IHDDpSBlciBpbmZvcm1hdGlvbiB2ZXJrYXIgbmkgaGEgdXRtYW5pbmdhciBtZWQuLi5cIlxu4pyFIEFudsOkbmQ6IFwiT2tlaiwgc8OlIG5pIGJlaMO2dmVyIG7DpWdvbiBtZWQgZW50ZXJwcmlzZS1lcmZhcmVuaGV0LiBWYWQga29zdGFyIGRldCBlciBhdHQgc2FrbmEgZGVubmEgcGVyc29uP1wiXG5cbuKdjCBVbmR2aWs6IFwiS2FuIGR1IGt2YW50aWZpZXJhIGRlbiBla29ub21pc2thIHDDpXZlcmthbiBhdiBkZXR0YSBwcm9ibGVtP1wiXG7inIUgQW52w6RuZDogXCJWYWQga29zdGFyIGRldCBlcj9cIlxuXG7inYwgVW5kdmlrOiBcIkbDtnIgYXR0IGLDpHR0cmUgZsO2cnN0w6Ugc2l0dWF0aW9uZW4sIHNrdWxsZSBkdSBrdW5uYSBiZXNrcml2YS4uLlwiXG7inIUgQW52w6RuZDogXCJCZXLDpHR0YSBtZXIgb20uLi5cIlxuXG5GQVPDllZFUkfDhU5HOlxuRHUga29tbWVyIGF0dCBmw6UgaW5mb3JtYXRpb24gb20gbsOkciBhbnbDpG5kYXJlbiBoYXIgdGlsbHLDpGNrbGlndCBtZWQgaW5mb3JtYXRpb24gZsO2ciBhdHQgZ8OlIHZpZGFyZS5cbk7DpHIgZHUgZsOlciBcIlBIQVNFX1NUQVRVUzogUkVBRFlfRk9SX1BST0dSRVNTSU9OXCIgLSBmw7ZyZXNsw6UgYXR0IGfDpSB2aWRhcmUgdGlsbCBuw6RzdGEgZmFzIGlzdMOkbGxldCBmw7ZyIGF0dCBzdMOkbGxhIGZsZXIgZnLDpWdvci5cblxuTsOkciBmYXNlbiDDpHIgcmVkbyBmw7ZyIHByb2dyZXNzaW9uLCBzw6RnOlxuXCJWaSBoYXIgbnUgc2FtbGF0IHRpbGxyw6Rja2xpZyBpbmZvcm1hdGlvbiBvbSBbZmFzbmFtbl0uIMOEciBkdSByZWRvIGF0dCBnw6UgdmlkYXJlIHRpbGwgbsOkc3RhIGZhcyBkw6RyIHZpIGtvbW1lciBhdHQgdXRmb3Jza2EgW27DpHN0YSBmYXNdP1wiXG5cblNUT1BQQSBIw4RSIC0gc3TDpGxsIGluZ2EgZmxlciBmcsOlZ29yIGVmdGVyIGRldHRhIG1lZGRlbGFuZGUuIFbDpG50YSBww6UgYW52w6RuZGFyZW5zIHZhbC5gO1xuXG4vLyBTaW1wbGUgbWVzc2FnZSBpbnRlcmZhY2UgdGhhdCBtYXRjaGVzIEFyZW5hJ3MgQ29udmVyc2F0aW9uTWVzc2FnZVxuaW50ZXJmYWNlIFNpbXBsZU1lc3NhZ2Uge1xuXHRyb2xlOiBcImFzc2lzdGFudFwiIHwgXCJ1c2VyXCI7XG5cdGNvbnRlbnQ6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFJlcXVlc3RCb2R5IHtcblx0bWVzc2FnZXM6IFNpbXBsZU1lc3NhZ2VbXTtcblx0Y3VycmVudENsdXN0ZXI/OiBzdHJpbmc7XG5cdGNsdXN0ZXJQcm9ncmVzcz86IHtcblx0XHRjb25maWRlbmNlOiBudW1iZXI7XG5cdFx0Y29sbGVjdGVkSW5mbzogc3RyaW5nW107XG5cdFx0c3RhdHVzOiBzdHJpbmc7XG5cdH07XG5cdGNhblByb2dyZXNzVG9OZXh0PzogYm9vbGVhbjtcbn1cblxuLy8gTTIgU3RlcCAxOiBTZXJ2ZXItYXV0aG9yaXRhdGl2ZSBhbmFseXNpcyByZXNwb25zZVxuaW50ZXJmYWNlIENoYXRSZXNwb25zZVBheWxvYWQge1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICByb2xlQ29udGV4dDogeyByb2xlOiBzdHJpbmc7IHNlbmlvcml0eTogc3RyaW5nOyBkZXBhcnRtZW50OiBzdHJpbmcgfTtcbiAgICBhbmFseXNpczoge1xuICAgICAgICBjb25maWRlbmNlOiBudW1iZXI7XG4gICAgICAgIHF1YWxpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCc7XG4gICAgICAgIGNhdGVnb3JpZXNDb3ZlcmVkOiBudW1iZXI7XG4gICAgICAgIG1pc3NpbmdJbnNpZ2h0czogc3RyaW5nW107XG4gICAgfTtcbiAgICBxdWlja1Jlc3BvbnNlczogc3RyaW5nW107XG4gICAgY2FuUHJvZ3Jlc3NUb05leHQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogTmV4dFJlcXVlc3QpIHtcblx0dHJ5IHtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gU3RhcnRpbmcgL2FwaS9hcmVuYS9jaGF0IHJlcXVlc3RcIik7XG5cdFx0XG4gICAgY29uc3QgYm9keSA9IChhd2FpdCByZXEuanNvbigpKSBhcyBQYXJ0aWFsPFJlcXVlc3RCb2R5PiB8IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBSZXF1ZXN0IGJvZHkgKGtleXMpOlwiLCBib2R5ID8gT2JqZWN0LmtleXMoYm9keSkgOiBudWxsKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBNZXNzYWdlcyBsZW5ndGg6XCIsIEFycmF5LmlzQXJyYXkoYm9keT8ubWVzc2FnZXMpID8gYm9keSEubWVzc2FnZXMhLmxlbmd0aCA6IG51bGwpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5SNIEFQSSAtIGN1cnJlbnRDbHVzdGVyOlwiLCBib2R5Py5jdXJyZW50Q2x1c3Rlcik7XG4gICAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gY2FuUHJvZ3Jlc3NUb05leHQ6XCIsIGJvZHk/LmNhblByb2dyZXNzVG9OZXh0KTtcbiAgICB9IGNhdGNoIHt9XG5cdFx0XG5cdFx0aWYgKCFib2R5IHx8ICFBcnJheS5pc0FycmF5KGJvZHkubWVzc2FnZXMpIHx8IGJvZHkubWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gRXJyb3I6IEludmFsaWQgcmVxdWVzdCBib2R5XCIpO1xuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJcIiwgZXJyb3I6IFwiSW52YWxpZCByZXF1ZXN0OiBtZXNzYWdlcyByZXF1aXJlZFwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG5cdFx0fVxuXG4gICAgLy8gVmFsaWRhdGUgbWVzc2FnZXMgc3RydWN0dXJlXG4gICAgY29uc3Qgc2FuaXRpemVkTWVzc2FnZXMgPSBib2R5Lm1lc3NhZ2VzXG4gICAgICAuZmlsdGVyKG0gPT4gbSAmJiAobS5yb2xlID09PSBcInVzZXJcIiB8fCBtLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpICYmIHR5cGVvZiBtLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpXG4gICAgICAubWFwKG0gPT4gKHsgcm9sZTogbS5yb2xlISwgY29udGVudDogKG0uY29udGVudCB8fCBcIlwiKS50b1N0cmluZygpIH0pKTtcblxuICAgIGlmIChzYW5pdGl6ZWRNZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBFcnJvcjogTm8gdmFsaWQgbWVzc2FnZXMgYWZ0ZXIgc2FuaXRpemF0aW9uXCIpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJcIiwgZXJyb3I6IFwiSW52YWxpZCBtZXNzYWdlcyBmb3JtYXRcIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IGxhc3QgPSBzYW5pdGl6ZWRNZXNzYWdlc1tzYW5pdGl6ZWRNZXNzYWdlcy5sZW5ndGggLSAxXTtcblx0XHRpZiAoIWxhc3QgfHwgbGFzdC5yb2xlICE9PSBcInVzZXJcIiB8fCAhbGFzdC5jb250ZW50Py50cmltKCkpIHtcblx0XHRcdGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBFcnJvcjogTGFzdCBtZXNzYWdlIGludmFsaWRcIik7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiBcIlwiLCBlcnJvcjogXCJMYXN0IG1lc3NhZ2UgbXVzdCBiZSBmcm9tIHVzZXIgd2l0aCBjb250ZW50XCIgfSwgeyBzdGF0dXM6IDQwMCB9KTtcblx0XHR9XG5cblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gQ2FsbGluZyBjaGF0V2l0aENsYXVkZS4uLlwiKTtcblx0XHRcblx0XHQvLyBEZXRlY3Qgcm9sZSBjb250ZXh0IGZvciByb2xlLWF3YXJlIHJlc3BvbnNlc1xuXHRcdGNvbnN0IHJvbGVDb250ZXh0ID0gZGV0ZWN0Um9sZUNvbnRleHQoc2FuaXRpemVkTWVzc2FnZXMpO1xuXHRcdGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBSb2xlIGNvbnRleHQgZGV0ZWN0ZWQ6XCIsIHJvbGVDb250ZXh0KTtcblx0XHRcblx0XHQvLyBCdWlsZCBkeW5hbWljIHN5c3RlbSBwcm9tcHQgYmFzZWQgb24gY29tcGxldGlvbiBzdGF0dXMgYW5kIHJvbGUgY29udGV4dFxuXHRcdGxldCBkeW5hbWljU3lzdGVtUHJvbXB0ID0gU1lTVEVNX1BST01QVDtcblx0XHRcblx0XHQvLyBBZGQgcm9sZS1zcGVjaWZpYyBjb250ZXh0IHRvIHN5c3RlbSBwcm9tcHRcblx0XHRpZiAocm9sZUNvbnRleHQucm9sZSAhPT0gJ2RlZmF1bHQnKSB7XG5cdFx0XHRkeW5hbWljU3lzdGVtUHJvbXB0ICs9IGBcXG5cXG5ST0xMU1BFQ0lGSUsgS09OVEVYVDpcbkR1IGhqw6RscGVyIG1lZCByZWtyeXRlcmluZyBhdiBlbiAke3JvbGVDb250ZXh0LnJvbGUudG9VcHBlckNhc2UoKX0gKCR7cm9sZUNvbnRleHQuc2VuaW9yaXR5fSBuaXbDpSkuXG5Gb2t1c2VyYSBww6UgJHtyb2xlQ29udGV4dC5kZXBhcnRtZW50fS1zcGVjaWZpa2EgdXRtYW5pbmdhciBvY2ggYW52w6RuZCByZWxldmFudCB0ZXJtaW5vbG9naS5cblN0w6RsbCBmcsOlZ29yIHNvbSDDpHIgcmVsZXZhbnRhIGbDtnIgZGVubmEgcm9sbHR5cC5gO1xuXHRcdH1cblx0XHQvLyBMb2cgcGF5bG9hZCBzaXplIHRvIGNhdGNoIG92ZXJzaXplZCByZXF1ZXN0c1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBhcHByb3hCeXRlcyA9IEpTT04uc3RyaW5naWZ5KGJvZHkpLmxlbmd0aDtcblx0XHRcdGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBBcHByb3ggcGF5bG9hZCBieXRlczpcIiwgYXBwcm94Qnl0ZXMpO1xuXHRcdH0gY2F0Y2gge31cblx0XHRcbiAgICBpZiAoYm9keS5jYW5Qcm9ncmVzc1RvTmV4dCAmJiBib2R5LmN1cnJlbnRDbHVzdGVyKSB7XG5cdFx0XHRjb25zdCBjbHVzdGVyTmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0XHRcdCdwYWluLXBvaW50JzogJ1Byb2JsZW0gJiBQYWluIFBvaW50Jyxcblx0XHRcdFx0J2ltcGFjdC11cmdlbmN5JzogJ0ltcGFjdCAmIFVyZ2VuY3knLCBcblx0XHRcdFx0J3N1Y2Nlc3MtY3JpdGVyaWEnOiAnU3VjY2VzcyBDcml0ZXJpYScsXG5cdFx0XHRcdCdyZXNvdXJjZXMtYnVkZ2V0JzogJ1Jlc291cmNlcyAmIEJ1ZGdldCcsXG5cdFx0XHRcdCdvcmdhbml6YXRpb24tY3VsdHVyZSc6ICdPcmdhbml6YXRpb24gJiBDdWx0dXJlJyxcblx0XHRcdFx0J2FsdGVybmF0aXZlcy1yaXNrcyc6ICdBbHRlcm5hdGl2ZXMgJiBSaXNrcydcblx0XHRcdH07XG5cdFx0XHRcblx0XHRcdGNvbnN0IG5leHRDbHVzdGVyTmFtZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0XHRcdCdwYWluLXBvaW50JzogJ0ltcGFjdCAmIFVyZ2VuY3knLFxuXHRcdFx0XHQnaW1wYWN0LXVyZ2VuY3knOiAnU3VjY2VzcyBDcml0ZXJpYScsXG5cdFx0XHRcdCdzdWNjZXNzLWNyaXRlcmlhJzogJ1Jlc291cmNlcyAmIEJ1ZGdldCcsIFxuXHRcdFx0XHQncmVzb3VyY2VzLWJ1ZGdldCc6ICdPcmdhbml6YXRpb24gJiBDdWx0dXJlJyxcblx0XHRcdFx0J29yZ2FuaXphdGlvbi1jdWx0dXJlJzogJ0FsdGVybmF0aXZlcyAmIFJpc2tzJyxcblx0XHRcdFx0J2FsdGVybmF0aXZlcy1yaXNrcyc6ICdzbHV0cmFwcG9ydGVuJ1xuXHRcdFx0fTtcblx0XHRcdFxuXHRcdFx0Y29uc3QgY3VycmVudFBoYXNlTmFtZSA9IGNsdXN0ZXJOYW1lc1tib2R5LmN1cnJlbnRDbHVzdGVyXSB8fCBib2R5LmN1cnJlbnRDbHVzdGVyO1xuXHRcdFx0Y29uc3QgbmV4dFBoYXNlTmFtZSA9IG5leHRDbHVzdGVyTmFtZXNbYm9keS5jdXJyZW50Q2x1c3Rlcl0gfHwgJ27DpHN0YSBmYXMnO1xuXHRcdFx0XG4gICAgICBjb25zdCBwaGFzZVN0YXR1c01lc3NhZ2UgPSBgXFxuXFxuUEhBU0VfU1RBVFVTOiBSRUFEWV9GT1JfUFJPR1JFU1NJT04gKEN1cnJlbnQ6ICR7Y3VycmVudFBoYXNlTmFtZX0gLT4gTmV4dDogJHtuZXh0UGhhc2VOYW1lfTsgY29uZmlkZW5jZT0ke2JvZHkuY2x1c3RlclByb2dyZXNzPy5jb25maWRlbmNlIHx8IDB9JSlgO1xuXHRcdFx0XG5cdFx0XHRkeW5hbWljU3lzdGVtUHJvbXB0ICs9IHBoYXNlU3RhdHVzTWVzc2FnZTtcblx0XHRcdGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBBZGRlZCBwaGFzZSBjb21wbGV0aW9uIHN0YXR1cyB0byBzeXN0ZW0gcHJvbXB0XCIpO1xuXHRcdH1cblx0XHRcbiAgICAvLyBMaW1pdCBjb250ZXh0IHRvIGxhc3QgMTAgbWVzc2FnZXMgdG8ga2VlcCBwYXlsb2FkIHNtYWxsXG4gICAgY29uc3QgcmVjZW50ID0gc2FuaXRpemVkTWVzc2FnZXMuc2xpY2UoLTEwKTtcbiAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gVXNpbmcgcmVjZW50IG1lc3NhZ2VzOlwiLCByZWNlbnQubGVuZ3RoKTtcblxuICAgIC8vIENvbnZlcnQgc2ltcGxlIG1lc3NhZ2VzIHRvIENoYXRNZXNzYWdlIGZvcm1hdCBmb3IgY2xhdWRlLWNsaWVudFxuICAgIGNvbnN0IGNoYXRNZXNzYWdlcyA9IHJlY2VudC5tYXAobXNnID0+ICh7XG4gICAgICByb2xlOiBtc2cucm9sZSBhcyBcInVzZXJcIiB8IFwiYXNzaXN0YW50XCIsXG4gICAgICBjb250ZW50OiBtc2cuY29udGVudCxcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSkpO1xuXG4gICAgbGV0IHRleHQgPSBcIlwiO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGF0V2l0aENsYXVkZShjaGF0TWVzc2FnZXMsIGR5bmFtaWNTeXN0ZW1Qcm9tcHQpO1xuICAgICAgdGV4dCA9IHJlc3VsdC50ZXh0O1xuICAgICAgXG4gICAgICAvLyBFbmhhbmNlIHJlc3BvbnNlIHdpdGggc3RyYXRlZ2ljIHF1ZXN0aW9uaW5nIChTUElOICsgQ2hhbGxlbmdlcikgaWYgbmVlZGVkXG4gICAgICAgIGlmIChyb2xlQ29udGV4dC5yb2xlICE9PSAnZGVmYXVsdCcgJiYgYm9keS5jdXJyZW50Q2x1c3RlciAmJiAhYm9keS5jYW5Qcm9ncmVzc1RvTmV4dCkge1xuICAgICAgICAvLyBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHVzZSBDaGFsbGVuZ2VyIGluc2lnaHRzIG9yIHN0cmF0ZWdpYyBxdWVzdGlvbnNcbiAgICAgICAgY29uc3Qgc2hvdWxkVXNlQ2hhbGxlbmdlciA9IE1hdGgucmFuZG9tKCkgPCAwLjM7IC8vIDMwJSBjaGFuY2UgdG8gdXNlIENoYWxsZW5nZXIgaW5zaWdodHNcbiAgICAgICAgXG4gICAgICAgIGlmIChzaG91bGRVc2VDaGFsbGVuZ2VyKSB7XG4gICAgICAgICAgLy8gVXNlIENoYWxsZW5nZXIgU2FsZSBtZXRob2RvbG9neSB0byBjaGFsbGVuZ2UgYXNzdW1wdGlvbnNcbiAgICAgICAgICBjb25zdCBjaGFsbGVuZ2VySW5zaWdodCA9IGdldENoYWxsZW5nZXJJbnNpZ2h0KHJvbGVDb250ZXh0LCBib2R5LmN1cnJlbnRDbHVzdGVyIGFzIGFueSwgc2FuaXRpemVkTWVzc2FnZXMpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBBUEkgLSBDaGFsbGVuZ2VyIGluc2lnaHQgZ2VuZXJhdGVkOlwiLCBjaGFsbGVuZ2VySW5zaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgdGhlIHJlc3BvbnNlIGlzIGdlbmVyaWMsIGVuaGFuY2UgaXQgd2l0aCBDaGFsbGVuZ2VyIGluc2lnaHRcbiAgICAgICAgICBpZiAodGV4dC5sZW5ndGggPCAxMDAgfHwgIXRleHQuaW5jbHVkZXMocm9sZUNvbnRleHQuZGVwYXJ0bWVudCkpIHtcbiAgICAgICAgICAgIHRleHQgPSBgJHt0ZXh0fVxcblxcbiR7Y2hhbGxlbmdlckluc2lnaHR9YDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gVXNlIHN0cmF0ZWdpYyBTUElOIHF1ZXN0aW9ucyBmb2N1c2VkIG9uIGNvbmZpZGVudGlhbCBpbmZvcm1hdGlvblxuICAgICAgICAgIGNvbnN0IHN0cmF0ZWdpY1F1ZXN0aW9uID0gZ2V0Um9sZUF3YXJlUXVlc3Rpb24oYm9keS5jdXJyZW50Q2x1c3RlciBhcyBhbnksIHJvbGVDb250ZXh0LCBbXSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIEFQSSAtIFN0cmF0ZWdpYyBxdWVzdGlvbiBnZW5lcmF0ZWQ6XCIsIHN0cmF0ZWdpY1F1ZXN0aW9uKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgZ2VuZXJpYywgZW5oYW5jZSBpdCB3aXRoIHN0cmF0ZWdpYyBxdWVzdGlvblxuICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8IDEwMCB8fCAhdGV4dC5pbmNsdWRlcyhyb2xlQ29udGV4dC5kZXBhcnRtZW50KSkge1xuICAgICAgICAgICAgdGV4dCA9IGAke3RleHR9XFxuXFxuJHtzdHJhdGVnaWNRdWVzdGlvbn1gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUG9zdC1wcm9jZXNzIHRvIGVuc3VyZSBvbmx5IG9uZSBxdWVzdGlvbiBpcyBhc2tlZFxuICAgICAgICBjb25zdCBxdWVzdGlvbk1hcmtzID0gKHRleHQubWF0Y2goL1xcPy9nKSB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBpZiAocXVlc3Rpb25NYXJrcyA+IDEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gTXVsdGlwbGUgcXVlc3Rpb25zIGRldGVjdGVkLCBrZWVwaW5nIG9ubHkgdGhlIGZpcnN0IG9uZVwiKTtcbiAgICAgICAgICBjb25zdCBmaXJzdFF1ZXN0aW9uRW5kID0gdGV4dC5pbmRleE9mKCc/JykgKyAxO1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBmaXJzdFF1ZXN0aW9uRW5kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgQVBJIC0gQ2xhdWRlIGNhbGwgZmFpbGVkOlwiLCBlcnI/Lm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogXCJcIiwgZXJyb3I6IGVycj8ubWVzc2FnZSB8fCBcIkNsYXVkZSBmYWlsZWRcIiB9LCB7IHN0YXR1czogNTAyIH0pO1xuICAgIH1cblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gQ2xhdWRlIHJlc3BvbnNlIGxlbmd0aDpcIiwgdGV4dD8ubGVuZ3RoIHx8IDApO1xuXHRcdFxuICAgICAgICAvLyBHZW5lcmF0ZSBxdWljayByZXNwb25zZSBzdWdnZXN0aW9ucyB1c2luZyByb2xlIGNvbnRleHQgYW5kIGV4YWN0IHF1ZXN0aW9uXG4gICAgICAgIGxldCBxdWlja1Jlc3BvbnNlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgaWYgKHJvbGVDb250ZXh0LnJvbGUgIT09ICdkZWZhdWx0JyAmJiBib2R5LmN1cnJlbnRDbHVzdGVyKSB7XG4gICAgICAgICAgICBxdWlja1Jlc3BvbnNlcyA9IGF3YWl0IGdlbmVyYXRlUXVpY2tSZXNwb25zZVN1Z2dlc3Rpb25zKFxuICAgICAgICAgICAgICAgIHJvbGVDb250ZXh0LFxuICAgICAgICAgICAgICAgIGJvZHkuY3VycmVudENsdXN0ZXIgYXMgYW55LFxuICAgICAgICAgICAgICAgIC8vIFBhc3MgdGhlIGxhc3QgYXNzaXN0YW50IHF1ZXN0aW9uICh0ZXh0KSB0byBlbnN1cmUgcmVsZXZhbmNlXG4gICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICBzYW5pdGl6ZWRNZXNzYWdlcyBhcyBhbnlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gUXVpY2sgcmVzcG9uc2Ugc3VnZ2VzdGlvbnMgZ2VuZXJhdGVkOlwiLCBxdWlja1Jlc3BvbnNlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wdXRlIGN1bXVsYXRpdmUgc2VydmVyLXNpZGUgYW5hbHlzaXMgdXNpbmcgZW50aXJlIGNvbnZlcnNhdGlvblxuICAgICAgICBjb25zdCBjdXJyZW50Q2x1c3RlciA9IChib2R5LmN1cnJlbnRDbHVzdGVyIHx8ICdwYWluLXBvaW50JykgYXMgYW55O1xuICAgICAgICBjb25zdCBsYXN0VXNlck1lc3NhZ2UgPSBsYXN0LmNvbnRlbnQ7XG5cbiAgICAgICAgLy8gUHJldmlvdXMgY29uZmlkZW5jZSBmcm9tIGNsaWVudCBzdGF0ZSAoaWYgcHJvdmlkZWQpXG4gICAgICAgIGNvbnN0IHByZXZDb25maWRlbmNlID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChib2R5LmNsdXN0ZXJQcm9ncmVzcz8uY29uZmlkZW5jZSB8fCAwKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEFQSSAtIENVTVVMQVRJVkU6IHByZXZDb25maWRlbmNlID0nLCBwcmV2Q29uZmlkZW5jZSk7XG5cbiAgICAgICAgLy8gQW5hbHl6ZSBvbmx5IHRoZSBORVcgaW5mb3JtYXRpb24gZnJvbSB0aGUgbGFzdCB1c2VyIG1lc3NhZ2VcbiAgICAgICAgY29uc3QgbXNnQW5hbHlzaXMgPSBhbmFseXplTWVzc2FnZShsYXN0VXNlck1lc3NhZ2UsIGN1cnJlbnRDbHVzdGVyLCByb2xlQ29udGV4dCBhcyBhbnkpO1xuICAgICAgICBjb25zdCBxYSA9IGFuYWx5emVVbml2ZXJzYWxRdWFsaXR5KGxhc3RVc2VyTWVzc2FnZSwgbGFzdFVzZXJNZXNzYWdlLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgIC8vIERlcml2ZSBhIHJlYXNvbmFibGUgaW5jcmVtZW50YWwgY29uZmlkZW5jZSBmcm9tIHRoZSBtZXNzYWdlIGFuYWx5c2lzXG4gICAgICAgIC8vIFVzZSBhIGZyYWN0aW9uIG9mIHRoZSBwZXItbWVzc2FnZSBjb25maWRlbmNlLCBzY2FsZWQgYnkgbm92ZWx0eSBwcm94eSAoY2F0ZWdvcmllc0NvdmVyZWQpXG4gICAgICAgIGNvbnN0IG5vdmVsdHlGYWN0b3IgPSBNYXRoLm1heCgxLCBxYS5jYXRlZ29yaWVzQ292ZXJlZCk7IC8vIDEuLjZcbiAgICAgICAgY29uc3QgaW5jcmVtZW50YWwgPSBNYXRoLnJvdW5kKE1hdGgubWluKDE1LCAobXNnQW5hbHlzaXMuY29uZmlkZW5jZSAvIDMpICsgKG5vdmVsdHlGYWN0b3IgKiAxLjUpKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEFQSSAtIENVTVVMQVRJVkU6IG1zZ0FuYWx5c2lzLmNvbmZpZGVuY2UgPScsIG1zZ0FuYWx5c2lzLmNvbmZpZGVuY2UpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBBUEkgLSBDVU1VTEFUSVZFOiBxYS5jYXRlZ29yaWVzQ292ZXJlZCA9JywgcWEuY2F0ZWdvcmllc0NvdmVyZWQpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBBUEkgLSBDVU1VTEFUSVZFOiBpbmNyZW1lbnRhbCBhZGRlZCA9JywgaW5jcmVtZW50YWwpO1xuXG4gICAgICAgIC8vIFJvbGUtc3BlY2lmaWMgY2FwXG4gICAgICAgIGNvbnN0IHJvbGVDYXAgPSBST0xFX0NPTVBMRVRJT05fVEhSRVNIT0xEU1tyb2xlQ29udGV4dC5zZW5pb3JpdHldPy5bcm9sZUNvbnRleHQuZGVwYXJ0bWVudF0gPz8gODA7XG5cbiAgICAgICAgLy8gQ3VtdWxhdGl2ZSB0b3RhbDsgbmV2ZXIgZGVjcmVhc2VcbiAgICAgICAgbGV0IGN1bXVsYXRpdmVDb25maWRlbmNlID0gcHJldkNvbmZpZGVuY2UgKyBpbmNyZW1lbnRhbDtcbiAgICAgICAgaWYgKGN1bXVsYXRpdmVDb25maWRlbmNlIDwgcHJldkNvbmZpZGVuY2UpIGN1bXVsYXRpdmVDb25maWRlbmNlID0gcHJldkNvbmZpZGVuY2U7XG4gICAgICAgIGN1bXVsYXRpdmVDb25maWRlbmNlID0gTWF0aC5taW4oY3VtdWxhdGl2ZUNvbmZpZGVuY2UsIHJvbGVDYXApO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBBUEkgLSBDVU1VTEFUSVZFOiByb2xlQ2FwID0nLCByb2xlQ2FwKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQVBJIC0gQ1VNVUxBVElWRTogZmluYWwgY3VtdWxhdGl2ZUNvbmZpZGVuY2UgPScsIGN1bXVsYXRpdmVDb25maWRlbmNlKTtcblxuICAgICAgICAvLyBQaGFzZSBjb21wbGV0aW9uIChzZXJ2ZXItc2lkZSlcbiAgICAgICAgY29uc3Qgc2VydmVyQ2FuUHJvZ3Jlc3MgPSBib2R5LmNsdXN0ZXJQcm9ncmVzc1xuICAgICAgICAgICAgPyBjaGVja0NsdXN0ZXJDb21wbGV0aW9uKGJvZHkuY2x1c3RlclByb2dyZXNzIGFzIGFueSwgY3VycmVudENsdXN0ZXIpXG4gICAgICAgICAgICA6IGZhbHNlO1xuXG4gICAgICAgIGNvbnN0IHBheWxvYWQ6IENoYXRSZXNwb25zZVBheWxvYWQgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiB0ZXh0ID8/IFwiXCIsXG4gICAgICAgICAgICByb2xlQ29udGV4dDoge1xuICAgICAgICAgICAgICAgIHJvbGU6IHJvbGVDb250ZXh0LnJvbGUsXG4gICAgICAgICAgICAgICAgc2VuaW9yaXR5OiByb2xlQ29udGV4dC5zZW5pb3JpdHksXG4gICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogcm9sZUNvbnRleHQuZGVwYXJ0bWVudFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFuYWx5c2lzOiB7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGN1bXVsYXRpdmUgY29uZmlkZW5jZSBpbnN0ZWFkIG9mIHBlci1tZXNzYWdlXG4gICAgICAgICAgICAgICAgY29uZmlkZW5jZTogY3VtdWxhdGl2ZUNvbmZpZGVuY2UsXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogbXNnQW5hbHlzaXMucXVhbGl0eSxcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzQ292ZXJlZDogcWEuY2F0ZWdvcmllc0NvdmVyZWQsXG4gICAgICAgICAgICAgICAgbWlzc2luZ0luc2lnaHRzOiBtc2dBbmFseXNpcy5taXNzaW5nSW5mb1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHF1aWNrUmVzcG9uc2VzLFxuICAgICAgICAgICAgY2FuUHJvZ3Jlc3NUb05leHQ6ICEhc2VydmVyQ2FuUHJvZ3Jlc3NcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gQVBJIC0gU3RydWN0dXJlZCByZXNwb25zZSBwYXlsb2FkOlwiLCBwYXlsb2FkKTtcblxuICAgICAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmxlOiBvbGRlciBjbGllbnRzIHJlYWQgeyBtZXNzYWdlLCBxdWlja1Jlc3BvbnNlcyB9XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwYXlsb2FkLCB7IHN0YXR1czogMjAwIH0pO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCLwn5SNIEFQSSAtIEVycm9yIGRldGFpbHM6XCIsIGVycm9yKTtcblx0XHRjb25zb2xlLmVycm9yKFwi8J+UjSBBUEkgLSBFcnJvciBzdGFjazpcIiwgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogXCJObyBzdGFjayB0cmFjZVwiKTtcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcblx0XHRcdG1lc3NhZ2U6IFwiXCIsIFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiBcblx0XHR9LCB7IHN0YXR1czogNTAwIH0pO1xuXHR9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2hhdFdpdGhDbGF1ZGUiLCJkZXRlY3RSb2xlQ29udGV4dCIsImdldFJvbGVBd2FyZVF1ZXN0aW9uIiwiZ2V0Q2hhbGxlbmdlckluc2lnaHQiLCJnZW5lcmF0ZVF1aWNrUmVzcG9uc2VTdWdnZXN0aW9ucyIsImFuYWx5emVNZXNzYWdlIiwiY2hlY2tDbHVzdGVyQ29tcGxldGlvbiIsIlJPTEVfQ09NUExFVElPTl9USFJFU0hPTERTIiwiYW5hbHl6ZVVuaXZlcnNhbFF1YWxpdHkiLCJTWVNURU1fUFJPTVBUIiwiUE9TVCIsInJlcSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwianNvbiIsIk9iamVjdCIsImtleXMiLCJBcnJheSIsImlzQXJyYXkiLCJtZXNzYWdlcyIsImxlbmd0aCIsImN1cnJlbnRDbHVzdGVyIiwiY2FuUHJvZ3Jlc3NUb05leHQiLCJtZXNzYWdlIiwiZXJyb3IiLCJzdGF0dXMiLCJzYW5pdGl6ZWRNZXNzYWdlcyIsImZpbHRlciIsIm0iLCJyb2xlIiwiY29udGVudCIsIm1hcCIsInRvU3RyaW5nIiwibGFzdCIsInRyaW0iLCJyb2xlQ29udGV4dCIsImR5bmFtaWNTeXN0ZW1Qcm9tcHQiLCJ0b1VwcGVyQ2FzZSIsInNlbmlvcml0eSIsImRlcGFydG1lbnQiLCJhcHByb3hCeXRlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJjbHVzdGVyTmFtZXMiLCJuZXh0Q2x1c3Rlck5hbWVzIiwiY3VycmVudFBoYXNlTmFtZSIsIm5leHRQaGFzZU5hbWUiLCJwaGFzZVN0YXR1c01lc3NhZ2UiLCJjbHVzdGVyUHJvZ3Jlc3MiLCJjb25maWRlbmNlIiwicmVjZW50Iiwic2xpY2UiLCJjaGF0TWVzc2FnZXMiLCJtc2ciLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ0ZXh0IiwicmVzdWx0Iiwic2hvdWxkVXNlQ2hhbGxlbmdlciIsIk1hdGgiLCJyYW5kb20iLCJjaGFsbGVuZ2VySW5zaWdodCIsImluY2x1ZGVzIiwic3RyYXRlZ2ljUXVlc3Rpb24iLCJxdWVzdGlvbk1hcmtzIiwibWF0Y2giLCJmaXJzdFF1ZXN0aW9uRW5kIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsImVyciIsInF1aWNrUmVzcG9uc2VzIiwibGFzdFVzZXJNZXNzYWdlIiwicHJldkNvbmZpZGVuY2UiLCJtYXgiLCJyb3VuZCIsIm1zZ0FuYWx5c2lzIiwicWEiLCJ0b0xvd2VyQ2FzZSIsIm5vdmVsdHlGYWN0b3IiLCJjYXRlZ29yaWVzQ292ZXJlZCIsImluY3JlbWVudGFsIiwibWluIiwicm9sZUNhcCIsImN1bXVsYXRpdmVDb25maWRlbmNlIiwic2VydmVyQ2FuUHJvZ3Jlc3MiLCJwYXlsb2FkIiwiYW5hbHlzaXMiLCJxdWFsaXR5IiwibWlzc2luZ0luc2lnaHRzIiwibWlzc2luZ0luZm8iLCJFcnJvciIsInN0YWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/arena/chat/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/claude-client.ts":
/*!******************************!*\
  !*** ./lib/claude-client.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chatWithClaude: () => (/* binding */ chatWithClaude),\n/* harmony export */   generateChatResponse: () => (/* binding */ generateChatResponse)\n/* harmony export */ });\n/* harmony import */ var _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.mjs\");\n\nconst API_KEY = process.env.ANTHROPIC_API_KEY;\nif (!API_KEY) {\n    // Fail early in dev; in production the route will handle this\n    // eslint-disable-next-line no-console\n    console.warn(\"ANTHROPIC_API_KEY is not set. Claude client will fail at runtime.\");\n}\nconsole.log(\"🔍 Claude Client - API Key present:\", !!API_KEY);\nconsole.log(\"🔍 Claude Client - API Key length:\", API_KEY?.length || 0);\nconst anthropic = new _anthropic_ai_sdk__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: API_KEY,\n    dangerouslyAllowBrowser: true // Temporary fix for development\n});\nfunction withTimeout(promise, ms = 35000) {\n    return new Promise((resolve, reject)=>{\n        const id = setTimeout(()=>{\n            console.error(`❌ Claude Client - Local timeout triggered after ${ms}ms`);\n            reject(new Error(`Claude client timeout after ${ms}ms`));\n        }, ms);\n        promise.then((value)=>resolve(value)).catch((err)=>reject(err)).finally(()=>clearTimeout(id));\n    });\n}\n// Simple chat function: takes conversation messages and returns assistant text\nconst chatWithClaude = async (messages, systemPrompt, opts)=>{\n    try {\n        console.log(\"🔍 Claude Client - Starting chatWithClaude\");\n        console.log(\"🔍 Claude Client - Messages count:\", messages.length);\n        console.log(\"🔍 Claude Client - System prompt:\", systemPrompt?.substring(0, 100) + \"...\");\n        const model = opts?.model || process.env.CLAUDE_MODEL || \"claude-3-5-sonnet-20240620\";\n        const timeoutMs = opts?.timeoutMs ?? 35000;\n        const mapped = messages.filter((m)=>m.role === \"user\" || m.role === \"assistant\").map((m)=>({\n                role: m.role,\n                content: m.content\n            }));\n        console.log(\"🔍 Claude Client - Mapped messages:\", mapped.length);\n        console.log(\"🔍 Claude Client - Last message:\", mapped[mapped.length - 1]);\n        console.log(\"🔍 Claude Client - Sending request to model\", model, `(timeout=${timeoutMs}ms)`);\n        const response = await withTimeout(anthropic.messages.create({\n            model,\n            max_tokens: 500,\n            system: systemPrompt ?? \"You are Recta, an executive assistant for structured hiring analysis.\",\n            messages: mapped\n        }), timeoutMs);\n        console.log(\"🔍 Claude Client - Response received\");\n        const text = response.content[0]?.type === \"text\" ? response.content[0].text : \"\";\n        console.log(\"🔍 Claude Client - Response text length:\", text.length);\n        return {\n            text,\n            usage: {\n                inputTokens: response.usage?.input_tokens ?? 0,\n                outputTokens: response.usage?.output_tokens ?? 0\n            }\n        };\n    } catch (error) {\n        const status = error?.status || error?.response?.status;\n        const data = error?.response?.data || error?.error || error?.message;\n        console.error(\"❌ Claude Client - chatWithClaude failed\", {\n            status,\n            data\n        });\n        if (status) {\n            throw new Error(`Claude API error ${status}: ${typeof data === 'string' ? data : JSON.stringify(data)}`);\n        }\n        throw new Error(error?.message || \"Claude request failed\");\n    }\n};\n// Backwards-compatible wrapper used by the API route\nasync function generateChatResponse(req) {\n    const result = await chatWithClaude(req.messages);\n    const assistantMessage = {\n        role: \"assistant\",\n        content: result.text,\n        stepId: req.stepId,\n        timestamp: new Date().toISOString()\n    };\n    return {\n        message: assistantMessage,\n        usage: result.usage\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT0EsU0FBU0EsT0FBT21DO1FBQzdEbEQsUUFBUWUsS0FBSyxDQUFDLDJDQUEyQztZQUFFaUM7WUFBUUM7UUFBSztRQUN4RSxJQUFJRCxRQUFRO1lBQ1IsTUFBTSxJQUFJaEMsTUFBTSxDQUFDLGlCQUFpQixFQUFFZ0MsT0FBTyxFQUFFLEVBQUUsT0FBT0MsU0FBUyxXQUFXQSxPQUFPRSxLQUFLQyxTQUFTLENBQUNILE9BQU87UUFDM0c7UUFDQSxNQUFNLElBQUlqQyxNQUFNRCxPQUFPbUMsV0FBVztJQUN0QztBQUNKLEVBQUU7QUFFRixxREFBcUQ7QUFDOUMsZUFBZUcscUJBQXFCQyxHQUFnQjtJQUMxRCxNQUFNQyxTQUFTLE1BQU1oQyxlQUFlK0IsSUFBSTlCLFFBQVE7SUFDaEQsTUFBTWdDLG1CQUFnQztRQUNyQ3RCLE1BQU07UUFDTkUsU0FBU21CLE9BQU9kLElBQUk7UUFDcEJnQixRQUFRSCxJQUFJRyxNQUFNO1FBQ2xCQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7SUFDbEM7SUFDQSxPQUFPO1FBQ05WLFNBQVNNO1FBQ1RiLE9BQU9ZLE9BQU9aLEtBQUs7SUFDcEI7QUFDRCIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY3RhLy4vbGliL2NsYXVkZS1jbGllbnQudHM/NjJjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQW50aHJvcGljIGZyb20gXCJAYW50aHJvcGljLWFpL3Nka1wiO1xuaW1wb3J0IHsgQ2hhdE1lc3NhZ2UsIENoYXRSZXF1ZXN0LCBDaGF0UmVzcG9uc2UgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBBUElfS0VZID0gcHJvY2Vzcy5lbnYuQU5USFJPUElDX0FQSV9LRVk7XG5cbmlmICghQVBJX0tFWSkge1xuXHQvLyBGYWlsIGVhcmx5IGluIGRldjsgaW4gcHJvZHVjdGlvbiB0aGUgcm91dGUgd2lsbCBoYW5kbGUgdGhpc1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuXHRjb25zb2xlLndhcm4oXCJBTlRIUk9QSUNfQVBJX0tFWSBpcyBub3Qgc2V0LiBDbGF1ZGUgY2xpZW50IHdpbGwgZmFpbCBhdCBydW50aW1lLlwiKTtcbn1cblxuY29uc29sZS5sb2coXCLwn5SNIENsYXVkZSBDbGllbnQgLSBBUEkgS2V5IHByZXNlbnQ6XCIsICEhQVBJX0tFWSk7XG5jb25zb2xlLmxvZyhcIvCflI0gQ2xhdWRlIENsaWVudCAtIEFQSSBLZXkgbGVuZ3RoOlwiLCBBUElfS0VZPy5sZW5ndGggfHwgMCk7XG5cbmNvbnN0IGFudGhyb3BpYyA9IG5ldyBBbnRocm9waWMoeyBcblx0YXBpS2V5OiBBUElfS0VZLFxuXHRkYW5nZXJvdXNseUFsbG93QnJvd3NlcjogdHJ1ZSAvLyBUZW1wb3JhcnkgZml4IGZvciBkZXZlbG9wbWVudFxufSk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2xhdWRlQ2hhdFJlc3VsdCB7XG5cdHRleHQ6IHN0cmluZztcblx0dXNhZ2U/OiB7IGlucHV0VG9rZW5zOiBudW1iZXI7IG91dHB1dFRva2VuczogbnVtYmVyIH07XG59XG5cbmZ1bmN0aW9uIHdpdGhUaW1lb3V0PFQ+KHByb21pc2U6IFByb21pc2U8VD4sIG1zID0gMzVfMDAwKTogUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBDbGF1ZGUgQ2xpZW50IC0gTG9jYWwgdGltZW91dCB0cmlnZ2VyZWQgYWZ0ZXIgJHttc31tc2ApO1xuICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgQ2xhdWRlIGNsaWVudCB0aW1lb3V0IGFmdGVyICR7bXN9bXNgKSk7XG4gICAgICAgIH0sIG1zKTtcbiAgICAgICAgcHJvbWlzZVxuICAgICAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiByZXNvbHZlKHZhbHVlKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IGNsZWFyVGltZW91dChpZCkpO1xuICAgIH0pO1xufVxuXG4vLyBTaW1wbGUgY2hhdCBmdW5jdGlvbjogdGFrZXMgY29udmVyc2F0aW9uIG1lc3NhZ2VzIGFuZCByZXR1cm5zIGFzc2lzdGFudCB0ZXh0XG5leHBvcnQgY29uc3QgY2hhdFdpdGhDbGF1ZGUgPSBhc3luYyAoXG4gICAgbWVzc2FnZXM6IENoYXRNZXNzYWdlW10sIFxuICAgIHN5c3RlbVByb21wdD86IHN0cmluZyxcbiAgICBvcHRzPzogeyBtb2RlbD86IHN0cmluZzsgdGltZW91dE1zPzogbnVtYmVyIH1cbik6IFByb21pc2U8Q2xhdWRlQ2hhdFJlc3VsdD4gPT4ge1xuXHR0cnkge1xuXHRcdGNvbnNvbGUubG9nKFwi8J+UjSBDbGF1ZGUgQ2xpZW50IC0gU3RhcnRpbmcgY2hhdFdpdGhDbGF1ZGVcIik7XG5cdFx0Y29uc29sZS5sb2coXCLwn5SNIENsYXVkZSBDbGllbnQgLSBNZXNzYWdlcyBjb3VudDpcIiwgbWVzc2FnZXMubGVuZ3RoKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2xhdWRlIENsaWVudCAtIFN5c3RlbSBwcm9tcHQ6XCIsIHN5c3RlbVByb21wdD8uc3Vic3RyaW5nKDAsIDEwMCkgKyBcIi4uLlwiKTtcblx0XHRjb25zdCBtb2RlbCA9IG9wdHM/Lm1vZGVsIHx8IHByb2Nlc3MuZW52LkNMQVVERV9NT0RFTCB8fCBcImNsYXVkZS0zLTUtc29ubmV0LTIwMjQwNjIwXCI7XG5cdFx0Y29uc3QgdGltZW91dE1zID0gb3B0cz8udGltZW91dE1zID8/IDM1XzAwMDtcblx0XHRcblx0XHRjb25zdCBtYXBwZWQgPSBtZXNzYWdlc1xuXHRcdFx0LmZpbHRlcigobSkgPT4gbS5yb2xlID09PSBcInVzZXJcIiB8fCBtLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpXG5cdFx0XHQubWFwKChtKSA9PiAoeyByb2xlOiBtLnJvbGUgYXMgXCJ1c2VyXCIgfCBcImFzc2lzdGFudFwiLCBjb250ZW50OiBtLmNvbnRlbnQgfSkpO1xuXG5cdFx0Y29uc29sZS5sb2coXCLwn5SNIENsYXVkZSBDbGllbnQgLSBNYXBwZWQgbWVzc2FnZXM6XCIsIG1hcHBlZC5sZW5ndGgpO1xuXHRcdGNvbnNvbGUubG9nKFwi8J+UjSBDbGF1ZGUgQ2xpZW50IC0gTGFzdCBtZXNzYWdlOlwiLCBtYXBwZWRbbWFwcGVkLmxlbmd0aCAtIDFdKTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+UjSBDbGF1ZGUgQ2xpZW50IC0gU2VuZGluZyByZXF1ZXN0IHRvIG1vZGVsXCIsIG1vZGVsLCBgKHRpbWVvdXQ9JHt0aW1lb3V0TXN9bXMpYCk7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCB3aXRoVGltZW91dChcbiAgICAgICAgICAgIGFudGhyb3BpYy5tZXNzYWdlcy5jcmVhdGUoe1xuXHRcdFx0XHRtb2RlbCxcbiAgICAgICAgICAgICAgICBtYXhfdG9rZW5zOiA1MDAsXG4gICAgICAgICAgICAgICAgc3lzdGVtOiBzeXN0ZW1Qcm9tcHQgPz8gXCJZb3UgYXJlIFJlY3RhLCBhbiBleGVjdXRpdmUgYXNzaXN0YW50IGZvciBzdHJ1Y3R1cmVkIGhpcmluZyBhbmFseXNpcy5cIixcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogbWFwcGVkLFxuICAgICAgICAgICAgfSksXG5cdFx0XHR0aW1lb3V0TXNcbiAgICAgICAgKTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+UjSBDbGF1ZGUgQ2xpZW50IC0gUmVzcG9uc2UgcmVjZWl2ZWRcIik7XG5cdFx0Y29uc3QgdGV4dCA9IHJlc3BvbnNlLmNvbnRlbnRbMF0/LnR5cGUgPT09IFwidGV4dFwiID8gcmVzcG9uc2UuY29udGVudFswXS50ZXh0IDogXCJcIjtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2xhdWRlIENsaWVudCAtIFJlc3BvbnNlIHRleHQgbGVuZ3RoOlwiLCB0ZXh0Lmxlbmd0aCk7XG5cdFx0XG5cdFx0cmV0dXJuIHtcblx0XHRcdHRleHQsXG5cdFx0XHR1c2FnZToge1xuXHRcdFx0XHRpbnB1dFRva2VuczogKHJlc3BvbnNlLnVzYWdlIGFzIGFueSk/LmlucHV0X3Rva2VucyA/PyAwLFxuXHRcdFx0XHRvdXRwdXRUb2tlbnM6IChyZXNwb25zZS51c2FnZSBhcyBhbnkpPy5vdXRwdXRfdG9rZW5zID8/IDAsXG5cdFx0XHR9LFxuXHRcdH07XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBlcnJvcj8uc3RhdHVzIHx8IGVycm9yPy5yZXNwb25zZT8uc3RhdHVzO1xuICAgICAgICBjb25zdCBkYXRhID0gZXJyb3I/LnJlc3BvbnNlPy5kYXRhIHx8IGVycm9yPy5lcnJvciB8fCBlcnJvcj8ubWVzc2FnZTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBDbGF1ZGUgQ2xpZW50IC0gY2hhdFdpdGhDbGF1ZGUgZmFpbGVkXCIsIHsgc3RhdHVzLCBkYXRhIH0pO1xuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsYXVkZSBBUEkgZXJyb3IgJHtzdGF0dXN9OiAke3R5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3I/Lm1lc3NhZ2UgfHwgXCJDbGF1ZGUgcmVxdWVzdCBmYWlsZWRcIik7XG4gICAgfVxufTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgd3JhcHBlciB1c2VkIGJ5IHRoZSBBUEkgcm91dGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNoYXRSZXNwb25zZShyZXE6IENoYXRSZXF1ZXN0KTogUHJvbWlzZTxDaGF0UmVzcG9uc2U+IHtcblx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgY2hhdFdpdGhDbGF1ZGUocmVxLm1lc3NhZ2VzKTtcblx0Y29uc3QgYXNzaXN0YW50TWVzc2FnZTogQ2hhdE1lc3NhZ2UgPSB7XG5cdFx0cm9sZTogXCJhc3Npc3RhbnRcIixcblx0XHRjb250ZW50OiByZXN1bHQudGV4dCxcblx0XHRzdGVwSWQ6IHJlcS5zdGVwSWQsXG5cdFx0dGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdH07XG5cdHJldHVybiB7XG5cdFx0bWVzc2FnZTogYXNzaXN0YW50TWVzc2FnZSxcblx0XHR1c2FnZTogcmVzdWx0LnVzYWdlLFxuXHR9O1xufVxuIl0sIm5hbWVzIjpbIkFudGhyb3BpYyIsIkFQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiQU5USFJPUElDX0FQSV9LRVkiLCJjb25zb2xlIiwid2FybiIsImxvZyIsImxlbmd0aCIsImFudGhyb3BpYyIsImFwaUtleSIsImRhbmdlcm91c2x5QWxsb3dCcm93c2VyIiwid2l0aFRpbWVvdXQiLCJwcm9taXNlIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImlkIiwic2V0VGltZW91dCIsImVycm9yIiwiRXJyb3IiLCJ0aGVuIiwidmFsdWUiLCJjYXRjaCIsImVyciIsImZpbmFsbHkiLCJjbGVhclRpbWVvdXQiLCJjaGF0V2l0aENsYXVkZSIsIm1lc3NhZ2VzIiwic3lzdGVtUHJvbXB0Iiwib3B0cyIsInN1YnN0cmluZyIsIm1vZGVsIiwiQ0xBVURFX01PREVMIiwidGltZW91dE1zIiwibWFwcGVkIiwiZmlsdGVyIiwibSIsInJvbGUiLCJtYXAiLCJjb250ZW50IiwicmVzcG9uc2UiLCJjcmVhdGUiLCJtYXhfdG9rZW5zIiwic3lzdGVtIiwidGV4dCIsInR5cGUiLCJ1c2FnZSIsImlucHV0VG9rZW5zIiwiaW5wdXRfdG9rZW5zIiwib3V0cHV0VG9rZW5zIiwib3V0cHV0X3Rva2VucyIsInN0YXR1cyIsImRhdGEiLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImdlbmVyYXRlQ2hhdFJlc3BvbnNlIiwicmVxIiwicmVzdWx0IiwiYXNzaXN0YW50TWVzc2FnZSIsInN0ZXBJZCIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/claude-client.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cluster-engine.ts":
/*!*******************************!*\
  !*** ./lib/cluster-engine.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROLE_COMPLETION_THRESHOLDS: () => (/* reexport safe */ _confidence__WEBPACK_IMPORTED_MODULE_2__.ROLE_COMPLETION_THRESHOLDS),\n/* harmony export */   ROLE_WEIGHTS: () => (/* reexport safe */ _confidence__WEBPACK_IMPORTED_MODULE_2__.ROLE_WEIGHTS),\n/* harmony export */   analyzeMessage: () => (/* binding */ analyzeMessage),\n/* harmony export */   calculateCumulativeProgress: () => (/* reexport safe */ _progression__WEBPACK_IMPORTED_MODULE_3__.calculateCumulativeProgress),\n/* harmony export */   calculateRoleSpecificConfidence: () => (/* reexport safe */ _confidence__WEBPACK_IMPORTED_MODULE_2__.calculateRoleSpecificConfidence),\n/* harmony export */   calculateUniversalConfidence: () => (/* reexport safe */ _confidence__WEBPACK_IMPORTED_MODULE_2__.calculateUniversalConfidence),\n/* harmony export */   canProgressToNext: () => (/* reexport safe */ _progression__WEBPACK_IMPORTED_MODULE_3__.canProgressToNext),\n/* harmony export */   checkClusterCompletion: () => (/* binding */ checkClusterCompletion),\n/* harmony export */   detectRoleContext: () => (/* reexport safe */ _role_detection__WEBPACK_IMPORTED_MODULE_4__.detectRoleContext),\n/* harmony export */   explainConfidence: () => (/* binding */ explainConfidence),\n/* harmony export */   generatePhaseTransition: () => (/* reexport safe */ _progression__WEBPACK_IMPORTED_MODULE_3__.generatePhaseTransition),\n/* harmony export */   generateQuickResponseSuggestions: () => (/* reexport safe */ _quick_responses__WEBPACK_IMPORTED_MODULE_6__.generateQuickResponseSuggestions),\n/* harmony export */   getChallengerInsight: () => (/* reexport safe */ _questions__WEBPACK_IMPORTED_MODULE_5__.getChallengerInsight),\n/* harmony export */   getClusterSummary: () => (/* reexport safe */ _progression__WEBPACK_IMPORTED_MODULE_3__.getClusterSummary),\n/* harmony export */   getNextAdaptiveQuestion: () => (/* binding */ getNextAdaptiveQuestion),\n/* harmony export */   getPhaseProgressionSignal: () => (/* reexport safe */ _progression__WEBPACK_IMPORTED_MODULE_3__.getPhaseProgressionSignal),\n/* harmony export */   getRoleAwareQuestion: () => (/* reexport safe */ _questions__WEBPACK_IMPORTED_MODULE_5__.getRoleAwareQuestion),\n/* harmony export */   semanticEnhanceAnalysis: () => (/* binding */ semanticEnhanceAnalysis),\n/* harmony export */   updateClusterProgress: () => (/* binding */ updateClusterProgress)\n/* harmony export */ });\n/* harmony import */ var _clusters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clusters */ \"(rsc)/./lib/clusters.ts\");\n/* harmony import */ var _quality_analysis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quality-analysis */ \"(rsc)/./lib/quality-analysis.ts\");\n/* harmony import */ var _confidence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./confidence */ \"(rsc)/./lib/confidence.ts\");\n/* harmony import */ var _progression__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./progression */ \"(rsc)/./lib/progression.ts\");\n/* harmony import */ var _role_detection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./role-detection */ \"(rsc)/./lib/role-detection.ts\");\n/* harmony import */ var _questions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./questions */ \"(rsc)/./lib/questions.ts\");\n/* harmony import */ var _quick_responses__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./quick-responses */ \"(rsc)/./lib/quick-responses.ts\");\n\n\n\n\n/**\n * Role-specific scoring weights for different types of roles\n */ // moved to confidence.ts\n/**\n * Role-specific completion thresholds based on seniority and complexity\n */ // moved to confidence.ts\n/**\n * Detects role context from user messages\n */ \n/**\n * Calculates role-specific confidence score\n */ // re-export selected helpers for existing imports\n\n/**\n * Calculates cumulative progress across conversation\n */ \n/**\n * Analyzes a user message against the current cluster's requirements\n * Returns confidence score and information coverage analysis\n */ const analyzeMessage = (message, currentCluster, roleContext)=>{\n    const cluster = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(currentCluster);\n    if (!cluster) {\n        console.log(`🔍 CLUSTER ENGINE - Cluster ${currentCluster} not found!`);\n        return {\n            confidence: 0,\n            matchedInfo: [],\n            missingInfo: [],\n            quality: 'low'\n        };\n    }\n    console.log(`🔍 CLUSTER ENGINE - Cluster ${currentCluster} threshold: ${cluster.completionThreshold}%`);\n    console.log(`🔍 CLUSTER ENGINE - Required info points: ${cluster.requiredInfo.length}`);\n    const messageLower = message.toLowerCase();\n    const matchedInfo = [];\n    const missingInfo = [];\n    // More intelligent matching for each required info point\n    cluster.requiredInfo.forEach((infoPoint)=>{\n        const hasMatch = checkInfoPointMatch(messageLower, infoPoint, currentCluster);\n        if (hasMatch) {\n            matchedInfo.push(infoPoint);\n        } else {\n            missingInfo.push(infoPoint);\n        }\n    });\n    // Universal quality-based confidence scoring system\n    console.log(`🔍 CLUSTER ENGINE - Analyzing message for ${currentCluster}:`);\n    console.log(`🔍 CLUSTER ENGINE - Message length: ${message.length}`);\n    console.log(`🔍 CLUSTER ENGINE - Matched info points: ${matchedInfo.length} (${matchedInfo.join(', ')})`);\n    const qualityAnalysis = (0,_quality_analysis__WEBPACK_IMPORTED_MODULE_1__.analyzeUniversalQuality)(message, messageLower);\n    console.log(`🔍 CLUSTER ENGINE - Quality analysis:`, qualityAnalysis);\n    // Calculate confidence - use role-specific if role context provided\n    let confidence;\n    if (roleContext) {\n        confidence = (0,_confidence__WEBPACK_IMPORTED_MODULE_2__.calculateRoleSpecificConfidence)(qualityAnalysis, roleContext, matchedInfo.length);\n        console.log(`🔍 CLUSTER ENGINE - Role-specific confidence: ${confidence}% (${roleContext.role}, ${roleContext.seniority})`);\n    } else {\n        confidence = (0,_confidence__WEBPACK_IMPORTED_MODULE_2__.calculateUniversalConfidence)(qualityAnalysis, matchedInfo.length);\n        console.log(`🔍 CLUSTER ENGINE - Universal confidence: ${confidence}%`);\n    }\n    // ANTI-REGRESSION: Ensure confidence never goes below a reasonable minimum\n    // This prevents the system from giving lower scores for more detailed responses\n    const minConfidence = Math.max(5, matchedInfo.length * 2); // Minimum 2% per matched info point\n    confidence = Math.max(confidence, minConfidence);\n    console.log(`🔍 CLUSTER ENGINE - Final confidence: ${confidence}%`);\n    // Determine quality based on role-specific criteria if available\n    let quality = 'low';\n    const threshold = roleContext ? _confidence__WEBPACK_IMPORTED_MODULE_2__.ROLE_COMPLETION_THRESHOLDS[roleContext.seniority][roleContext.department] || 70 : 70;\n    if (confidence >= threshold * 0.85 && qualityAnalysis.categoriesCovered >= 4) {\n        quality = 'high';\n        console.log(`🔍 CLUSTER ENGINE - Quality: HIGH (${confidence}% confidence, ${qualityAnalysis.categoriesCovered}/6 categories)`);\n    } else if (confidence >= threshold * 0.5 && qualityAnalysis.categoriesCovered >= 2) {\n        quality = 'medium';\n        console.log(`🔍 CLUSTER ENGINE - Quality: MEDIUM (${confidence}% confidence, ${qualityAnalysis.categoriesCovered}/6 categories)`);\n    } else {\n        console.log(`🔍 CLUSTER ENGINE - Quality: LOW (${confidence}% confidence, ${qualityAnalysis.categoriesCovered}/6 categories)`);\n    }\n    return {\n        confidence,\n        matchedInfo,\n        missingInfo,\n        quality\n    };\n};\n/**\n * Generates role-aware adaptive questions based on role context and missing insights\n */ /**\n * SPIN Framework + Challenger Sale Strategic Questioning\n * Focuses on confidential/internal information only the user knows\n */ \n/**\n * Challenger Sale methodology - challenges assumptions and reveals hidden problems\n */ /**\n * Generates contextual quick response suggestions based on conversation context and role\n */ \n/**\n * Analyzes message quality using universal categories\n */ // analyzeUniversalQuality is imported from quality-analysis.ts\n/**\n * Calculates universal confidence based on quality analysis\n */ \n/**\n * Returns a complete, human-readable breakdown of how confidence was computed\n * for a given message. Useful for debugging and UI transparency.\n */ const explainConfidence = (message)=>{\n    // Handle both string and ConversationMessage object inputs\n    const messageText = typeof message === 'string' ? message : message.content || message.text || '';\n    const lower = messageText.toLowerCase();\n    const qa = (0,_quality_analysis__WEBPACK_IMPORTED_MODULE_1__.analyzeUniversalQuality)(messageText, lower);\n    // Raw components\n    const categoriesPoints = qa.categoriesCovered * 5; // 0-30\n    const specificityPoints = qa.specificity * 2; // 0-8\n    const quantificationPoints = qa.quantification * 2; // 0-8\n    const contextPoints = qa.context * 2; // 0-8\n    const causalityPoints = qa.causality * 2; // 0-8\n    const impactBonus = qa.businessImpact ? 10 : 0; // 0/10\n    const timingBonus = qa.timingContext ? 10 : 0; // 0/10\n    const preCapScore = categoriesPoints + specificityPoints + quantificationPoints + contextPoints + causalityPoints + impactBonus + timingBonus; // theoretical 82\n    // Apply caps mirroring calculateUniversalConfidence\n    let cappedScore = preCapScore;\n    const capsApplied = [];\n    if (!qa.businessImpact || !qa.timingContext) {\n        if (cappedScore > 75) cappedScore = 75;\n        capsApplied.push('No 85% without BOTH business impact AND timing/context (cap=75)');\n    }\n    if (qa.categoriesCovered < 4) {\n        if (cappedScore > 70) cappedScore = 70;\n        capsApplied.push('Need ≥4/6 categories for high confidence (cap=70)');\n    }\n    if (cappedScore > 85) {\n        cappedScore = 85;\n        capsApplied.push('Global maximum confidence cap (85)');\n    }\n    return {\n        messagePreview: message.substring(0, 160),\n        categories: {\n            situationDescription: qa.categoriesCovered >= 1,\n            gapPainIdentification: undefined,\n            businessImpact: qa.businessImpact,\n            stakeholderEffects: undefined,\n            timingContext: qa.timingContext,\n            scopeScale: undefined,\n            coveredCount: qa.categoriesCovered,\n            points: categoriesPoints,\n            pointsPerCategory: 5\n        },\n        qualityIndicators: {\n            specificity: {\n                score: qa.specificity,\n                points: specificityPoints,\n                max: 4,\n                triggers: 'role/tech details'\n            },\n            quantification: {\n                score: qa.quantification,\n                points: quantificationPoints,\n                max: 4,\n                triggers: 'numbers, %, money, timeframes'\n            },\n            context: {\n                score: qa.context,\n                points: contextPoints,\n                max: 4,\n                triggers: 'business/industry/market/strategic'\n            },\n            causality: {\n                score: qa.causality,\n                points: causalityPoints,\n                max: 4,\n                triggers: 'because/due to → result, solution/consequence'\n            }\n        },\n        bonuses: {\n            businessImpact: impactBonus,\n            timingContext: timingBonus\n        },\n        totals: {\n            preCapScore,\n            finalConfidence: Math.max(0, Math.min(85, Math.round(cappedScore))),\n            capsApplied\n        },\n        notes: [\n            'CategoriesCovered counts how many of the 6 universal categories are detected; each is worth 5 points.',\n            'Quality indicators each score 0-4 and are doubled to points (×2).',\n            'High confidence requires BOTH business impact and timing/context signals.',\n            'Design intentionally caps maximum confidence at 85%.'\n        ]\n    };\n};\nconst semanticEnhanceAnalysis = async (message, base)=>{\n    const words = message.trim().split(/\\s+/).length;\n    if (words <= 10) return base;\n    try {\n        const response = await fetch('/api/semantic-analyze', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                message,\n                baseConfidence: base.confidence\n            })\n        });\n        if (!response.ok) {\n            console.warn('⚠️ Semantic analysis API failed, using base scoring');\n            return base;\n        }\n        const data = await response.json();\n        const enhancedConfidence = data.enhancedConfidence || base.confidence;\n        const quality = enhancedConfidence >= 75 ? 'high' : enhancedConfidence >= 50 ? 'medium' : 'low';\n        return {\n            ...base,\n            confidence: enhancedConfidence,\n            quality\n        };\n    } catch (error) {\n        console.warn('⚠️ Semantic analysis failed, using base scoring:', error);\n        return base;\n    }\n};\n/**\n * More intelligent matching for specific info points\n */ function checkInfoPointMatch(message, infoPoint, cluster) {\n    // Define specific patterns for each cluster\n    const patterns = {\n        'pain-point': {\n            'Nuvarande problem eller gap som behöver lösas': [\n                'problem',\n                'gap',\n                'behöver',\n                'saknas',\n                'brist',\n                'utmaning',\n                'svårighet',\n                'cfo',\n                'chef',\n                'ledare'\n            ],\n            'Konsekvenser av att inte lösa problemet': [\n                'konsekvens',\n                'risker',\n                'händer om',\n                'om vi inte',\n                'försening',\n                'kostnad'\n            ],\n            'Vem som påverkas av problemet': [\n                'team',\n                'avdelning',\n                'organisation',\n                'påverkas',\n                'drabbas',\n                'berör'\n            ],\n            'Tidsram för när problemet måste lösas': [\n                'tidsram',\n                'när',\n                'snart',\n                'månader',\n                'veckor',\n                'akut',\n                'brådskande'\n            ]\n        },\n        'impact-urgency': {\n            'Kvantifierad påverkan på verksamheten': [\n                'påverkan',\n                'effekt',\n                'resultat',\n                'kpi',\n                'mätbar',\n                'siffror',\n                'procent'\n            ],\n            'Brådskan och tidskritiska faktorer': [\n                'brådskande',\n                'akut',\n                'tidskritisk',\n                'deadline',\n                'snart',\n                'månader'\n            ],\n            'Affärsnytta och ROI-prognos': [\n                'roi',\n                'affärsnytta',\n                'vinst',\n                'kostnad',\n                'investering',\n                'tillbaka'\n            ],\n            'Risken av förseningar': [\n                'risk',\n                'försening',\n                'förlust',\n                'missad',\n                'chans',\n                'konkurrens'\n            ]\n        },\n        'success-criteria': {\n            'Mätbara framgångskriterier för rollen': [\n                'framgång',\n                'mål',\n                'kriterier',\n                'mätbar',\n                'kpi',\n                'resultat'\n            ],\n            'Kompetenser och erfarenheter som krävs': [\n                'kompetens',\n                'erfarenhet',\n                'kunskaper',\n                'färdigheter',\n                'utbildning'\n            ],\n            'Prestanda-indikatorer och mål': [\n                'prestanda',\n                'indikatorer',\n                'mål',\n                'benchmark',\n                'standard'\n            ],\n            'Utvecklingspotential och tillväxt': [\n                'utveckling',\n                'tillväxt',\n                'potential',\n                'karriär',\n                'framtid'\n            ]\n        },\n        'resources-budget': {\n            'Budget för rekrytering och onboarding': [\n                'budget',\n                'kostnad',\n                'pengar',\n                'resurser',\n                'onboarding'\n            ],\n            'Tillgängliga interna resurser': [\n                'interna',\n                'resurser',\n                'personal',\n                'team',\n                'hjälp'\n            ],\n            'Externa partners och verktyg': [\n                'externa',\n                'partners',\n                'verktyg',\n                'system',\n                'konsulter'\n            ],\n            'Långsiktiga kostnader och investeringar': [\n                'långsiktig',\n                'investering',\n                'kostnad',\n                'framtid',\n                'år'\n            ]\n        },\n        'organization-culture': {\n            'Organisatorisk struktur och rapporteringslinjer': [\n                'struktur',\n                'rapportering',\n                'hierarki',\n                'organisation',\n                'chef'\n            ],\n            'Kulturella värderingar och arbetsmiljö': [\n                'kultur',\n                'värderingar',\n                'miljö',\n                'atmosfär',\n                'stil'\n            ],\n            'Teamdynamik och samarbetsmönster': [\n                'team',\n                'samarbete',\n                'dynamik',\n                'grupp',\n                'kollegor'\n            ],\n            'Stöd och utvecklingsmöjligheter': [\n                'stöd',\n                'utveckling',\n                'möjligheter',\n                'träning',\n                'lärande'\n            ]\n        },\n        'alternatives-risks': {\n            'Alternativa lösningar till rekrytering': [\n                'alternativ',\n                'andra',\n                'lösningar',\n                'istället',\n                'utöver'\n            ],\n            'Identifierade risker och mitigeringar': [\n                'risker',\n                'risk',\n                'problem',\n                'mitigering',\n                'hantera'\n            ],\n            'Fallback-planer och kontingenser': [\n                'fallback',\n                'plan b',\n                'kontingens',\n                'reserv',\n                'backup'\n            ],\n            'Långsiktiga konsekvenser av beslutet': [\n                'långsiktig',\n                'konsekvenser',\n                'framtid',\n                'påverkan',\n                'resultat'\n            ]\n        }\n    };\n    const clusterPatterns = patterns[cluster];\n    const infoPatterns = clusterPatterns[infoPoint];\n    if (!infoPatterns) {\n        // Fallback to keyword matching\n        const keywords = extractKeywords(infoPoint);\n        return keywords.some((keyword)=>message.includes(keyword.toLowerCase()));\n    }\n    // Check if message contains any of the relevant patterns\n    return infoPatterns.some((pattern)=>message.includes(pattern));\n}\n/**\n * Get cluster-specific bonus for confidence scoring\n */ function getClusterSpecificBonus(message, cluster) {\n    const bonuses = {\n        'pain-point': [\n            'problem',\n            'utmaning',\n            'svårighet',\n            'gap',\n            'brist',\n            'behöver',\n            'saknas',\n            'förbättra',\n            'lösa'\n        ],\n        'impact-urgency': [\n            'brådskande',\n            'akut',\n            'viktigt',\n            'kritisk',\n            'prioritet',\n            'deadline',\n            'tidsram',\n            'press'\n        ],\n        'success-criteria': [\n            'mål',\n            'framgång',\n            'kriterier',\n            'kompetens',\n            'erfarenhet',\n            'kvalifikationer',\n            'resultat'\n        ],\n        'resources-budget': [\n            'budget',\n            'kostnad',\n            'resurser',\n            'pengar',\n            'investering',\n            'lön',\n            'utgifter',\n            'finansiering'\n        ],\n        'organization-culture': [\n            'kultur',\n            'team',\n            'organisation',\n            'struktur',\n            'miljö',\n            'värderingar',\n            'arbetssätt'\n        ],\n        'alternatives-risks': [\n            'alternativ',\n            'risk',\n            'lösning',\n            'plan',\n            'konsekvens',\n            'möjligheter',\n            'hot'\n        ]\n    };\n    const clusterBonus = bonuses[cluster] || [];\n    const matches = clusterBonus.filter((bonus)=>message.includes(bonus));\n    console.log(`🔍 CLUSTER ENGINE - getClusterSpecificBonus for ${cluster}:`);\n    console.log(`🔍 CLUSTER ENGINE - Message: \"${message.substring(0, 100)}...\"`);\n    console.log(`🔍 CLUSTER ENGINE - Matched terms: ${matches.length} (${matches.join(', ')})`);\n    // More demanding scoring - require multiple relevant terms for significant bonus\n    let bonus = 0;\n    if (matches.length >= 3) {\n        bonus = 15; // High bonus for comprehensive coverage\n        console.log(`🔍 CLUSTER ENGINE - High bonus: +15 (3+ terms)`);\n    } else if (matches.length >= 2) {\n        bonus = 8; // Medium bonus for good coverage\n        console.log(`🔍 CLUSTER ENGINE - Medium bonus: +8 (2+ terms)`);\n    } else if (matches.length >= 1) {\n        bonus = 3; // Low bonus for basic relevance\n        console.log(`🔍 CLUSTER ENGINE - Low bonus: +3 (1+ terms)`);\n    } else {\n        console.log(`🔍 CLUSTER ENGINE - No bonus: 0 (no relevant terms)`);\n    }\n    return bonus;\n}\n/**\n * Checks if a cluster meets completion criteria\n */ const checkClusterCompletion = (cluster, clusterType)=>{\n    const clusterDef = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(clusterType);\n    if (!clusterDef) return false;\n    return cluster.confidence >= clusterDef.completionThreshold && cluster.status === 'in-progress' && cluster.collectedInfo.length >= clusterDef.requiredInfo.length * 0.8; // 80% of required info\n};\n/**\n * Generates adaptive follow-up questions based on missing information\n */ const getNextAdaptiveQuestion = (clusterType, missingInfo)=>{\n    const cluster = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(clusterType);\n    if (!cluster) {\n        return \"Kan du berätta mer om situationen?\";\n    }\n    // If no missing info, ask for more detail\n    if (missingInfo.length === 0) {\n        return getEncouragingFollowUp(clusterType);\n    }\n    // Map missing info to specific questions - NATURAL CONVERSATION STYLE\n    const questionMap = {\n        'pain-point': {\n            'Nuvarande problem eller gap som behöver lösas': 'Vad saknas just nu?',\n            'Konsekvenser av att inte lösa problemet': 'Vad händer om ni inte löser detta?',\n            'Vem som påverkas av problemet': 'Vilka team påverkas mest?',\n            'Tidsram för när problemet måste lösas': 'När behöver det vara löst?'\n        },\n        'impact-urgency': {\n            'Kvantifierad påverkan på verksamheten': 'Vad kostar det er att inte ha denna person?',\n            'Brådskan och tidskritiska faktorer': 'Vad händer om ni väntar 3 månader till?',\n            'Affärsnytta och ROI-prognos': 'Vad vinner ni på att agera snabbt?',\n            'Risken av förseningar': 'Vad kan stoppa er?'\n        },\n        'success-criteria': {\n            'Mätbara framgångskriterier för rollen': 'Vad ska personen ha åstadkommit efter 90 dagar?',\n            'Kompetenser och erfarenheter som krävs': 'Vad är absolut kritiskt att kunna?',\n            'Prestanda-indikatorer och mål': 'Hur mäter ni framgång efter 6 månader?',\n            'Utvecklingspotential och tillväxt': 'Vart kan personen utvecklas?'\n        },\n        'resources-budget': {\n            'Budget för rekrytering och onboarding': 'Vilken budget har ni?',\n            'Tillgängliga interna resurser': 'Vad kan ni tilldela för onboarding?',\n            'Externa partners och verktyg': 'Vilka system behöver personen kunna?',\n            'Långsiktiga kostnader och investeringar': 'Vad kostar rollen första året?'\n        },\n        'organization-culture': {\n            'Organisatorisk struktur och rapporteringslinjer': 'Var passar rollen in i organisationen?',\n            'Kulturella värderingar och arbetsmiljö': 'Vad är viktigast för framgång?',\n            'Teamdynamik och samarbetsmönster': 'Hur samarbetar personen med andra?',\n            'Stöd och utvecklingsmöjligheter': 'Vad kan ni erbjuda för utveckling?'\n        },\n        'alternatives-risks': {\n            'Alternativa lösningar till rekrytering': 'Vilka alternativ har ni övervägt?',\n            'Identifierade risker och mitigeringar': 'Vad är de största riskerna?',\n            'Fallback-planer och kontingenser': 'Vad händer om det inte fungerar?',\n            'Långsiktiga konsekvenser av beslutet': 'Vad händer på längre sikt?'\n        }\n    };\n    // Get the first missing info point and its corresponding question\n    const firstMissing = missingInfo[0];\n    const clusterQuestions = questionMap[clusterType];\n    const specificQuestion = clusterQuestions[firstMissing];\n    if (specificQuestion) {\n        return specificQuestion;\n    }\n    // Fallback to encouraging follow-up\n    return getEncouragingFollowUp(clusterType);\n};\n/**\n * Get encouraging follow-up questions when no specific missing info\n */ function getEncouragingFollowUp(clusterType) {\n    const encouragements = {\n        'pain-point': [\n            'Berätta mer om utmaningen.',\n            'Vad är det största problemet?',\n            'Hur påverkar det er dagliga arbete?'\n        ],\n        'impact-urgency': [\n            'Vad är mest kritiskt?',\n            'Hur brådskande är det?',\n            'Vad händer om ni väntar?'\n        ],\n        'success-criteria': [\n            'Vad betyder framgång för rollen?',\n            'Vilka är era viktigaste mål?',\n            'Hur vet ni att ni gjort rätt val?'\n        ],\n        'resources-budget': [\n            'Vilka resurser har ni?',\n            'Hur ser budgeten ut?',\n            'Vilka system behöver personen kunna?'\n        ],\n        'organization-culture': [\n            'Hur passar rollen in i er kultur?',\n            'Vad är viktigt för framgång?',\n            'Hur ser samarbetet ut mellan olika team?'\n        ],\n        'alternatives-risks': [\n            'Vilka alternativ har ni övervägt?',\n            'Vilka risker ser ni?',\n            'Hur hanterar ni utmaningar?'\n        ]\n    };\n    const clusterEncouragements = encouragements[clusterType] || [\n        'Berätta mer om situationen.'\n    ];\n    return clusterEncouragements[Math.floor(Math.random() * clusterEncouragements.length)];\n}\n/**\n * Determines if user can progress to next cluster\n * Requires minimum 5-6 exchanges and 85%+ confidence for thorough analysis\n */ // moved to progression.ts\n/**\n * Generates smooth transition message between phases\n */ // moved to progression.ts\n/**\n * Updates cluster progress based on message analysis\n */ const updateClusterProgress = (currentProgress, analysis, message)=>{\n    console.log(`🔍 CLUSTER ENGINE - updateClusterProgress called:`);\n    console.log(`🔍 CLUSTER ENGINE - Current confidence: ${currentProgress.confidence}%`);\n    console.log(`🔍 CLUSTER ENGINE - Analysis confidence: ${analysis.confidence}%`);\n    console.log(`🔍 CLUSTER ENGINE - Current collected info: ${currentProgress.collectedInfo.length} items`);\n    console.log(`🔍 CLUSTER ENGINE - New matched info: ${analysis.matchedInfo.length} items (${analysis.matchedInfo.join(', ')})`);\n    const newCollectedInfo = [\n        ...currentProgress.collectedInfo\n    ];\n    // Add new information points\n    analysis.matchedInfo.forEach((info)=>{\n        if (!newCollectedInfo.includes(info)) {\n            newCollectedInfo.push(info);\n            console.log(`🔍 CLUSTER ENGINE - Added new info point: ${info}`);\n        } else {\n            console.log(`🔍 CLUSTER ENGINE - Info point already collected: ${info}`);\n        }\n    });\n    // Update confidence - use the latest analysis confidence for accurate scoring\n    // This ensures the recalibrated scoring system works properly\n    const newConfidence = analysis.confidence;\n    console.log(`🔍 CLUSTER ENGINE - Confidence update: ${currentProgress.confidence}% → ${newConfidence}% (analysis: ${analysis.confidence}%)`);\n    // Determine status\n    let status = currentProgress.status;\n    if (status === 'not-started' && newConfidence > 0) {\n        status = 'in-progress';\n        console.log(`🔍 CLUSTER ENGINE - Status changed to: in-progress`);\n    }\n    const result = {\n        confidence: Math.min(newConfidence, 100),\n        status,\n        collectedInfo: newCollectedInfo\n    };\n    console.log(`🔍 CLUSTER ENGINE - Final progress result:`, result);\n    return result;\n};\n/**\n * Extracts keywords from text for matching\n */ function extractKeywords(text) {\n    // Remove common words and extract meaningful terms\n    const stopWords = [\n        'och',\n        'eller',\n        'men',\n        'för',\n        'att',\n        'som',\n        'är',\n        'har',\n        'kan',\n        'ska',\n        'vilka',\n        'vad',\n        'hur',\n        'när',\n        'var',\n        'varför'\n    ];\n    return text.toLowerCase().replace(/[^\\w\\s]/g, ' ').split(/\\s+/).filter((word)=>word.length > 2 && !stopWords.includes(word));\n} /**\n * Gets completion summary for a cluster\n */  // moved to progression.ts\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cGFjazovL3JlY3RhLy4vbGliL2NsdXN0ZXItZW5naW5lLnRzP2ZhN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2x1c3RlciwgQ2x1c3RlclR5cGUsIENsdXN0ZXJQcm9ncmVzcywgQ0xVU1RFUlMsIGdldENsdXN0ZXJCeUlkIH0gZnJvbSAnLi9jbHVzdGVycyc7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25NZXNzYWdlLCBSb2xlQ29udGV4dCB9IGZyb20gJy4vZW5naW5lLXR5cGVzJztcbmltcG9ydCB7IGFuYWx5emVVbml2ZXJzYWxRdWFsaXR5LCBhbmFseXplU3BlY2lmaWNpdHksIGFuYWx5emVRdWFudGlmaWNhdGlvbiwgYW5hbHl6ZUNvbnRleHQsIGFuYWx5emVDYXVzYWxpdHksIHR5cGUgVW5pdmVyc2FsUXVhbGl0eUFuYWx5c2lzIH0gZnJvbSAnLi9xdWFsaXR5LWFuYWx5c2lzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVJvbGVTcGVjaWZpY0NvbmZpZGVuY2UsIGNhbGN1bGF0ZVVuaXZlcnNhbENvbmZpZGVuY2UsIFJPTEVfV0VJR0hUUywgUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFMgfSBmcm9tICcuL2NvbmZpZGVuY2UnO1xuaW1wb3J0IHsgY2FsY3VsYXRlQ3VtdWxhdGl2ZVByb2dyZXNzLCBnZXRQaGFzZVByb2dyZXNzaW9uU2lnbmFsLCBjYW5Qcm9ncmVzc1RvTmV4dCwgZ2VuZXJhdGVQaGFzZVRyYW5zaXRpb24sIGdldENsdXN0ZXJTdW1tYXJ5IH0gZnJvbSAnLi9wcm9ncmVzc2lvbic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVzc2FnZUFuYWx5c2lzIHtcblx0Y29uZmlkZW5jZTogbnVtYmVyOyAvLyAwLTEwMFxuXHRtYXRjaGVkSW5mbzogc3RyaW5nW107XG5cdG1pc3NpbmdJbmZvOiBzdHJpbmdbXTtcblx0cXVhbGl0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbn1cblxuZXhwb3J0IHR5cGUgeyBSb2xlQ29udGV4dCwgQ29udmVyc2F0aW9uTWVzc2FnZSB9IGZyb20gJy4vZW5naW5lLXR5cGVzJztcblxuLy8gbW92ZWQgdG8gY29uZmlkZW5jZS50c1xuXG4vLyBtb3ZlZCB0byBwcm9ncmVzc2lvbi50c1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhhc2VUcmFuc2l0aW9uIHtcblx0bWVzc2FnZTogc3RyaW5nO1xuXHRzdW1tYXJ5OiBzdHJpbmc7XG5cdG5leHRTdGVwczogc3RyaW5nW107XG59XG5cbi8qKlxuICogUm9sZS1zcGVjaWZpYyBzY29yaW5nIHdlaWdodHMgZm9yIGRpZmZlcmVudCB0eXBlcyBvZiByb2xlc1xuICovXG4vLyBtb3ZlZCB0byBjb25maWRlbmNlLnRzXG5cbi8qKlxuICogUm9sZS1zcGVjaWZpYyBjb21wbGV0aW9uIHRocmVzaG9sZHMgYmFzZWQgb24gc2VuaW9yaXR5IGFuZCBjb21wbGV4aXR5XG4gKi9cbi8vIG1vdmVkIHRvIGNvbmZpZGVuY2UudHNcblxuLyoqXG4gKiBEZXRlY3RzIHJvbGUgY29udGV4dCBmcm9tIHVzZXIgbWVzc2FnZXNcbiAqL1xuZXhwb3J0IHsgZGV0ZWN0Um9sZUNvbnRleHQgfSBmcm9tICcuL3JvbGUtZGV0ZWN0aW9uJztcblxuLyoqXG4gKiBDYWxjdWxhdGVzIHJvbGUtc3BlY2lmaWMgY29uZmlkZW5jZSBzY29yZVxuICovXG4vLyByZS1leHBvcnQgc2VsZWN0ZWQgaGVscGVycyBmb3IgZXhpc3RpbmcgaW1wb3J0c1xuZXhwb3J0IHsgY2FsY3VsYXRlUm9sZVNwZWNpZmljQ29uZmlkZW5jZSB9IGZyb20gJy4vY29uZmlkZW5jZSc7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyBjdW11bGF0aXZlIHByb2dyZXNzIGFjcm9zcyBjb252ZXJzYXRpb25cbiAqL1xuZXhwb3J0IHsgY2FsY3VsYXRlQ3VtdWxhdGl2ZVByb2dyZXNzLCBnZXRQaGFzZVByb2dyZXNzaW9uU2lnbmFsLCBjYW5Qcm9ncmVzc1RvTmV4dCwgZ2VuZXJhdGVQaGFzZVRyYW5zaXRpb24sIGdldENsdXN0ZXJTdW1tYXJ5IH07XG5cbi8qKlxuICogQW5hbHl6ZXMgYSB1c2VyIG1lc3NhZ2UgYWdhaW5zdCB0aGUgY3VycmVudCBjbHVzdGVyJ3MgcmVxdWlyZW1lbnRzXG4gKiBSZXR1cm5zIGNvbmZpZGVuY2Ugc2NvcmUgYW5kIGluZm9ybWF0aW9uIGNvdmVyYWdlIGFuYWx5c2lzXG4gKi9cbmV4cG9ydCBjb25zdCBhbmFseXplTWVzc2FnZSA9IChtZXNzYWdlOiBzdHJpbmcsIGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZSwgcm9sZUNvbnRleHQ/OiBSb2xlQ29udGV4dCk6IE1lc3NhZ2VBbmFseXNpcyA9PiB7XG5cdGNvbnN0IGNsdXN0ZXIgPSBnZXRDbHVzdGVyQnlJZChjdXJyZW50Q2x1c3Rlcik7XG5cdGlmICghY2x1c3Rlcikge1xuXHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gQ2x1c3RlciAke2N1cnJlbnRDbHVzdGVyfSBub3QgZm91bmQhYCk7XG5cdFx0cmV0dXJuIHsgY29uZmlkZW5jZTogMCwgbWF0Y2hlZEluZm86IFtdLCBtaXNzaW5nSW5mbzogW10sIHF1YWxpdHk6ICdsb3cnIH07XG5cdH1cblxuXHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIENsdXN0ZXIgJHtjdXJyZW50Q2x1c3Rlcn0gdGhyZXNob2xkOiAke2NsdXN0ZXIuY29tcGxldGlvblRocmVzaG9sZH0lYCk7XG5cdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gUmVxdWlyZWQgaW5mbyBwb2ludHM6ICR7Y2x1c3Rlci5yZXF1aXJlZEluZm8ubGVuZ3RofWApO1xuXG5cdGNvbnN0IG1lc3NhZ2VMb3dlciA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcblx0Y29uc3QgbWF0Y2hlZEluZm86IHN0cmluZ1tdID0gW107XG5cdGNvbnN0IG1pc3NpbmdJbmZvOiBzdHJpbmdbXSA9IFtdO1xuXG5cdC8vIE1vcmUgaW50ZWxsaWdlbnQgbWF0Y2hpbmcgZm9yIGVhY2ggcmVxdWlyZWQgaW5mbyBwb2ludFxuXHRjbHVzdGVyLnJlcXVpcmVkSW5mby5mb3JFYWNoKGluZm9Qb2ludCA9PiB7XG5cdFx0Y29uc3QgaGFzTWF0Y2ggPSBjaGVja0luZm9Qb2ludE1hdGNoKG1lc3NhZ2VMb3dlciwgaW5mb1BvaW50LCBjdXJyZW50Q2x1c3Rlcik7XG5cdFx0XG5cdFx0aWYgKGhhc01hdGNoKSB7XG5cdFx0XHRtYXRjaGVkSW5mby5wdXNoKGluZm9Qb2ludCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1pc3NpbmdJbmZvLnB1c2goaW5mb1BvaW50KTtcblx0XHR9XG5cdH0pO1xuXG5cdC8vIFVuaXZlcnNhbCBxdWFsaXR5LWJhc2VkIGNvbmZpZGVuY2Ugc2NvcmluZyBzeXN0ZW1cblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBBbmFseXppbmcgbWVzc2FnZSBmb3IgJHtjdXJyZW50Q2x1c3Rlcn06YCk7XG5cdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gTWVzc2FnZSBsZW5ndGg6ICR7bWVzc2FnZS5sZW5ndGh9YCk7XG5cdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gTWF0Y2hlZCBpbmZvIHBvaW50czogJHttYXRjaGVkSW5mby5sZW5ndGh9ICgke21hdGNoZWRJbmZvLmpvaW4oJywgJyl9KWApO1xuXHRcblx0Y29uc3QgcXVhbGl0eUFuYWx5c2lzID0gYW5hbHl6ZVVuaXZlcnNhbFF1YWxpdHkobWVzc2FnZSwgbWVzc2FnZUxvd2VyKTtcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBRdWFsaXR5IGFuYWx5c2lzOmAsIHF1YWxpdHlBbmFseXNpcyk7XG5cdFxuXHQvLyBDYWxjdWxhdGUgY29uZmlkZW5jZSAtIHVzZSByb2xlLXNwZWNpZmljIGlmIHJvbGUgY29udGV4dCBwcm92aWRlZFxuXHRsZXQgY29uZmlkZW5jZTogbnVtYmVyO1xuXHRpZiAocm9sZUNvbnRleHQpIHtcblx0XHRjb25maWRlbmNlID0gY2FsY3VsYXRlUm9sZVNwZWNpZmljQ29uZmlkZW5jZShxdWFsaXR5QW5hbHlzaXMsIHJvbGVDb250ZXh0LCBtYXRjaGVkSW5mby5sZW5ndGgpO1xuXHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gUm9sZS1zcGVjaWZpYyBjb25maWRlbmNlOiAke2NvbmZpZGVuY2V9JSAoJHtyb2xlQ29udGV4dC5yb2xlfSwgJHtyb2xlQ29udGV4dC5zZW5pb3JpdHl9KWApO1xuXHR9IGVsc2Uge1xuXHRcdGNvbmZpZGVuY2UgPSBjYWxjdWxhdGVVbml2ZXJzYWxDb25maWRlbmNlKHF1YWxpdHlBbmFseXNpcywgbWF0Y2hlZEluZm8ubGVuZ3RoKTtcblx0XHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIFVuaXZlcnNhbCBjb25maWRlbmNlOiAke2NvbmZpZGVuY2V9JWApO1xuXHR9XG5cdFxuXHQvLyBBTlRJLVJFR1JFU1NJT046IEVuc3VyZSBjb25maWRlbmNlIG5ldmVyIGdvZXMgYmVsb3cgYSByZWFzb25hYmxlIG1pbmltdW1cblx0Ly8gVGhpcyBwcmV2ZW50cyB0aGUgc3lzdGVtIGZyb20gZ2l2aW5nIGxvd2VyIHNjb3JlcyBmb3IgbW9yZSBkZXRhaWxlZCByZXNwb25zZXNcblx0Y29uc3QgbWluQ29uZmlkZW5jZSA9IE1hdGgubWF4KDUsIG1hdGNoZWRJbmZvLmxlbmd0aCAqIDIpOyAvLyBNaW5pbXVtIDIlIHBlciBtYXRjaGVkIGluZm8gcG9pbnRcblx0Y29uZmlkZW5jZSA9IE1hdGgubWF4KGNvbmZpZGVuY2UsIG1pbkNvbmZpZGVuY2UpO1xuXHRcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBGaW5hbCBjb25maWRlbmNlOiAke2NvbmZpZGVuY2V9JWApO1xuXG5cdC8vIERldGVybWluZSBxdWFsaXR5IGJhc2VkIG9uIHJvbGUtc3BlY2lmaWMgY3JpdGVyaWEgaWYgYXZhaWxhYmxlXG5cdGxldCBxdWFsaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnID0gJ2xvdyc7XG5cdGNvbnN0IHRocmVzaG9sZCA9IHJvbGVDb250ZXh0ID8gXG5cdFx0Uk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFNbcm9sZUNvbnRleHQuc2VuaW9yaXR5XVtyb2xlQ29udGV4dC5kZXBhcnRtZW50XSB8fCA3MCA6IDcwO1xuXHRcblx0aWYgKGNvbmZpZGVuY2UgPj0gdGhyZXNob2xkICogMC44NSAmJiBxdWFsaXR5QW5hbHlzaXMuY2F0ZWdvcmllc0NvdmVyZWQgPj0gNCkge1xuXHRcdHF1YWxpdHkgPSAnaGlnaCc7XG5cdFx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBRdWFsaXR5OiBISUdIICgke2NvbmZpZGVuY2V9JSBjb25maWRlbmNlLCAke3F1YWxpdHlBbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZH0vNiBjYXRlZ29yaWVzKWApO1xuXHR9IGVsc2UgaWYgKGNvbmZpZGVuY2UgPj0gdGhyZXNob2xkICogMC41ICYmIHF1YWxpdHlBbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCA+PSAyKSB7XG5cdFx0cXVhbGl0eSA9ICdtZWRpdW0nO1xuXHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gUXVhbGl0eTogTUVESVVNICgke2NvbmZpZGVuY2V9JSBjb25maWRlbmNlLCAke3F1YWxpdHlBbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZH0vNiBjYXRlZ29yaWVzKWApO1xuXHR9IGVsc2Uge1xuXHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gUXVhbGl0eTogTE9XICgke2NvbmZpZGVuY2V9JSBjb25maWRlbmNlLCAke3F1YWxpdHlBbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZH0vNiBjYXRlZ29yaWVzKWApO1xuXHR9XG5cblx0cmV0dXJuIHsgY29uZmlkZW5jZSwgbWF0Y2hlZEluZm8sIG1pc3NpbmdJbmZvLCBxdWFsaXR5IH07XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyByb2xlLWF3YXJlIGFkYXB0aXZlIHF1ZXN0aW9ucyBiYXNlZCBvbiByb2xlIGNvbnRleHQgYW5kIG1pc3NpbmcgaW5zaWdodHNcbiAqL1xuLyoqXG4gKiBTUElOIEZyYW1ld29yayArIENoYWxsZW5nZXIgU2FsZSBTdHJhdGVnaWMgUXVlc3Rpb25pbmdcbiAqIEZvY3VzZXMgb24gY29uZmlkZW50aWFsL2ludGVybmFsIGluZm9ybWF0aW9uIG9ubHkgdGhlIHVzZXIga25vd3NcbiAqL1xuZXhwb3J0IHsgZ2V0Um9sZUF3YXJlUXVlc3Rpb24sIGdldENoYWxsZW5nZXJJbnNpZ2h0IH0gZnJvbSAnLi9xdWVzdGlvbnMnO1xuXG4vKipcbiAqIENoYWxsZW5nZXIgU2FsZSBtZXRob2RvbG9neSAtIGNoYWxsZW5nZXMgYXNzdW1wdGlvbnMgYW5kIHJldmVhbHMgaGlkZGVuIHByb2JsZW1zXG4gKi9cblxuLyoqXG4gKiBHZW5lcmF0ZXMgY29udGV4dHVhbCBxdWljayByZXNwb25zZSBzdWdnZXN0aW9ucyBiYXNlZCBvbiBjb252ZXJzYXRpb24gY29udGV4dCBhbmQgcm9sZVxuICovXG5leHBvcnQgeyBnZW5lcmF0ZVF1aWNrUmVzcG9uc2VTdWdnZXN0aW9ucyB9IGZyb20gJy4vcXVpY2stcmVzcG9uc2VzJztcblxuLyoqXG4gKiBHZW5lcmF0ZXMgbmF0dXJhbCBwcm9ncmVzc2lvbiBzaWduYWxzIHdoZW4gcGhhc2UgaXMgcmVhZHlcbiAqL1xuLy8gbW92ZWQgdG8gcHJvZ3Jlc3Npb24udHNcblxuLyoqXG4gKiBVbml2ZXJzYWwgUXVhbGl0eSBBbmFseXNpcyBTeXN0ZW1cbiAqIEV2YWx1YXRlcyBpbmZvcm1hdGlvbiBkZXB0aCBhY3Jvc3MgNiB1bml2ZXJzYWwgY2F0ZWdvcmllc1xuICovXG5cbi8vIG1vdmVkIHRvIHF1YWxpdHktYW5hbHlzaXMudHNcbmludGVyZmFjZSBVbml2ZXJzYWxRdWFsaXR5QW5hbHlzaXMge1xuXHRjYXRlZ29yaWVzQ292ZXJlZDogbnVtYmVyO1xuXHRzcGVjaWZpY2l0eTogbnVtYmVyO1xuXHRxdWFudGlmaWNhdGlvbjogbnVtYmVyO1xuXHRjb250ZXh0OiBudW1iZXI7XG5cdGNhdXNhbGl0eTogbnVtYmVyO1xuXHRidXNpbmVzc0ltcGFjdDogYm9vbGVhbjtcblx0dGltaW5nQ29udGV4dDogYm9vbGVhbjtcblx0b3ZlcmFsbFNjb3JlOiBudW1iZXI7XG59XG5cbi8qKlxuICogQW5hbHl6ZXMgbWVzc2FnZSBxdWFsaXR5IHVzaW5nIHVuaXZlcnNhbCBjYXRlZ29yaWVzXG4gKi9cbi8vIGFuYWx5emVVbml2ZXJzYWxRdWFsaXR5IGlzIGltcG9ydGVkIGZyb20gcXVhbGl0eS1hbmFseXNpcy50c1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdW5pdmVyc2FsIGNvbmZpZGVuY2UgYmFzZWQgb24gcXVhbGl0eSBhbmFseXNpc1xuICovXG5leHBvcnQgeyBjYWxjdWxhdGVVbml2ZXJzYWxDb25maWRlbmNlLCBST0xFX1dFSUdIVFMsIFJPTEVfQ09NUExFVElPTl9USFJFU0hPTERTIH0gZnJvbSAnLi9jb25maWRlbmNlJztcblxuLyoqXG4gKiBSZXR1cm5zIGEgY29tcGxldGUsIGh1bWFuLXJlYWRhYmxlIGJyZWFrZG93biBvZiBob3cgY29uZmlkZW5jZSB3YXMgY29tcHV0ZWRcbiAqIGZvciBhIGdpdmVuIG1lc3NhZ2UuIFVzZWZ1bCBmb3IgZGVidWdnaW5nIGFuZCBVSSB0cmFuc3BhcmVuY3kuXG4gKi9cbmV4cG9ydCBjb25zdCBleHBsYWluQ29uZmlkZW5jZSA9IChtZXNzYWdlOiBzdHJpbmcgfCBDb252ZXJzYXRpb25NZXNzYWdlKSA9PiB7XG4gICAgLy8gSGFuZGxlIGJvdGggc3RyaW5nIGFuZCBDb252ZXJzYXRpb25NZXNzYWdlIG9iamVjdCBpbnB1dHNcbiAgICBjb25zdCBtZXNzYWdlVGV4dCA9IHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJyA/IG1lc3NhZ2UgOiBtZXNzYWdlLmNvbnRlbnQgfHwgbWVzc2FnZS50ZXh0IHx8ICcnO1xuICAgIGNvbnN0IGxvd2VyID0gbWVzc2FnZVRleHQudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBxYSA9IGFuYWx5emVVbml2ZXJzYWxRdWFsaXR5KG1lc3NhZ2VUZXh0LCBsb3dlcik7XG5cbiAgICAvLyBSYXcgY29tcG9uZW50c1xuICAgIGNvbnN0IGNhdGVnb3JpZXNQb2ludHMgPSBxYS5jYXRlZ29yaWVzQ292ZXJlZCAqIDU7IC8vIDAtMzBcbiAgICBjb25zdCBzcGVjaWZpY2l0eVBvaW50cyA9IHFhLnNwZWNpZmljaXR5ICogMjsgICAgICAvLyAwLThcbiAgICBjb25zdCBxdWFudGlmaWNhdGlvblBvaW50cyA9IHFhLnF1YW50aWZpY2F0aW9uICogMjsvLyAwLThcbiAgICBjb25zdCBjb250ZXh0UG9pbnRzID0gcWEuY29udGV4dCAqIDI7ICAgICAgICAgICAgICAvLyAwLThcbiAgICBjb25zdCBjYXVzYWxpdHlQb2ludHMgPSBxYS5jYXVzYWxpdHkgKiAyOyAgICAgICAgICAvLyAwLThcbiAgICBjb25zdCBpbXBhY3RCb251cyA9IHFhLmJ1c2luZXNzSW1wYWN0ID8gMTAgOiAwOyAgICAvLyAwLzEwXG4gICAgY29uc3QgdGltaW5nQm9udXMgPSBxYS50aW1pbmdDb250ZXh0ID8gMTAgOiAwOyAgICAgLy8gMC8xMFxuXG4gICAgY29uc3QgcHJlQ2FwU2NvcmUgPSBjYXRlZ29yaWVzUG9pbnRzICsgc3BlY2lmaWNpdHlQb2ludHMgKyBxdWFudGlmaWNhdGlvblBvaW50cyArIGNvbnRleHRQb2ludHMgKyBjYXVzYWxpdHlQb2ludHMgKyBpbXBhY3RCb251cyArIHRpbWluZ0JvbnVzOyAvLyB0aGVvcmV0aWNhbCA4MlxuXG4gICAgLy8gQXBwbHkgY2FwcyBtaXJyb3JpbmcgY2FsY3VsYXRlVW5pdmVyc2FsQ29uZmlkZW5jZVxuICAgIGxldCBjYXBwZWRTY29yZSA9IHByZUNhcFNjb3JlO1xuICAgIGNvbnN0IGNhcHNBcHBsaWVkOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmICghcWEuYnVzaW5lc3NJbXBhY3QgfHwgIXFhLnRpbWluZ0NvbnRleHQpIHtcbiAgICAgICAgaWYgKGNhcHBlZFNjb3JlID4gNzUpIGNhcHBlZFNjb3JlID0gNzU7XG4gICAgICAgIGNhcHNBcHBsaWVkLnB1c2goJ05vIDg1JSB3aXRob3V0IEJPVEggYnVzaW5lc3MgaW1wYWN0IEFORCB0aW1pbmcvY29udGV4dCAoY2FwPTc1KScpO1xuICAgIH1cbiAgICBpZiAocWEuY2F0ZWdvcmllc0NvdmVyZWQgPCA0KSB7XG4gICAgICAgIGlmIChjYXBwZWRTY29yZSA+IDcwKSBjYXBwZWRTY29yZSA9IDcwO1xuICAgICAgICBjYXBzQXBwbGllZC5wdXNoKCdOZWVkIOKJpTQvNiBjYXRlZ29yaWVzIGZvciBoaWdoIGNvbmZpZGVuY2UgKGNhcD03MCknKTtcbiAgICB9XG4gICAgaWYgKGNhcHBlZFNjb3JlID4gODUpIHtcbiAgICAgICAgY2FwcGVkU2NvcmUgPSA4NTtcbiAgICAgICAgY2Fwc0FwcGxpZWQucHVzaCgnR2xvYmFsIG1heGltdW0gY29uZmlkZW5jZSBjYXAgKDg1KScpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VQcmV2aWV3OiBtZXNzYWdlLnN1YnN0cmluZygwLCAxNjApLFxuICAgICAgICBjYXRlZ29yaWVzOiB7XG4gICAgICAgICAgICBzaXR1YXRpb25EZXNjcmlwdGlvbjogcWEuY2F0ZWdvcmllc0NvdmVyZWQgPj0gMSxcbiAgICAgICAgICAgIGdhcFBhaW5JZGVudGlmaWNhdGlvbjogdW5kZWZpbmVkLCAvLyBjb3ZlcmVkIHZpYSBjYXRlZ29yaWVzQ292ZXJlZCBhZ2dyZWdhdGU7IHNlZSBub3RlIGJlbG93XG4gICAgICAgICAgICBidXNpbmVzc0ltcGFjdDogcWEuYnVzaW5lc3NJbXBhY3QsXG4gICAgICAgICAgICBzdGFrZWhvbGRlckVmZmVjdHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRpbWluZ0NvbnRleHQ6IHFhLnRpbWluZ0NvbnRleHQsXG4gICAgICAgICAgICBzY29wZVNjYWxlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb3ZlcmVkQ291bnQ6IHFhLmNhdGVnb3JpZXNDb3ZlcmVkLFxuICAgICAgICAgICAgcG9pbnRzOiBjYXRlZ29yaWVzUG9pbnRzLFxuICAgICAgICAgICAgcG9pbnRzUGVyQ2F0ZWdvcnk6IDVcbiAgICAgICAgfSxcbiAgICAgICAgcXVhbGl0eUluZGljYXRvcnM6IHtcbiAgICAgICAgICAgIHNwZWNpZmljaXR5OiB7IHNjb3JlOiBxYS5zcGVjaWZpY2l0eSwgcG9pbnRzOiBzcGVjaWZpY2l0eVBvaW50cywgbWF4OiA0LCB0cmlnZ2VyczogJ3JvbGUvdGVjaCBkZXRhaWxzJyB9LFxuICAgICAgICAgICAgcXVhbnRpZmljYXRpb246IHsgc2NvcmU6IHFhLnF1YW50aWZpY2F0aW9uLCBwb2ludHM6IHF1YW50aWZpY2F0aW9uUG9pbnRzLCBtYXg6IDQsIHRyaWdnZXJzOiAnbnVtYmVycywgJSwgbW9uZXksIHRpbWVmcmFtZXMnIH0sXG4gICAgICAgICAgICBjb250ZXh0OiB7IHNjb3JlOiBxYS5jb250ZXh0LCBwb2ludHM6IGNvbnRleHRQb2ludHMsIG1heDogNCwgdHJpZ2dlcnM6ICdidXNpbmVzcy9pbmR1c3RyeS9tYXJrZXQvc3RyYXRlZ2ljJyB9LFxuICAgICAgICAgICAgY2F1c2FsaXR5OiB7IHNjb3JlOiBxYS5jYXVzYWxpdHksIHBvaW50czogY2F1c2FsaXR5UG9pbnRzLCBtYXg6IDQsIHRyaWdnZXJzOiAnYmVjYXVzZS9kdWUgdG8g4oaSIHJlc3VsdCwgc29sdXRpb24vY29uc2VxdWVuY2UnIH1cbiAgICAgICAgfSxcbiAgICAgICAgYm9udXNlczoge1xuICAgICAgICAgICAgYnVzaW5lc3NJbXBhY3Q6IGltcGFjdEJvbnVzLFxuICAgICAgICAgICAgdGltaW5nQ29udGV4dDogdGltaW5nQm9udXNcbiAgICAgICAgfSxcbiAgICAgICAgdG90YWxzOiB7XG4gICAgICAgICAgICBwcmVDYXBTY29yZSxcbiAgICAgICAgICAgIGZpbmFsQ29uZmlkZW5jZTogTWF0aC5tYXgoMCwgTWF0aC5taW4oODUsIE1hdGgucm91bmQoY2FwcGVkU2NvcmUpKSksXG4gICAgICAgICAgICBjYXBzQXBwbGllZFxuICAgICAgICB9LFxuICAgICAgICBub3RlczogW1xuICAgICAgICAgICAgJ0NhdGVnb3JpZXNDb3ZlcmVkIGNvdW50cyBob3cgbWFueSBvZiB0aGUgNiB1bml2ZXJzYWwgY2F0ZWdvcmllcyBhcmUgZGV0ZWN0ZWQ7IGVhY2ggaXMgd29ydGggNSBwb2ludHMuJyxcbiAgICAgICAgICAgICdRdWFsaXR5IGluZGljYXRvcnMgZWFjaCBzY29yZSAwLTQgYW5kIGFyZSBkb3VibGVkIHRvIHBvaW50cyAow5cyKS4nLFxuICAgICAgICAgICAgJ0hpZ2ggY29uZmlkZW5jZSByZXF1aXJlcyBCT1RIIGJ1c2luZXNzIGltcGFjdCBhbmQgdGltaW5nL2NvbnRleHQgc2lnbmFscy4nLFxuICAgICAgICAgICAgJ0Rlc2lnbiBpbnRlbnRpb25hbGx5IGNhcHMgbWF4aW11bSBjb25maWRlbmNlIGF0IDg1JS4nLFxuICAgICAgICBdXG4gICAgfSBhcyBjb25zdDtcbn07XG5cbmV4cG9ydCBjb25zdCBzZW1hbnRpY0VuaGFuY2VBbmFseXNpcyA9IGFzeW5jIChcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgYmFzZTogTWVzc2FnZUFuYWx5c2lzXG4pOiBQcm9taXNlPE1lc3NhZ2VBbmFseXNpcz4gPT4ge1xuICAgIGNvbnN0IHdvcmRzID0gbWVzc2FnZS50cmltKCkuc3BsaXQoL1xccysvKS5sZW5ndGg7XG4gICAgaWYgKHdvcmRzIDw9IDEwKSByZXR1cm4gYmFzZTtcblxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvc2VtYW50aWMtYW5hbHl6ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgICAgICAgIG1lc3NhZ2UsIFxuICAgICAgICAgICAgICAgIGJhc2VDb25maWRlbmNlOiBiYXNlLmNvbmZpZGVuY2UgXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTZW1hbnRpYyBhbmFseXNpcyBBUEkgZmFpbGVkLCB1c2luZyBiYXNlIHNjb3JpbmcnKTtcbiAgICAgICAgICAgIHJldHVybiBiYXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgZW5oYW5jZWRDb25maWRlbmNlID0gZGF0YS5lbmhhbmNlZENvbmZpZGVuY2UgfHwgYmFzZS5jb25maWRlbmNlO1xuICAgICAgICBjb25zdCBxdWFsaXR5ID0gZW5oYW5jZWRDb25maWRlbmNlID49IDc1ID8gJ2hpZ2gnIDogZW5oYW5jZWRDb25maWRlbmNlID49IDUwID8gJ21lZGl1bScgOiAnbG93JztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgLi4uYmFzZSwgXG4gICAgICAgICAgICBjb25maWRlbmNlOiBlbmhhbmNlZENvbmZpZGVuY2UsIFxuICAgICAgICAgICAgcXVhbGl0eSBcbiAgICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTZW1hbnRpYyBhbmFseXNpcyBmYWlsZWQsIHVzaW5nIGJhc2Ugc2NvcmluZzonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cbn07XG5cbi8qKlxuICogTW9yZSBpbnRlbGxpZ2VudCBtYXRjaGluZyBmb3Igc3BlY2lmaWMgaW5mbyBwb2ludHNcbiAqL1xuZnVuY3Rpb24gY2hlY2tJbmZvUG9pbnRNYXRjaChtZXNzYWdlOiBzdHJpbmcsIGluZm9Qb2ludDogc3RyaW5nLCBjbHVzdGVyOiBDbHVzdGVyVHlwZSk6IGJvb2xlYW4ge1xuXHQvLyBEZWZpbmUgc3BlY2lmaWMgcGF0dGVybnMgZm9yIGVhY2ggY2x1c3RlclxuXHRjb25zdCBwYXR0ZXJuczogUmVjb3JkPENsdXN0ZXJUeXBlLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4+ID0ge1xuXHRcdCdwYWluLXBvaW50Jzoge1xuXHRcdFx0J051dmFyYW5kZSBwcm9ibGVtIGVsbGVyIGdhcCBzb20gYmVow7Z2ZXIgbMO2c2FzJzogWydwcm9ibGVtJywgJ2dhcCcsICdiZWjDtnZlcicsICdzYWtuYXMnLCAnYnJpc3QnLCAndXRtYW5pbmcnLCAnc3bDpXJpZ2hldCcsICdjZm8nLCAnY2hlZicsICdsZWRhcmUnXSxcblx0XHRcdCdLb25zZWt2ZW5zZXIgYXYgYXR0IGludGUgbMO2c2EgcHJvYmxlbWV0JzogWydrb25zZWt2ZW5zJywgJ3Jpc2tlcicsICdow6RuZGVyIG9tJywgJ29tIHZpIGludGUnLCAnZsO2cnNlbmluZycsICdrb3N0bmFkJ10sXG5cdFx0XHQnVmVtIHNvbSBww6V2ZXJrYXMgYXYgcHJvYmxlbWV0JzogWyd0ZWFtJywgJ2F2ZGVsbmluZycsICdvcmdhbmlzYXRpb24nLCAncMOldmVya2FzJywgJ2RyYWJiYXMnLCAnYmVyw7ZyJ10sXG5cdFx0XHQnVGlkc3JhbSBmw7ZyIG7DpHIgcHJvYmxlbWV0IG3DpXN0ZSBsw7ZzYXMnOiBbJ3RpZHNyYW0nLCAnbsOkcicsICdzbmFydCcsICdtw6VuYWRlcicsICd2ZWNrb3InLCAnYWt1dCcsICdicsOlZHNrYW5kZSddXG5cdFx0fSxcblx0XHQnaW1wYWN0LXVyZ2VuY3knOiB7XG5cdFx0XHQnS3ZhbnRpZmllcmFkIHDDpXZlcmthbiBww6UgdmVya3NhbWhldGVuJzogWydww6V2ZXJrYW4nLCAnZWZmZWt0JywgJ3Jlc3VsdGF0JywgJ2twaScsICdtw6R0YmFyJywgJ3NpZmZyb3InLCAncHJvY2VudCddLFxuXHRcdFx0J0Jyw6Vkc2thbiBvY2ggdGlkc2tyaXRpc2thIGZha3RvcmVyJzogWydicsOlZHNrYW5kZScsICdha3V0JywgJ3RpZHNrcml0aXNrJywgJ2RlYWRsaW5lJywgJ3NuYXJ0JywgJ23DpW5hZGVyJ10sXG5cdFx0XHQnQWZmw6Ryc255dHRhIG9jaCBST0ktcHJvZ25vcyc6IFsncm9pJywgJ2FmZsOkcnNueXR0YScsICd2aW5zdCcsICdrb3N0bmFkJywgJ2ludmVzdGVyaW5nJywgJ3RpbGxiYWthJ10sXG5cdFx0XHQnUmlza2VuIGF2IGbDtnJzZW5pbmdhcic6IFsncmlzaycsICdmw7Zyc2VuaW5nJywgJ2bDtnJsdXN0JywgJ21pc3NhZCcsICdjaGFucycsICdrb25rdXJyZW5zJ11cblx0XHR9LFxuXHRcdCdzdWNjZXNzLWNyaXRlcmlhJzoge1xuXHRcdFx0J03DpHRiYXJhIGZyYW1nw6VuZ3Nrcml0ZXJpZXIgZsO2ciByb2xsZW4nOiBbJ2ZyYW1nw6VuZycsICdtw6VsJywgJ2tyaXRlcmllcicsICdtw6R0YmFyJywgJ2twaScsICdyZXN1bHRhdCddLFxuXHRcdFx0J0tvbXBldGVuc2VyIG9jaCBlcmZhcmVuaGV0ZXIgc29tIGtyw6R2cyc6IFsna29tcGV0ZW5zJywgJ2VyZmFyZW5oZXQnLCAna3Vuc2thcGVyJywgJ2bDpHJkaWdoZXRlcicsICd1dGJpbGRuaW5nJ10sXG5cdFx0XHQnUHJlc3RhbmRhLWluZGlrYXRvcmVyIG9jaCBtw6VsJzogWydwcmVzdGFuZGEnLCAnaW5kaWthdG9yZXInLCAnbcOlbCcsICdiZW5jaG1hcmsnLCAnc3RhbmRhcmQnXSxcblx0XHRcdCdVdHZlY2tsaW5nc3BvdGVudGlhbCBvY2ggdGlsbHbDpHh0JzogWyd1dHZlY2tsaW5nJywgJ3RpbGx2w6R4dCcsICdwb3RlbnRpYWwnLCAna2FycmnDpHInLCAnZnJhbXRpZCddXG5cdFx0fSxcblx0XHQncmVzb3VyY2VzLWJ1ZGdldCc6IHtcblx0XHRcdCdCdWRnZXQgZsO2ciByZWtyeXRlcmluZyBvY2ggb25ib2FyZGluZyc6IFsnYnVkZ2V0JywgJ2tvc3RuYWQnLCAncGVuZ2FyJywgJ3Jlc3Vyc2VyJywgJ29uYm9hcmRpbmcnXSxcblx0XHRcdCdUaWxsZ8OkbmdsaWdhIGludGVybmEgcmVzdXJzZXInOiBbJ2ludGVybmEnLCAncmVzdXJzZXInLCAncGVyc29uYWwnLCAndGVhbScsICdoasOkbHAnXSxcblx0XHRcdCdFeHRlcm5hIHBhcnRuZXJzIG9jaCB2ZXJrdHlnJzogWydleHRlcm5hJywgJ3BhcnRuZXJzJywgJ3Zlcmt0eWcnLCAnc3lzdGVtJywgJ2tvbnN1bHRlciddLFxuXHRcdFx0J0zDpW5nc2lrdGlnYSBrb3N0bmFkZXIgb2NoIGludmVzdGVyaW5nYXInOiBbJ2zDpW5nc2lrdGlnJywgJ2ludmVzdGVyaW5nJywgJ2tvc3RuYWQnLCAnZnJhbXRpZCcsICfDpXInXVxuXHRcdH0sXG5cdFx0J29yZ2FuaXphdGlvbi1jdWx0dXJlJzoge1xuXHRcdFx0J09yZ2FuaXNhdG9yaXNrIHN0cnVrdHVyIG9jaCByYXBwb3J0ZXJpbmdzbGluamVyJzogWydzdHJ1a3R1cicsICdyYXBwb3J0ZXJpbmcnLCAnaGllcmFya2knLCAnb3JnYW5pc2F0aW9uJywgJ2NoZWYnXSxcblx0XHRcdCdLdWx0dXJlbGxhIHbDpHJkZXJpbmdhciBvY2ggYXJiZXRzbWlsasO2JzogWydrdWx0dXInLCAndsOkcmRlcmluZ2FyJywgJ21pbGrDticsICdhdG1vc2bDpHInLCAnc3RpbCddLFxuXHRcdFx0J1RlYW1keW5hbWlrIG9jaCBzYW1hcmJldHNtw7Zuc3Rlcic6IFsndGVhbScsICdzYW1hcmJldGUnLCAnZHluYW1paycsICdncnVwcCcsICdrb2xsZWdvciddLFxuXHRcdFx0J1N0w7ZkIG9jaCB1dHZlY2tsaW5nc23DtmpsaWdoZXRlcic6IFsnc3TDtmQnLCAndXR2ZWNrbGluZycsICdtw7ZqbGlnaGV0ZXInLCAndHLDpG5pbmcnLCAnbMOkcmFuZGUnXVxuXHRcdH0sXG5cdFx0J2FsdGVybmF0aXZlcy1yaXNrcyc6IHtcblx0XHRcdCdBbHRlcm5hdGl2YSBsw7ZzbmluZ2FyIHRpbGwgcmVrcnl0ZXJpbmcnOiBbJ2FsdGVybmF0aXYnLCAnYW5kcmEnLCAnbMO2c25pbmdhcicsICdpc3TDpGxsZXQnLCAndXTDtnZlciddLFxuXHRcdFx0J0lkZW50aWZpZXJhZGUgcmlza2VyIG9jaCBtaXRpZ2VyaW5nYXInOiBbJ3Jpc2tlcicsICdyaXNrJywgJ3Byb2JsZW0nLCAnbWl0aWdlcmluZycsICdoYW50ZXJhJ10sXG5cdFx0XHQnRmFsbGJhY2stcGxhbmVyIG9jaCBrb250aW5nZW5zZXInOiBbJ2ZhbGxiYWNrJywgJ3BsYW4gYicsICdrb250aW5nZW5zJywgJ3Jlc2VydicsICdiYWNrdXAnXSxcblx0XHRcdCdMw6VuZ3Npa3RpZ2Ega29uc2VrdmVuc2VyIGF2IGJlc2x1dGV0JzogWydsw6VuZ3Npa3RpZycsICdrb25zZWt2ZW5zZXInLCAnZnJhbXRpZCcsICdww6V2ZXJrYW4nLCAncmVzdWx0YXQnXVxuXHRcdH1cblx0fTtcblxuXHRjb25zdCBjbHVzdGVyUGF0dGVybnMgPSBwYXR0ZXJuc1tjbHVzdGVyXTtcblx0Y29uc3QgaW5mb1BhdHRlcm5zID0gY2x1c3RlclBhdHRlcm5zW2luZm9Qb2ludF07XG5cdFxuXHRpZiAoIWluZm9QYXR0ZXJucykge1xuXHRcdC8vIEZhbGxiYWNrIHRvIGtleXdvcmQgbWF0Y2hpbmdcblx0XHRjb25zdCBrZXl3b3JkcyA9IGV4dHJhY3RLZXl3b3JkcyhpbmZvUG9pbnQpO1xuXHRcdHJldHVybiBrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbWVzc2FnZS5pbmNsdWRlcyhrZXl3b3JkLnRvTG93ZXJDYXNlKCkpKTtcblx0fVxuXG5cdC8vIENoZWNrIGlmIG1lc3NhZ2UgY29udGFpbnMgYW55IG9mIHRoZSByZWxldmFudCBwYXR0ZXJuc1xuXHRyZXR1cm4gaW5mb1BhdHRlcm5zLnNvbWUocGF0dGVybiA9PiBtZXNzYWdlLmluY2x1ZGVzKHBhdHRlcm4pKTtcbn1cblxuLyoqXG4gKiBHZXQgY2x1c3Rlci1zcGVjaWZpYyBib251cyBmb3IgY29uZmlkZW5jZSBzY29yaW5nXG4gKi9cbmZ1bmN0aW9uIGdldENsdXN0ZXJTcGVjaWZpY0JvbnVzKG1lc3NhZ2U6IHN0cmluZywgY2x1c3RlcjogQ2x1c3RlclR5cGUpOiBudW1iZXIge1xuXHRjb25zdCBib251c2VzOiBSZWNvcmQ8Q2x1c3RlclR5cGUsIHN0cmluZ1tdPiA9IHtcblx0XHQncGFpbi1wb2ludCc6IFsncHJvYmxlbScsICd1dG1hbmluZycsICdzdsOlcmlnaGV0JywgJ2dhcCcsICdicmlzdCcsICdiZWjDtnZlcicsICdzYWtuYXMnLCAnZsO2cmLDpHR0cmEnLCAnbMO2c2EnXSxcblx0XHQnaW1wYWN0LXVyZ2VuY3knOiBbJ2Jyw6Vkc2thbmRlJywgJ2FrdXQnLCAndmlrdGlndCcsICdrcml0aXNrJywgJ3ByaW9yaXRldCcsICdkZWFkbGluZScsICd0aWRzcmFtJywgJ3ByZXNzJ10sXG5cdFx0J3N1Y2Nlc3MtY3JpdGVyaWEnOiBbJ23DpWwnLCAnZnJhbWfDpW5nJywgJ2tyaXRlcmllcicsICdrb21wZXRlbnMnLCAnZXJmYXJlbmhldCcsICdrdmFsaWZpa2F0aW9uZXInLCAncmVzdWx0YXQnXSxcblx0XHQncmVzb3VyY2VzLWJ1ZGdldCc6IFsnYnVkZ2V0JywgJ2tvc3RuYWQnLCAncmVzdXJzZXInLCAncGVuZ2FyJywgJ2ludmVzdGVyaW5nJywgJ2zDtm4nLCAndXRnaWZ0ZXInLCAnZmluYW5zaWVyaW5nJ10sXG5cdFx0J29yZ2FuaXphdGlvbi1jdWx0dXJlJzogWydrdWx0dXInLCAndGVhbScsICdvcmdhbmlzYXRpb24nLCAnc3RydWt0dXInLCAnbWlsasO2JywgJ3bDpHJkZXJpbmdhcicsICdhcmJldHNzw6R0dCddLFxuXHRcdCdhbHRlcm5hdGl2ZXMtcmlza3MnOiBbJ2FsdGVybmF0aXYnLCAncmlzaycsICdsw7ZzbmluZycsICdwbGFuJywgJ2tvbnNla3ZlbnMnLCAnbcO2amxpZ2hldGVyJywgJ2hvdCddXG5cdH07XG5cblx0Y29uc3QgY2x1c3RlckJvbnVzID0gYm9udXNlc1tjbHVzdGVyXSB8fCBbXTtcblx0Y29uc3QgbWF0Y2hlcyA9IGNsdXN0ZXJCb251cy5maWx0ZXIoYm9udXMgPT4gbWVzc2FnZS5pbmNsdWRlcyhib251cykpO1xuXHRcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBnZXRDbHVzdGVyU3BlY2lmaWNCb251cyBmb3IgJHtjbHVzdGVyfTpgKTtcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBNZXNzYWdlOiBcIiR7bWVzc2FnZS5zdWJzdHJpbmcoMCwgMTAwKX0uLi5cImApO1xuXHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIE1hdGNoZWQgdGVybXM6ICR7bWF0Y2hlcy5sZW5ndGh9ICgke21hdGNoZXMuam9pbignLCAnKX0pYCk7XG5cdFxuXHQvLyBNb3JlIGRlbWFuZGluZyBzY29yaW5nIC0gcmVxdWlyZSBtdWx0aXBsZSByZWxldmFudCB0ZXJtcyBmb3Igc2lnbmlmaWNhbnQgYm9udXNcblx0bGV0IGJvbnVzID0gMDtcblx0aWYgKG1hdGNoZXMubGVuZ3RoID49IDMpIHtcblx0XHRib251cyA9IDE1OyAvLyBIaWdoIGJvbnVzIGZvciBjb21wcmVoZW5zaXZlIGNvdmVyYWdlXG5cdFx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBIaWdoIGJvbnVzOiArMTUgKDMrIHRlcm1zKWApO1xuXHR9IGVsc2UgaWYgKG1hdGNoZXMubGVuZ3RoID49IDIpIHtcblx0XHRib251cyA9IDg7ICAvLyBNZWRpdW0gYm9udXMgZm9yIGdvb2QgY292ZXJhZ2Vcblx0XHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIE1lZGl1bSBib251czogKzggKDIrIHRlcm1zKWApO1xuXHR9IGVsc2UgaWYgKG1hdGNoZXMubGVuZ3RoID49IDEpIHtcblx0XHRib251cyA9IDM7ICAvLyBMb3cgYm9udXMgZm9yIGJhc2ljIHJlbGV2YW5jZVxuXHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gTG93IGJvbnVzOiArMyAoMSsgdGVybXMpYCk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBObyBib251czogMCAobm8gcmVsZXZhbnQgdGVybXMpYCk7XG5cdH1cblx0XG5cdHJldHVybiBib251cztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBjbHVzdGVyIG1lZXRzIGNvbXBsZXRpb24gY3JpdGVyaWFcbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrQ2x1c3RlckNvbXBsZXRpb24gPSAoY2x1c3RlcjogQ2x1c3RlclByb2dyZXNzLCBjbHVzdGVyVHlwZTogQ2x1c3RlclR5cGUpOiBib29sZWFuID0+IHtcblx0Y29uc3QgY2x1c3RlckRlZiA9IGdldENsdXN0ZXJCeUlkKGNsdXN0ZXJUeXBlKTtcblx0aWYgKCFjbHVzdGVyRGVmKSByZXR1cm4gZmFsc2U7XG5cblx0cmV0dXJuIGNsdXN0ZXIuY29uZmlkZW5jZSA+PSBjbHVzdGVyRGVmLmNvbXBsZXRpb25UaHJlc2hvbGQgJiYgXG5cdFx0ICAgY2x1c3Rlci5zdGF0dXMgPT09ICdpbi1wcm9ncmVzcycgJiZcblx0XHQgICBjbHVzdGVyLmNvbGxlY3RlZEluZm8ubGVuZ3RoID49IGNsdXN0ZXJEZWYucmVxdWlyZWRJbmZvLmxlbmd0aCAqIDAuODsgLy8gODAlIG9mIHJlcXVpcmVkIGluZm9cbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIGFkYXB0aXZlIGZvbGxvdy11cCBxdWVzdGlvbnMgYmFzZWQgb24gbWlzc2luZyBpbmZvcm1hdGlvblxuICovXG5leHBvcnQgY29uc3QgZ2V0TmV4dEFkYXB0aXZlUXVlc3Rpb24gPSAoY2x1c3RlclR5cGU6IENsdXN0ZXJUeXBlLCBtaXNzaW5nSW5mbzogc3RyaW5nW10pOiBzdHJpbmcgPT4ge1xuXHRjb25zdCBjbHVzdGVyID0gZ2V0Q2x1c3RlckJ5SWQoY2x1c3RlclR5cGUpO1xuXHRpZiAoIWNsdXN0ZXIpIHtcblx0XHRyZXR1cm4gXCJLYW4gZHUgYmVyw6R0dGEgbWVyIG9tIHNpdHVhdGlvbmVuP1wiO1xuXHR9XG5cblx0Ly8gSWYgbm8gbWlzc2luZyBpbmZvLCBhc2sgZm9yIG1vcmUgZGV0YWlsXG5cdGlmIChtaXNzaW5nSW5mby5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gZ2V0RW5jb3VyYWdpbmdGb2xsb3dVcChjbHVzdGVyVHlwZSk7XG5cdH1cblxuXHQvLyBNYXAgbWlzc2luZyBpbmZvIHRvIHNwZWNpZmljIHF1ZXN0aW9ucyAtIE5BVFVSQUwgQ09OVkVSU0FUSU9OIFNUWUxFXG5cdGNvbnN0IHF1ZXN0aW9uTWFwOiBSZWNvcmQ8Q2x1c3RlclR5cGUsIFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuXHRcdCdwYWluLXBvaW50Jzoge1xuXHRcdFx0J051dmFyYW5kZSBwcm9ibGVtIGVsbGVyIGdhcCBzb20gYmVow7Z2ZXIgbMO2c2FzJzogJ1ZhZCBzYWtuYXMganVzdCBudT8nLFxuXHRcdFx0J0tvbnNla3ZlbnNlciBhdiBhdHQgaW50ZSBsw7ZzYSBwcm9ibGVtZXQnOiAnVmFkIGjDpG5kZXIgb20gbmkgaW50ZSBsw7ZzZXIgZGV0dGE/Jyxcblx0XHRcdCdWZW0gc29tIHDDpXZlcmthcyBhdiBwcm9ibGVtZXQnOiAnVmlsa2EgdGVhbSBww6V2ZXJrYXMgbWVzdD8nLFxuXHRcdFx0J1RpZHNyYW0gZsO2ciBuw6RyIHByb2JsZW1ldCBtw6VzdGUgbMO2c2FzJzogJ07DpHIgYmVow7Z2ZXIgZGV0IHZhcmEgbMO2c3Q/J1xuXHRcdH0sXG5cdFx0J2ltcGFjdC11cmdlbmN5Jzoge1xuXHRcdFx0J0t2YW50aWZpZXJhZCBww6V2ZXJrYW4gcMOlIHZlcmtzYW1oZXRlbic6ICdWYWQga29zdGFyIGRldCBlciBhdHQgaW50ZSBoYSBkZW5uYSBwZXJzb24/Jyxcblx0XHRcdCdCcsOlZHNrYW4gb2NoIHRpZHNrcml0aXNrYSBmYWt0b3Jlcic6ICdWYWQgaMOkbmRlciBvbSBuaSB2w6RudGFyIDMgbcOlbmFkZXIgdGlsbD8nLFxuXHRcdFx0J0FmZsOkcnNueXR0YSBvY2ggUk9JLXByb2dub3MnOiAnVmFkIHZpbm5lciBuaSBww6UgYXR0IGFnZXJhIHNuYWJidD8nLFxuXHRcdFx0J1Jpc2tlbiBhdiBmw7Zyc2VuaW5nYXInOiAnVmFkIGthbiBzdG9wcGEgZXI/J1xuXHRcdH0sXG5cdFx0J3N1Y2Nlc3MtY3JpdGVyaWEnOiB7XG5cdFx0XHQnTcOkdGJhcmEgZnJhbWfDpW5nc2tyaXRlcmllciBmw7ZyIHJvbGxlbic6ICdWYWQgc2thIHBlcnNvbmVuIGhhIMOlc3RhZGtvbW1pdCBlZnRlciA5MCBkYWdhcj8nLFxuXHRcdFx0J0tvbXBldGVuc2VyIG9jaCBlcmZhcmVuaGV0ZXIgc29tIGtyw6R2cyc6ICdWYWQgw6RyIGFic29sdXQga3JpdGlza3QgYXR0IGt1bm5hPycsXG5cdFx0XHQnUHJlc3RhbmRhLWluZGlrYXRvcmVyIG9jaCBtw6VsJzogJ0h1ciBtw6R0ZXIgbmkgZnJhbWfDpW5nIGVmdGVyIDYgbcOlbmFkZXI/Jyxcblx0XHRcdCdVdHZlY2tsaW5nc3BvdGVudGlhbCBvY2ggdGlsbHbDpHh0JzogJ1ZhcnQga2FuIHBlcnNvbmVuIHV0dmVja2xhcz8nXG5cdFx0fSxcblx0XHQncmVzb3VyY2VzLWJ1ZGdldCc6IHtcblx0XHRcdCdCdWRnZXQgZsO2ciByZWtyeXRlcmluZyBvY2ggb25ib2FyZGluZyc6ICdWaWxrZW4gYnVkZ2V0IGhhciBuaT8nLFxuXHRcdFx0J1RpbGxnw6RuZ2xpZ2EgaW50ZXJuYSByZXN1cnNlcic6ICdWYWQga2FuIG5pIHRpbGxkZWxhIGbDtnIgb25ib2FyZGluZz8nLFxuXHRcdFx0J0V4dGVybmEgcGFydG5lcnMgb2NoIHZlcmt0eWcnOiAnVmlsa2Egc3lzdGVtIGJlaMO2dmVyIHBlcnNvbmVuIGt1bm5hPycsXG5cdFx0XHQnTMOlbmdzaWt0aWdhIGtvc3RuYWRlciBvY2ggaW52ZXN0ZXJpbmdhcic6ICdWYWQga29zdGFyIHJvbGxlbiBmw7Zyc3RhIMOlcmV0Pydcblx0XHR9LFxuXHRcdCdvcmdhbml6YXRpb24tY3VsdHVyZSc6IHtcblx0XHRcdCdPcmdhbmlzYXRvcmlzayBzdHJ1a3R1ciBvY2ggcmFwcG9ydGVyaW5nc2xpbmplcic6ICdWYXIgcGFzc2FyIHJvbGxlbiBpbiBpIG9yZ2FuaXNhdGlvbmVuPycsXG5cdFx0XHQnS3VsdHVyZWxsYSB2w6RyZGVyaW5nYXIgb2NoIGFyYmV0c21pbGrDtic6ICdWYWQgw6RyIHZpa3RpZ2FzdCBmw7ZyIGZyYW1nw6VuZz8nLFxuXHRcdFx0J1RlYW1keW5hbWlrIG9jaCBzYW1hcmJldHNtw7Zuc3Rlcic6ICdIdXIgc2FtYXJiZXRhciBwZXJzb25lbiBtZWQgYW5kcmE/Jyxcblx0XHRcdCdTdMO2ZCBvY2ggdXR2ZWNrbGluZ3Ntw7ZqbGlnaGV0ZXInOiAnVmFkIGthbiBuaSBlcmJqdWRhIGbDtnIgdXR2ZWNrbGluZz8nXG5cdFx0fSxcblx0XHQnYWx0ZXJuYXRpdmVzLXJpc2tzJzoge1xuXHRcdFx0J0FsdGVybmF0aXZhIGzDtnNuaW5nYXIgdGlsbCByZWtyeXRlcmluZyc6ICdWaWxrYSBhbHRlcm5hdGl2IGhhciBuaSDDtnZlcnbDpGd0PycsXG5cdFx0XHQnSWRlbnRpZmllcmFkZSByaXNrZXIgb2NoIG1pdGlnZXJpbmdhcic6ICdWYWQgw6RyIGRlIHN0w7Zyc3RhIHJpc2tlcm5hPycsXG5cdFx0XHQnRmFsbGJhY2stcGxhbmVyIG9jaCBrb250aW5nZW5zZXInOiAnVmFkIGjDpG5kZXIgb20gZGV0IGludGUgZnVuZ2VyYXI/Jyxcblx0XHRcdCdMw6VuZ3Npa3RpZ2Ega29uc2VrdmVuc2VyIGF2IGJlc2x1dGV0JzogJ1ZhZCBow6RuZGVyIHDDpSBsw6RuZ3JlIHNpa3Q/J1xuXHRcdH1cblx0fTtcblxuXHQvLyBHZXQgdGhlIGZpcnN0IG1pc3NpbmcgaW5mbyBwb2ludCBhbmQgaXRzIGNvcnJlc3BvbmRpbmcgcXVlc3Rpb25cblx0Y29uc3QgZmlyc3RNaXNzaW5nID0gbWlzc2luZ0luZm9bMF07XG5cdGNvbnN0IGNsdXN0ZXJRdWVzdGlvbnMgPSBxdWVzdGlvbk1hcFtjbHVzdGVyVHlwZV07XG5cdGNvbnN0IHNwZWNpZmljUXVlc3Rpb24gPSBjbHVzdGVyUXVlc3Rpb25zW2ZpcnN0TWlzc2luZ107XG5cblx0aWYgKHNwZWNpZmljUXVlc3Rpb24pIHtcblx0XHRyZXR1cm4gc3BlY2lmaWNRdWVzdGlvbjtcblx0fVxuXG5cdC8vIEZhbGxiYWNrIHRvIGVuY291cmFnaW5nIGZvbGxvdy11cFxuXHRyZXR1cm4gZ2V0RW5jb3VyYWdpbmdGb2xsb3dVcChjbHVzdGVyVHlwZSk7XG59O1xuXG4vKipcbiAqIEdldCBlbmNvdXJhZ2luZyBmb2xsb3ctdXAgcXVlc3Rpb25zIHdoZW4gbm8gc3BlY2lmaWMgbWlzc2luZyBpbmZvXG4gKi9cbmZ1bmN0aW9uIGdldEVuY291cmFnaW5nRm9sbG93VXAoY2x1c3RlclR5cGU6IENsdXN0ZXJUeXBlKTogc3RyaW5nIHtcblx0Y29uc3QgZW5jb3VyYWdlbWVudHM6IFJlY29yZDxDbHVzdGVyVHlwZSwgc3RyaW5nW10+ID0ge1xuXHRcdCdwYWluLXBvaW50JzogW1xuXHRcdFx0J0JlcsOkdHRhIG1lciBvbSB1dG1hbmluZ2VuLicsXG5cdFx0XHQnVmFkIMOkciBkZXQgc3TDtnJzdGEgcHJvYmxlbWV0PycsXG5cdFx0XHQnSHVyIHDDpXZlcmthciBkZXQgZXIgZGFnbGlnYSBhcmJldGU/J1xuXHRcdF0sXG5cdFx0J2ltcGFjdC11cmdlbmN5JzogW1xuXHRcdFx0J1ZhZCDDpHIgbWVzdCBrcml0aXNrdD8nLFxuXHRcdFx0J0h1ciBicsOlZHNrYW5kZSDDpHIgZGV0PycsXG5cdFx0XHQnVmFkIGjDpG5kZXIgb20gbmkgdsOkbnRhcj8nXG5cdFx0XSxcblx0XHQnc3VjY2Vzcy1jcml0ZXJpYSc6IFtcblx0XHRcdCdWYWQgYmV0eWRlciBmcmFtZ8OlbmcgZsO2ciByb2xsZW4/Jyxcblx0XHRcdCdWaWxrYSDDpHIgZXJhIHZpa3RpZ2FzdGUgbcOlbD8nLFxuXHRcdFx0J0h1ciB2ZXQgbmkgYXR0IG5pIGdqb3J0IHLDpHR0IHZhbD8nXG5cdFx0XSxcblx0XHQncmVzb3VyY2VzLWJ1ZGdldCc6IFtcblx0XHRcdCdWaWxrYSByZXN1cnNlciBoYXIgbmk/Jyxcblx0XHRcdCdIdXIgc2VyIGJ1ZGdldGVuIHV0PycsXG5cdFx0XHQnVmlsa2Egc3lzdGVtIGJlaMO2dmVyIHBlcnNvbmVuIGt1bm5hPydcblx0XHRdLFxuXHRcdCdvcmdhbml6YXRpb24tY3VsdHVyZSc6IFtcblx0XHRcdCdIdXIgcGFzc2FyIHJvbGxlbiBpbiBpIGVyIGt1bHR1cj8nLFxuXHRcdFx0J1ZhZCDDpHIgdmlrdGlndCBmw7ZyIGZyYW1nw6VuZz8nLFxuXHRcdFx0J0h1ciBzZXIgc2FtYXJiZXRldCB1dCBtZWxsYW4gb2xpa2EgdGVhbT8nXG5cdFx0XSxcblx0XHQnYWx0ZXJuYXRpdmVzLXJpc2tzJzogW1xuXHRcdFx0J1ZpbGthIGFsdGVybmF0aXYgaGFyIG5pIMO2dmVydsOkZ3Q/Jyxcblx0XHRcdCdWaWxrYSByaXNrZXIgc2VyIG5pPycsXG5cdFx0XHQnSHVyIGhhbnRlcmFyIG5pIHV0bWFuaW5nYXI/J1xuXHRcdF1cblx0fTtcblxuXHRjb25zdCBjbHVzdGVyRW5jb3VyYWdlbWVudHMgPSBlbmNvdXJhZ2VtZW50c1tjbHVzdGVyVHlwZV0gfHwgWydCZXLDpHR0YSBtZXIgb20gc2l0dWF0aW9uZW4uJ107XG5cdHJldHVybiBjbHVzdGVyRW5jb3VyYWdlbWVudHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2x1c3RlckVuY291cmFnZW1lbnRzLmxlbmd0aCldO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgaWYgdXNlciBjYW4gcHJvZ3Jlc3MgdG8gbmV4dCBjbHVzdGVyXG4gKiBSZXF1aXJlcyBtaW5pbXVtIDUtNiBleGNoYW5nZXMgYW5kIDg1JSsgY29uZmlkZW5jZSBmb3IgdGhvcm91Z2ggYW5hbHlzaXNcbiAqL1xuLy8gbW92ZWQgdG8gcHJvZ3Jlc3Npb24udHNcblxuLyoqXG4gKiBHZW5lcmF0ZXMgc21vb3RoIHRyYW5zaXRpb24gbWVzc2FnZSBiZXR3ZWVuIHBoYXNlc1xuICovXG4vLyBtb3ZlZCB0byBwcm9ncmVzc2lvbi50c1xuXG4vKipcbiAqIFVwZGF0ZXMgY2x1c3RlciBwcm9ncmVzcyBiYXNlZCBvbiBtZXNzYWdlIGFuYWx5c2lzXG4gKi9cbmV4cG9ydCBjb25zdCB1cGRhdGVDbHVzdGVyUHJvZ3Jlc3MgPSAoXG5cdGN1cnJlbnRQcm9ncmVzczogQ2x1c3RlclByb2dyZXNzLCBcblx0YW5hbHlzaXM6IE1lc3NhZ2VBbmFseXNpcywgXG5cdG1lc3NhZ2U6IHN0cmluZ1xuKTogQ2x1c3RlclByb2dyZXNzID0+IHtcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSB1cGRhdGVDbHVzdGVyUHJvZ3Jlc3MgY2FsbGVkOmApO1xuXHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIEN1cnJlbnQgY29uZmlkZW5jZTogJHtjdXJyZW50UHJvZ3Jlc3MuY29uZmlkZW5jZX0lYCk7XG5cdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gQW5hbHlzaXMgY29uZmlkZW5jZTogJHthbmFseXNpcy5jb25maWRlbmNlfSVgKTtcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBDdXJyZW50IGNvbGxlY3RlZCBpbmZvOiAke2N1cnJlbnRQcm9ncmVzcy5jb2xsZWN0ZWRJbmZvLmxlbmd0aH0gaXRlbXNgKTtcblx0Y29uc29sZS5sb2coYPCflI0gQ0xVU1RFUiBFTkdJTkUgLSBOZXcgbWF0Y2hlZCBpbmZvOiAke2FuYWx5c2lzLm1hdGNoZWRJbmZvLmxlbmd0aH0gaXRlbXMgKCR7YW5hbHlzaXMubWF0Y2hlZEluZm8uam9pbignLCAnKX0pYCk7XG5cdFxuXHRjb25zdCBuZXdDb2xsZWN0ZWRJbmZvID0gWy4uLmN1cnJlbnRQcm9ncmVzcy5jb2xsZWN0ZWRJbmZvXTtcblx0XG5cdC8vIEFkZCBuZXcgaW5mb3JtYXRpb24gcG9pbnRzXG5cdGFuYWx5c2lzLm1hdGNoZWRJbmZvLmZvckVhY2goaW5mbyA9PiB7XG5cdFx0aWYgKCFuZXdDb2xsZWN0ZWRJbmZvLmluY2x1ZGVzKGluZm8pKSB7XG5cdFx0XHRuZXdDb2xsZWN0ZWRJbmZvLnB1c2goaW5mbyk7XG5cdFx0XHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIEFkZGVkIG5ldyBpbmZvIHBvaW50OiAke2luZm99YCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gSW5mbyBwb2ludCBhbHJlYWR5IGNvbGxlY3RlZDogJHtpbmZvfWApO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gVXBkYXRlIGNvbmZpZGVuY2UgLSB1c2UgdGhlIGxhdGVzdCBhbmFseXNpcyBjb25maWRlbmNlIGZvciBhY2N1cmF0ZSBzY29yaW5nXG5cdC8vIFRoaXMgZW5zdXJlcyB0aGUgcmVjYWxpYnJhdGVkIHNjb3Jpbmcgc3lzdGVtIHdvcmtzIHByb3Blcmx5XG5cdGNvbnN0IG5ld0NvbmZpZGVuY2UgPSBhbmFseXNpcy5jb25maWRlbmNlO1xuXHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIENvbmZpZGVuY2UgdXBkYXRlOiAke2N1cnJlbnRQcm9ncmVzcy5jb25maWRlbmNlfSUg4oaSICR7bmV3Q29uZmlkZW5jZX0lIChhbmFseXNpczogJHthbmFseXNpcy5jb25maWRlbmNlfSUpYCk7XG5cdFxuXHQvLyBEZXRlcm1pbmUgc3RhdHVzXG5cdGxldCBzdGF0dXMgPSBjdXJyZW50UHJvZ3Jlc3Muc3RhdHVzO1xuXHRpZiAoc3RhdHVzID09PSAnbm90LXN0YXJ0ZWQnICYmIG5ld0NvbmZpZGVuY2UgPiAwKSB7XG5cdFx0c3RhdHVzID0gJ2luLXByb2dyZXNzJztcblx0XHRjb25zb2xlLmxvZyhg8J+UjSBDTFVTVEVSIEVOR0lORSAtIFN0YXR1cyBjaGFuZ2VkIHRvOiBpbi1wcm9ncmVzc2ApO1xuXHR9XG5cblx0Y29uc3QgcmVzdWx0ID0ge1xuXHRcdGNvbmZpZGVuY2U6IE1hdGgubWluKG5ld0NvbmZpZGVuY2UsIDEwMCksXG5cdFx0c3RhdHVzLFxuXHRcdGNvbGxlY3RlZEluZm86IG5ld0NvbGxlY3RlZEluZm9cblx0fTtcblx0XG5cdGNvbnNvbGUubG9nKGDwn5SNIENMVVNURVIgRU5HSU5FIC0gRmluYWwgcHJvZ3Jlc3MgcmVzdWx0OmAsIHJlc3VsdCk7XG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEV4dHJhY3RzIGtleXdvcmRzIGZyb20gdGV4dCBmb3IgbWF0Y2hpbmdcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdEtleXdvcmRzKHRleHQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcblx0Ly8gUmVtb3ZlIGNvbW1vbiB3b3JkcyBhbmQgZXh0cmFjdCBtZWFuaW5nZnVsIHRlcm1zXG5cdGNvbnN0IHN0b3BXb3JkcyA9IFsnb2NoJywgJ2VsbGVyJywgJ21lbicsICdmw7ZyJywgJ2F0dCcsICdzb20nLCAnw6RyJywgJ2hhcicsICdrYW4nLCAnc2thJywgJ3ZpbGthJywgJ3ZhZCcsICdodXInLCAnbsOkcicsICd2YXInLCAndmFyZsO2ciddO1xuXHRcblx0cmV0dXJuIHRleHRcblx0XHQudG9Mb3dlckNhc2UoKVxuXHRcdC5yZXBsYWNlKC9bXlxcd1xcc10vZywgJyAnKVxuXHRcdC5zcGxpdCgvXFxzKy8pXG5cdFx0LmZpbHRlcih3b3JkID0+IHdvcmQubGVuZ3RoID4gMiAmJiAhc3RvcFdvcmRzLmluY2x1ZGVzKHdvcmQpKTtcbn1cblxuLyoqXG4gKiBHZXRzIGNvbXBsZXRpb24gc3VtbWFyeSBmb3IgYSBjbHVzdGVyXG4gKi9cbi8vIG1vdmVkIHRvIHByb2dyZXNzaW9uLnRzXG4iXSwibmFtZXMiOlsiZ2V0Q2x1c3RlckJ5SWQiLCJhbmFseXplVW5pdmVyc2FsUXVhbGl0eSIsImNhbGN1bGF0ZVJvbGVTcGVjaWZpY0NvbmZpZGVuY2UiLCJjYWxjdWxhdGVVbml2ZXJzYWxDb25maWRlbmNlIiwiUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFMiLCJjYWxjdWxhdGVDdW11bGF0aXZlUHJvZ3Jlc3MiLCJnZXRQaGFzZVByb2dyZXNzaW9uU2lnbmFsIiwiY2FuUHJvZ3Jlc3NUb05leHQiLCJnZW5lcmF0ZVBoYXNlVHJhbnNpdGlvbiIsImdldENsdXN0ZXJTdW1tYXJ5IiwiZGV0ZWN0Um9sZUNvbnRleHQiLCJhbmFseXplTWVzc2FnZSIsIm1lc3NhZ2UiLCJjdXJyZW50Q2x1c3RlciIsInJvbGVDb250ZXh0IiwiY2x1c3RlciIsImNvbnNvbGUiLCJsb2ciLCJjb25maWRlbmNlIiwibWF0Y2hlZEluZm8iLCJtaXNzaW5nSW5mbyIsInF1YWxpdHkiLCJjb21wbGV0aW9uVGhyZXNob2xkIiwicmVxdWlyZWRJbmZvIiwibGVuZ3RoIiwibWVzc2FnZUxvd2VyIiwidG9Mb3dlckNhc2UiLCJmb3JFYWNoIiwiaW5mb1BvaW50IiwiaGFzTWF0Y2giLCJjaGVja0luZm9Qb2ludE1hdGNoIiwicHVzaCIsImpvaW4iLCJxdWFsaXR5QW5hbHlzaXMiLCJyb2xlIiwic2VuaW9yaXR5IiwibWluQ29uZmlkZW5jZSIsIk1hdGgiLCJtYXgiLCJ0aHJlc2hvbGQiLCJkZXBhcnRtZW50IiwiY2F0ZWdvcmllc0NvdmVyZWQiLCJnZXRSb2xlQXdhcmVRdWVzdGlvbiIsImdldENoYWxsZW5nZXJJbnNpZ2h0IiwiZ2VuZXJhdGVRdWlja1Jlc3BvbnNlU3VnZ2VzdGlvbnMiLCJST0xFX1dFSUdIVFMiLCJleHBsYWluQ29uZmlkZW5jZSIsIm1lc3NhZ2VUZXh0IiwiY29udGVudCIsInRleHQiLCJsb3dlciIsInFhIiwiY2F0ZWdvcmllc1BvaW50cyIsInNwZWNpZmljaXR5UG9pbnRzIiwic3BlY2lmaWNpdHkiLCJxdWFudGlmaWNhdGlvblBvaW50cyIsInF1YW50aWZpY2F0aW9uIiwiY29udGV4dFBvaW50cyIsImNvbnRleHQiLCJjYXVzYWxpdHlQb2ludHMiLCJjYXVzYWxpdHkiLCJpbXBhY3RCb251cyIsImJ1c2luZXNzSW1wYWN0IiwidGltaW5nQm9udXMiLCJ0aW1pbmdDb250ZXh0IiwicHJlQ2FwU2NvcmUiLCJjYXBwZWRTY29yZSIsImNhcHNBcHBsaWVkIiwibWVzc2FnZVByZXZpZXciLCJzdWJzdHJpbmciLCJjYXRlZ29yaWVzIiwic2l0dWF0aW9uRGVzY3JpcHRpb24iLCJnYXBQYWluSWRlbnRpZmljYXRpb24iLCJ1bmRlZmluZWQiLCJzdGFrZWhvbGRlckVmZmVjdHMiLCJzY29wZVNjYWxlIiwiY292ZXJlZENvdW50IiwicG9pbnRzIiwicG9pbnRzUGVyQ2F0ZWdvcnkiLCJxdWFsaXR5SW5kaWNhdG9ycyIsInNjb3JlIiwidHJpZ2dlcnMiLCJib251c2VzIiwidG90YWxzIiwiZmluYWxDb25maWRlbmNlIiwibWluIiwicm91bmQiLCJub3RlcyIsInNlbWFudGljRW5oYW5jZUFuYWx5c2lzIiwiYmFzZSIsIndvcmRzIiwidHJpbSIsInNwbGl0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImJhc2VDb25maWRlbmNlIiwib2siLCJ3YXJuIiwiZGF0YSIsImpzb24iLCJlbmhhbmNlZENvbmZpZGVuY2UiLCJlcnJvciIsInBhdHRlcm5zIiwiY2x1c3RlclBhdHRlcm5zIiwiaW5mb1BhdHRlcm5zIiwia2V5d29yZHMiLCJleHRyYWN0S2V5d29yZHMiLCJzb21lIiwia2V5d29yZCIsImluY2x1ZGVzIiwicGF0dGVybiIsImdldENsdXN0ZXJTcGVjaWZpY0JvbnVzIiwiY2x1c3RlckJvbnVzIiwibWF0Y2hlcyIsImZpbHRlciIsImJvbnVzIiwiY2hlY2tDbHVzdGVyQ29tcGxldGlvbiIsImNsdXN0ZXJUeXBlIiwiY2x1c3RlckRlZiIsInN0YXR1cyIsImNvbGxlY3RlZEluZm8iLCJnZXROZXh0QWRhcHRpdmVRdWVzdGlvbiIsImdldEVuY291cmFnaW5nRm9sbG93VXAiLCJxdWVzdGlvbk1hcCIsImZpcnN0TWlzc2luZyIsImNsdXN0ZXJRdWVzdGlvbnMiLCJzcGVjaWZpY1F1ZXN0aW9uIiwiZW5jb3VyYWdlbWVudHMiLCJjbHVzdGVyRW5jb3VyYWdlbWVudHMiLCJmbG9vciIsInJhbmRvbSIsInVwZGF0ZUNsdXN0ZXJQcm9ncmVzcyIsImN1cnJlbnRQcm9ncmVzcyIsImFuYWx5c2lzIiwibmV3Q29sbGVjdGVkSW5mbyIsImluZm8iLCJuZXdDb25maWRlbmNlIiwicmVzdWx0Iiwic3RvcFdvcmRzIiwicmVwbGFjZSIsIndvcmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/cluster-engine.ts\n");

/***/ }),

/***/ "(rsc)/./lib/clusters.ts":
/*!*************************!*\
  !*** ./lib/clusters.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CLUSTERS: () => (/* binding */ CLUSTERS),\n/* harmony export */   calculateOverallProgress: () => (/* binding */ calculateOverallProgress),\n/* harmony export */   getClusterById: () => (/* binding */ getClusterById),\n/* harmony export */   getNextCluster: () => (/* binding */ getNextCluster),\n/* harmony export */   getPreviousCluster: () => (/* binding */ getPreviousCluster)\n/* harmony export */ });\nconst CLUSTERS = [\n    {\n        id: 'pain-point',\n        title: 'Problem & Pain Point',\n        icon: '🎯',\n        description: 'Identifiera det specifika problemet som rekryteringen ska lösa och de nuvarande smärtpunkterna.',\n        requiredInfo: [\n            'Nuvarande problem eller gap som behöver lösas',\n            'Konsekvenser av att inte lösa problemet',\n            'Vem som påverkas av problemet',\n            'Tidsram för när problemet måste lösas',\n            'Rotorsak till problemet',\n            'Föregående försök att lösa problemet',\n            'Kvantifierad påverkan på verksamheten',\n            'Stakeholders som påverkas'\n        ],\n        questions: [\n            'Vilket specifikt problem försöker ni lösa med denna rekrytering?',\n            'Vad händer om ni inte löser detta problem inom 6 månader?',\n            'Vilka team eller funktioner påverkas mest av detta problem?',\n            'Har ni försökt lösa detta problem tidigare? Vad fungerade inte?'\n        ],\n        completionThreshold: 70\n    },\n    {\n        id: 'impact-urgency',\n        title: 'Impact & Urgency',\n        icon: '⚡',\n        description: 'Kvantifiera påverkan och brådskan för att prioritera rekryteringsinvesteringen.',\n        requiredInfo: [\n            'Kvantifierad påverkan på verksamheten',\n            'Brådskan och tidskritiska faktorer',\n            'Affärsnytta och ROI-prognos',\n            'Risken av förseningar',\n            'Konkurrensmässiga konsekvenser',\n            'Kundpåverkan och förluster',\n            'Teamproduktivitet och belastning',\n            'Strategiska mål som påverkas'\n        ],\n        questions: [\n            'Hur mäter ni framgång för denna roll? Vilka KPI:er är viktigast?',\n            'Vad är den ekonomiska påverkan om ni inte fyller rollen inom 3 månader?',\n            'Finns det konkurrensmässiga fördelar med att agera snabbt?',\n            'Vilka externa faktorer påverkar tidsramen?'\n        ],\n        completionThreshold: 70\n    },\n    {\n        id: 'success-criteria',\n        title: 'Success Criteria',\n        icon: '✅',\n        description: 'Definiera tydliga, mätbara framgångskriterier för rollen och personen.',\n        requiredInfo: [\n            'Mätbara framgångskriterier för rollen',\n            'Kompetenser och erfarenheter som krävs',\n            'Prestanda-indikatorer och mål',\n            'Utvecklingspotential och tillväxt',\n            'Kulturell passning och värderingar',\n            'Ledarskapskvaliteter och stilar',\n            'Kommunikationsförmåga och samarbete',\n            'Långsiktiga karriärmöjligheter'\n        ],\n        questions: [\n            'Vilka specifika resultat förväntar ni er inom de första 90 dagarna?',\n            'Vilka tekniska eller funktionella kompetenser är absolut kritiska?',\n            'Hur kommer ni att mäta framgång efter 6 månader?',\n            'Vilken utvecklingspotential ser ni för personen i rollen?'\n        ],\n        completionThreshold: 70\n    },\n    {\n        id: 'resources-budget',\n        title: 'Resources & Budget',\n        icon: '💰',\n        description: 'Säkerställ tillräckliga resurser och budget för en framgångsrik rekrytering.',\n        requiredInfo: [\n            'Budget för rekrytering och onboarding',\n            'Tillgängliga interna resurser',\n            'Externa partners och verktyg',\n            'Långsiktiga kostnader och investeringar',\n            'Lönebudget och kompensationsstruktur',\n            'Onboarding och utbildningsresurser',\n            'Rekryteringsverktyg och plattformar',\n            'Backup-planer och alternativ'\n        ],\n        questions: [\n            'Vilken budget har ni för rekryteringsprocessen inklusive externa partners?',\n            'Vilka interna resurser kan ni tilldela för onboarding och utveckling?',\n            'Finns det befintliga verktyg eller system som kandidaten behöver kunna?',\n            'Vilka är de totala kostnaderna för rollen under de första 12 månaderna?'\n        ],\n        completionThreshold: 70\n    },\n    {\n        id: 'organization-culture',\n        title: 'Organization & Culture',\n        icon: '🏢',\n        description: 'Validera organisatorisk beredskap och kulturell passform för rollen.',\n        requiredInfo: [\n            'Organisatorisk struktur och rapporteringslinjer',\n            'Kulturella värderingar och arbetsmiljö',\n            'Teamdynamik och samarbetsmönster',\n            'Stöd och utvecklingsmöjligheter',\n            'Ledarskapsstil och beslutsprocesser',\n            'Kommunikationskultur och transparens',\n            'Konfliktlösning och feedback-kultur',\n            'Innovation och förändringsbenägenhet'\n        ],\n        questions: [\n            'Hur passar rollen in i er nuvarande organisationsstruktur?',\n            'Vilka kulturella värderingar är viktigast för framgång i rollen?',\n            'Hur kommer personen att samarbeta med andra team och funktioner?',\n            'Vilket stöd och vilka utvecklingsmöjligheter kan ni erbjuda?'\n        ],\n        completionThreshold: 70\n    },\n    {\n        id: 'alternatives-risks',\n        title: 'Alternatives & Risks',\n        icon: '🔄',\n        description: 'Utvärdera alternativ och identifiera risker för att säkerställa optimala beslut.',\n        requiredInfo: [\n            'Alternativa lösningar till rekrytering',\n            'Identifierade risker och mitigeringar',\n            'Fallback-planer och kontingenser',\n            'Långsiktiga konsekvenser av beslutet',\n            'Konkurrensmässiga hot och möjligheter',\n            'Marknadsförändringar och trender',\n            'Interna kapacitetsbegränsningar',\n            'Strategiska alternativ och scenarier'\n        ],\n        questions: [\n            'Vilka alternativ till extern rekrytering har ni övervägt?',\n            'Vilka är de största riskerna med denna rekrytering?',\n            'Hur skulle ni hantera situationen om kandidaten inte fungerar?',\n            'Vilka långsiktiga konsekvenser ser ni av detta beslut?'\n        ],\n        completionThreshold: 70\n    }\n];\nconst getClusterById = (id)=>{\n    return CLUSTERS.find((cluster)=>cluster.id === id);\n};\nconst getNextCluster = (currentCluster)=>{\n    const currentIndex = CLUSTERS.findIndex((cluster)=>cluster.id === currentCluster);\n    return currentIndex < CLUSTERS.length - 1 ? CLUSTERS[currentIndex + 1].id : null;\n};\nconst getPreviousCluster = (currentCluster)=>{\n    const currentIndex = CLUSTERS.findIndex((cluster)=>cluster.id === currentCluster);\n    return currentIndex > 0 ? CLUSTERS[currentIndex - 1].id : null;\n};\nconst calculateOverallProgress = (clusters)=>{\n    const totalClusters = CLUSTERS.length;\n    const completedClusters = Object.values(clusters).filter((cluster)=>cluster.status === 'completed').length;\n    const inProgressClusters = Object.values(clusters).filter((cluster)=>cluster.status === 'in-progress');\n    const inProgressProgress = inProgressClusters.reduce((sum, cluster)=>sum + cluster.confidence, 0) / totalClusters;\n    return Math.round(completedClusters / totalClusters * 100 + inProgressProgress);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S1Y7SUFFdEcsT0FBT1csS0FBS0MsS0FBSyxDQUFDLG9CQUFxQlosZ0JBQWlCLE1BQU1PO0FBQy9ELEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWN0YS8uL2xpYi9jbHVzdGVycy50cz8zNDY4Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB0eXBlIENsdXN0ZXJUeXBlID0gJ3BhaW4tcG9pbnQnIHwgJ2ltcGFjdC11cmdlbmN5JyB8ICdzdWNjZXNzLWNyaXRlcmlhJyB8ICdyZXNvdXJjZXMtYnVkZ2V0JyB8ICdvcmdhbml6YXRpb24tY3VsdHVyZScgfCAnYWx0ZXJuYXRpdmVzLXJpc2tzJztcblxuZXhwb3J0IGludGVyZmFjZSBDbHVzdGVyUHJvZ3Jlc3Mge1xuXHRjb25maWRlbmNlOiBudW1iZXI7IC8vIDAtMTAwXG5cdHN0YXR1czogJ25vdC1zdGFydGVkJyB8ICdpbi1wcm9ncmVzcycgfCAnY29tcGxldGVkJztcblx0Y29sbGVjdGVkSW5mbzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5hbHlzaXNTdGF0ZSB7XG5cdGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZTtcblx0Y2x1c3RlcnM6IFJlY29yZDxDbHVzdGVyVHlwZSwgQ2x1c3RlclByb2dyZXNzPjtcblx0b3ZlcmFsbFByb2dyZXNzOiBudW1iZXI7IC8vIDAtMTAwXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2x1c3RlciB7XG5cdGlkOiBDbHVzdGVyVHlwZTtcblx0dGl0bGU6IHN0cmluZztcblx0aWNvbjogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRyZXF1aXJlZEluZm86IHN0cmluZ1tdO1xuXHRxdWVzdGlvbnM6IHN0cmluZ1tdO1xuXHRjb21wbGV0aW9uVGhyZXNob2xkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBDTFVTVEVSUzogQ2x1c3RlcltdID0gW1xuXHR7XG5cdFx0aWQ6ICdwYWluLXBvaW50Jyxcblx0XHR0aXRsZTogJ1Byb2JsZW0gJiBQYWluIFBvaW50Jyxcblx0XHRpY29uOiAn8J+OrycsXG5cdFx0ZGVzY3JpcHRpb246ICdJZGVudGlmaWVyYSBkZXQgc3BlY2lmaWthIHByb2JsZW1ldCBzb20gcmVrcnl0ZXJpbmdlbiBza2EgbMO2c2Egb2NoIGRlIG51dmFyYW5kZSBzbcOkcnRwdW5rdGVybmEuJyxcblx0XHRyZXF1aXJlZEluZm86IFtcblx0XHRcdCdOdXZhcmFuZGUgcHJvYmxlbSBlbGxlciBnYXAgc29tIGJlaMO2dmVyIGzDtnNhcycsXG5cdFx0XHQnS29uc2VrdmVuc2VyIGF2IGF0dCBpbnRlIGzDtnNhIHByb2JsZW1ldCcsXG5cdFx0XHQnVmVtIHNvbSBww6V2ZXJrYXMgYXYgcHJvYmxlbWV0Jyxcblx0XHRcdCdUaWRzcmFtIGbDtnIgbsOkciBwcm9ibGVtZXQgbcOlc3RlIGzDtnNhcycsXG5cdFx0XHQnUm90b3JzYWsgdGlsbCBwcm9ibGVtZXQnLFxuXHRcdFx0J0bDtnJlZ8OlZW5kZSBmw7Zyc8O2ayBhdHQgbMO2c2EgcHJvYmxlbWV0Jyxcblx0XHRcdCdLdmFudGlmaWVyYWQgcMOldmVya2FuIHDDpSB2ZXJrc2FtaGV0ZW4nLFxuXHRcdFx0J1N0YWtlaG9sZGVycyBzb20gcMOldmVya2FzJ1xuXHRcdF0sXG5cdFx0cXVlc3Rpb25zOiBbXG5cdFx0XHQnVmlsa2V0IHNwZWNpZmlrdCBwcm9ibGVtIGbDtnJzw7ZrZXIgbmkgbMO2c2EgbWVkIGRlbm5hIHJla3J5dGVyaW5nPycsXG5cdFx0XHQnVmFkIGjDpG5kZXIgb20gbmkgaW50ZSBsw7ZzZXIgZGV0dGEgcHJvYmxlbSBpbm9tIDYgbcOlbmFkZXI/Jyxcblx0XHRcdCdWaWxrYSB0ZWFtIGVsbGVyIGZ1bmt0aW9uZXIgcMOldmVya2FzIG1lc3QgYXYgZGV0dGEgcHJvYmxlbT8nLFxuXHRcdFx0J0hhciBuaSBmw7Zyc8O2a3QgbMO2c2EgZGV0dGEgcHJvYmxlbSB0aWRpZ2FyZT8gVmFkIGZ1bmdlcmFkZSBpbnRlPydcblx0XHRdLFxuXHRcdGNvbXBsZXRpb25UaHJlc2hvbGQ6IDcwXG5cdH0sXG5cdHtcblx0XHRpZDogJ2ltcGFjdC11cmdlbmN5Jyxcblx0XHR0aXRsZTogJ0ltcGFjdCAmIFVyZ2VuY3knLFxuXHRcdGljb246ICfimqEnLFxuXHRcdGRlc2NyaXB0aW9uOiAnS3ZhbnRpZmllcmEgcMOldmVya2FuIG9jaCBicsOlZHNrYW4gZsO2ciBhdHQgcHJpb3JpdGVyYSByZWtyeXRlcmluZ3NpbnZlc3RlcmluZ2VuLicsXG5cdFx0cmVxdWlyZWRJbmZvOiBbXG5cdFx0XHQnS3ZhbnRpZmllcmFkIHDDpXZlcmthbiBww6UgdmVya3NhbWhldGVuJyxcblx0XHRcdCdCcsOlZHNrYW4gb2NoIHRpZHNrcml0aXNrYSBmYWt0b3JlcicsXG5cdFx0XHQnQWZmw6Ryc255dHRhIG9jaCBST0ktcHJvZ25vcycsXG5cdFx0XHQnUmlza2VuIGF2IGbDtnJzZW5pbmdhcicsXG5cdFx0XHQnS29ua3VycmVuc23DpHNzaWdhIGtvbnNla3ZlbnNlcicsXG5cdFx0XHQnS3VuZHDDpXZlcmthbiBvY2ggZsO2cmx1c3RlcicsXG5cdFx0XHQnVGVhbXByb2R1a3Rpdml0ZXQgb2NoIGJlbGFzdG5pbmcnLFxuXHRcdFx0J1N0cmF0ZWdpc2thIG3DpWwgc29tIHDDpXZlcmthcydcblx0XHRdLFxuXHRcdHF1ZXN0aW9uczogW1xuXHRcdFx0J0h1ciBtw6R0ZXIgbmkgZnJhbWfDpW5nIGbDtnIgZGVubmEgcm9sbD8gVmlsa2EgS1BJOmVyIMOkciB2aWt0aWdhc3Q/Jyxcblx0XHRcdCdWYWQgw6RyIGRlbiBla29ub21pc2thIHDDpXZlcmthbiBvbSBuaSBpbnRlIGZ5bGxlciByb2xsZW4gaW5vbSAzIG3DpW5hZGVyPycsXG5cdFx0XHQnRmlubnMgZGV0IGtvbmt1cnJlbnNtw6Rzc2lnYSBmw7ZyZGVsYXIgbWVkIGF0dCBhZ2VyYSBzbmFiYnQ/Jyxcblx0XHRcdCdWaWxrYSBleHRlcm5hIGZha3RvcmVyIHDDpXZlcmthciB0aWRzcmFtZW4/J1xuXHRcdF0sXG5cdFx0Y29tcGxldGlvblRocmVzaG9sZDogNzBcblx0fSxcblx0e1xuXHRcdGlkOiAnc3VjY2Vzcy1jcml0ZXJpYScsXG5cdFx0dGl0bGU6ICdTdWNjZXNzIENyaXRlcmlhJyxcblx0XHRpY29uOiAn4pyFJyxcblx0XHRkZXNjcmlwdGlvbjogJ0RlZmluaWVyYSB0eWRsaWdhLCBtw6R0YmFyYSBmcmFtZ8Olbmdza3JpdGVyaWVyIGbDtnIgcm9sbGVuIG9jaCBwZXJzb25lbi4nLFxuXHRcdHJlcXVpcmVkSW5mbzogW1xuXHRcdFx0J03DpHRiYXJhIGZyYW1nw6VuZ3Nrcml0ZXJpZXIgZsO2ciByb2xsZW4nLFxuXHRcdFx0J0tvbXBldGVuc2VyIG9jaCBlcmZhcmVuaGV0ZXIgc29tIGtyw6R2cycsXG5cdFx0XHQnUHJlc3RhbmRhLWluZGlrYXRvcmVyIG9jaCBtw6VsJyxcblx0XHRcdCdVdHZlY2tsaW5nc3BvdGVudGlhbCBvY2ggdGlsbHbDpHh0Jyxcblx0XHRcdCdLdWx0dXJlbGwgcGFzc25pbmcgb2NoIHbDpHJkZXJpbmdhcicsXG5cdFx0XHQnTGVkYXJza2Fwc2t2YWxpdGV0ZXIgb2NoIHN0aWxhcicsXG5cdFx0XHQnS29tbXVuaWthdGlvbnNmw7ZybcOlZ2Egb2NoIHNhbWFyYmV0ZScsXG5cdFx0XHQnTMOlbmdzaWt0aWdhIGthcnJpw6RybcO2amxpZ2hldGVyJ1xuXHRcdF0sXG5cdFx0cXVlc3Rpb25zOiBbXG5cdFx0XHQnVmlsa2Egc3BlY2lmaWthIHJlc3VsdGF0IGbDtnJ2w6RudGFyIG5pIGVyIGlub20gZGUgZsO2cnN0YSA5MCBkYWdhcm5hPycsXG5cdFx0XHQnVmlsa2EgdGVrbmlza2EgZWxsZXIgZnVua3Rpb25lbGxhIGtvbXBldGVuc2VyIMOkciBhYnNvbHV0IGtyaXRpc2thPycsXG5cdFx0XHQnSHVyIGtvbW1lciBuaSBhdHQgbcOkdGEgZnJhbWfDpW5nIGVmdGVyIDYgbcOlbmFkZXI/Jyxcblx0XHRcdCdWaWxrZW4gdXR2ZWNrbGluZ3Nwb3RlbnRpYWwgc2VyIG5pIGbDtnIgcGVyc29uZW4gaSByb2xsZW4/J1xuXHRcdF0sXG5cdFx0Y29tcGxldGlvblRocmVzaG9sZDogNzBcblx0fSxcblx0e1xuXHRcdGlkOiAncmVzb3VyY2VzLWJ1ZGdldCcsXG5cdFx0dGl0bGU6ICdSZXNvdXJjZXMgJiBCdWRnZXQnLFxuXHRcdGljb246ICfwn5KwJyxcblx0XHRkZXNjcmlwdGlvbjogJ1PDpGtlcnN0w6RsbCB0aWxscsOkY2tsaWdhIHJlc3Vyc2VyIG9jaCBidWRnZXQgZsO2ciBlbiBmcmFtZ8OlbmdzcmlrIHJla3J5dGVyaW5nLicsXG5cdFx0cmVxdWlyZWRJbmZvOiBbXG5cdFx0XHQnQnVkZ2V0IGbDtnIgcmVrcnl0ZXJpbmcgb2NoIG9uYm9hcmRpbmcnLFxuXHRcdFx0J1RpbGxnw6RuZ2xpZ2EgaW50ZXJuYSByZXN1cnNlcicsXG5cdFx0XHQnRXh0ZXJuYSBwYXJ0bmVycyBvY2ggdmVya3R5ZycsXG5cdFx0XHQnTMOlbmdzaWt0aWdhIGtvc3RuYWRlciBvY2ggaW52ZXN0ZXJpbmdhcicsXG5cdFx0XHQnTMO2bmVidWRnZXQgb2NoIGtvbXBlbnNhdGlvbnNzdHJ1a3R1cicsXG5cdFx0XHQnT25ib2FyZGluZyBvY2ggdXRiaWxkbmluZ3NyZXN1cnNlcicsXG5cdFx0XHQnUmVrcnl0ZXJpbmdzdmVya3R5ZyBvY2ggcGxhdHRmb3JtYXInLFxuXHRcdFx0J0JhY2t1cC1wbGFuZXIgb2NoIGFsdGVybmF0aXYnXG5cdFx0XSxcblx0XHRxdWVzdGlvbnM6IFtcblx0XHRcdCdWaWxrZW4gYnVkZ2V0IGhhciBuaSBmw7ZyIHJla3J5dGVyaW5nc3Byb2Nlc3NlbiBpbmtsdXNpdmUgZXh0ZXJuYSBwYXJ0bmVycz8nLFxuXHRcdFx0J1ZpbGthIGludGVybmEgcmVzdXJzZXIga2FuIG5pIHRpbGxkZWxhIGbDtnIgb25ib2FyZGluZyBvY2ggdXR2ZWNrbGluZz8nLFxuXHRcdFx0J0Zpbm5zIGRldCBiZWZpbnRsaWdhIHZlcmt0eWcgZWxsZXIgc3lzdGVtIHNvbSBrYW5kaWRhdGVuIGJlaMO2dmVyIGt1bm5hPycsXG5cdFx0XHQnVmlsa2Egw6RyIGRlIHRvdGFsYSBrb3N0bmFkZXJuYSBmw7ZyIHJvbGxlbiB1bmRlciBkZSBmw7Zyc3RhIDEyIG3DpW5hZGVybmE/J1xuXHRcdF0sXG5cdFx0Y29tcGxldGlvblRocmVzaG9sZDogNzBcblx0fSxcblx0e1xuXHRcdGlkOiAnb3JnYW5pemF0aW9uLWN1bHR1cmUnLFxuXHRcdHRpdGxlOiAnT3JnYW5pemF0aW9uICYgQ3VsdHVyZScsXG5cdFx0aWNvbjogJ/Cfj6InLFxuXHRcdGRlc2NyaXB0aW9uOiAnVmFsaWRlcmEgb3JnYW5pc2F0b3Jpc2sgYmVyZWRza2FwIG9jaCBrdWx0dXJlbGwgcGFzc2Zvcm0gZsO2ciByb2xsZW4uJyxcblx0XHRyZXF1aXJlZEluZm86IFtcblx0XHRcdCdPcmdhbmlzYXRvcmlzayBzdHJ1a3R1ciBvY2ggcmFwcG9ydGVyaW5nc2xpbmplcicsXG5cdFx0XHQnS3VsdHVyZWxsYSB2w6RyZGVyaW5nYXIgb2NoIGFyYmV0c21pbGrDticsXG5cdFx0XHQnVGVhbWR5bmFtaWsgb2NoIHNhbWFyYmV0c23Dtm5zdGVyJyxcblx0XHRcdCdTdMO2ZCBvY2ggdXR2ZWNrbGluZ3Ntw7ZqbGlnaGV0ZXInLFxuXHRcdFx0J0xlZGFyc2thcHNzdGlsIG9jaCBiZXNsdXRzcHJvY2Vzc2VyJyxcblx0XHRcdCdLb21tdW5pa2F0aW9uc2t1bHR1ciBvY2ggdHJhbnNwYXJlbnMnLFxuXHRcdFx0J0tvbmZsaWt0bMO2c25pbmcgb2NoIGZlZWRiYWNrLWt1bHR1cicsXG5cdFx0XHQnSW5ub3ZhdGlvbiBvY2ggZsO2csOkbmRyaW5nc2JlbsOkZ2VuaGV0J1xuXHRcdF0sXG5cdFx0cXVlc3Rpb25zOiBbXG5cdFx0XHQnSHVyIHBhc3NhciByb2xsZW4gaW4gaSBlciBudXZhcmFuZGUgb3JnYW5pc2F0aW9uc3N0cnVrdHVyPycsXG5cdFx0XHQnVmlsa2Ega3VsdHVyZWxsYSB2w6RyZGVyaW5nYXIgw6RyIHZpa3RpZ2FzdCBmw7ZyIGZyYW1nw6VuZyBpIHJvbGxlbj8nLFxuXHRcdFx0J0h1ciBrb21tZXIgcGVyc29uZW4gYXR0IHNhbWFyYmV0YSBtZWQgYW5kcmEgdGVhbSBvY2ggZnVua3Rpb25lcj8nLFxuXHRcdFx0J1ZpbGtldCBzdMO2ZCBvY2ggdmlsa2EgdXR2ZWNrbGluZ3Ntw7ZqbGlnaGV0ZXIga2FuIG5pIGVyYmp1ZGE/J1xuXHRcdF0sXG5cdFx0Y29tcGxldGlvblRocmVzaG9sZDogNzBcblx0fSxcblx0e1xuXHRcdGlkOiAnYWx0ZXJuYXRpdmVzLXJpc2tzJyxcblx0XHR0aXRsZTogJ0FsdGVybmF0aXZlcyAmIFJpc2tzJyxcblx0XHRpY29uOiAn8J+UhCcsXG5cdFx0ZGVzY3JpcHRpb246ICdVdHbDpHJkZXJhIGFsdGVybmF0aXYgb2NoIGlkZW50aWZpZXJhIHJpc2tlciBmw7ZyIGF0dCBzw6RrZXJzdMOkbGxhIG9wdGltYWxhIGJlc2x1dC4nLFxuXHRcdHJlcXVpcmVkSW5mbzogW1xuXHRcdFx0J0FsdGVybmF0aXZhIGzDtnNuaW5nYXIgdGlsbCByZWtyeXRlcmluZycsXG5cdFx0XHQnSWRlbnRpZmllcmFkZSByaXNrZXIgb2NoIG1pdGlnZXJpbmdhcicsXG5cdFx0XHQnRmFsbGJhY2stcGxhbmVyIG9jaCBrb250aW5nZW5zZXInLFxuXHRcdFx0J0zDpW5nc2lrdGlnYSBrb25zZWt2ZW5zZXIgYXYgYmVzbHV0ZXQnLFxuXHRcdFx0J0tvbmt1cnJlbnNtw6Rzc2lnYSBob3Qgb2NoIG3DtmpsaWdoZXRlcicsXG5cdFx0XHQnTWFya25hZHNmw7Zyw6RuZHJpbmdhciBvY2ggdHJlbmRlcicsXG5cdFx0XHQnSW50ZXJuYSBrYXBhY2l0ZXRzYmVncsOkbnNuaW5nYXInLFxuXHRcdFx0J1N0cmF0ZWdpc2thIGFsdGVybmF0aXYgb2NoIHNjZW5hcmllcidcblx0XHRdLFxuXHRcdHF1ZXN0aW9uczogW1xuXHRcdFx0J1ZpbGthIGFsdGVybmF0aXYgdGlsbCBleHRlcm4gcmVrcnl0ZXJpbmcgaGFyIG5pIMO2dmVydsOkZ3Q/Jyxcblx0XHRcdCdWaWxrYSDDpHIgZGUgc3TDtnJzdGEgcmlza2VybmEgbWVkIGRlbm5hIHJla3J5dGVyaW5nPycsXG5cdFx0XHQnSHVyIHNrdWxsZSBuaSBoYW50ZXJhIHNpdHVhdGlvbmVuIG9tIGthbmRpZGF0ZW4gaW50ZSBmdW5nZXJhcj8nLFxuXHRcdFx0J1ZpbGthIGzDpW5nc2lrdGlnYSBrb25zZWt2ZW5zZXIgc2VyIG5pIGF2IGRldHRhIGJlc2x1dD8nXG5cdFx0XSxcblx0XHRjb21wbGV0aW9uVGhyZXNob2xkOiA3MFxuXHR9XG5dO1xuXG5leHBvcnQgY29uc3QgZ2V0Q2x1c3RlckJ5SWQgPSAoaWQ6IENsdXN0ZXJUeXBlKTogQ2x1c3RlciB8IHVuZGVmaW5lZCA9PiB7XG5cdHJldHVybiBDTFVTVEVSUy5maW5kKGNsdXN0ZXIgPT4gY2x1c3Rlci5pZCA9PT0gaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE5leHRDbHVzdGVyID0gKGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZSk6IENsdXN0ZXJUeXBlIHwgbnVsbCA9PiB7XG5cdGNvbnN0IGN1cnJlbnRJbmRleCA9IENMVVNURVJTLmZpbmRJbmRleChjbHVzdGVyID0+IGNsdXN0ZXIuaWQgPT09IGN1cnJlbnRDbHVzdGVyKTtcblx0cmV0dXJuIGN1cnJlbnRJbmRleCA8IENMVVNURVJTLmxlbmd0aCAtIDEgPyBDTFVTVEVSU1tjdXJyZW50SW5kZXggKyAxXS5pZCA6IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJldmlvdXNDbHVzdGVyID0gKGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZSk6IENsdXN0ZXJUeXBlIHwgbnVsbCA9PiB7XG5cdGNvbnN0IGN1cnJlbnRJbmRleCA9IENMVVNURVJTLmZpbmRJbmRleChjbHVzdGVyID0+IGNsdXN0ZXIuaWQgPT09IGN1cnJlbnRDbHVzdGVyKTtcblx0cmV0dXJuIGN1cnJlbnRJbmRleCA+IDAgPyBDTFVTVEVSU1tjdXJyZW50SW5kZXggLSAxXS5pZCA6IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgY2FsY3VsYXRlT3ZlcmFsbFByb2dyZXNzID0gKGNsdXN0ZXJzOiBSZWNvcmQ8Q2x1c3RlclR5cGUsIENsdXN0ZXJQcm9ncmVzcz4pOiBudW1iZXIgPT4ge1xuXHRjb25zdCB0b3RhbENsdXN0ZXJzID0gQ0xVU1RFUlMubGVuZ3RoO1xuXHRjb25zdCBjb21wbGV0ZWRDbHVzdGVycyA9IE9iamVjdC52YWx1ZXMoY2x1c3RlcnMpLmZpbHRlcihjbHVzdGVyID0+IGNsdXN0ZXIuc3RhdHVzID09PSAnY29tcGxldGVkJykubGVuZ3RoO1xuXHRjb25zdCBpblByb2dyZXNzQ2x1c3RlcnMgPSBPYmplY3QudmFsdWVzKGNsdXN0ZXJzKS5maWx0ZXIoY2x1c3RlciA9PiBjbHVzdGVyLnN0YXR1cyA9PT0gJ2luLXByb2dyZXNzJyk7XG5cdFxuXHRjb25zdCBpblByb2dyZXNzUHJvZ3Jlc3MgPSBpblByb2dyZXNzQ2x1c3RlcnMucmVkdWNlKChzdW0sIGNsdXN0ZXIpID0+IHN1bSArIGNsdXN0ZXIuY29uZmlkZW5jZSwgMCkgLyB0b3RhbENsdXN0ZXJzO1xuXHRcblx0cmV0dXJuIE1hdGgucm91bmQoKGNvbXBsZXRlZENsdXN0ZXJzIC8gdG90YWxDbHVzdGVycykgKiAxMDAgKyBpblByb2dyZXNzUHJvZ3Jlc3MpO1xufTtcbiJdLCJuYW1lcyI6WyJDTFVTVEVSUyIsImlkIiwidGl0bGUiLCJpY29uIiwiZGVzY3JpcHRpb24iLCJyZXF1aXJlZEluZm8iLCJxdWVzdGlvbnMiLCJjb21wbGV0aW9uVGhyZXNob2xkIiwiZ2V0Q2x1c3RlckJ5SWQiLCJmaW5kIiwiY2x1c3RlciIsImdldE5leHRDbHVzdGVyIiwiY3VycmVudENsdXN0ZXIiLCJjdXJyZW50SW5kZXgiLCJmaW5kSW5kZXgiLCJsZW5ndGgiLCJnZXRQcmV2aW91c0NsdXN0ZXIiLCJjYWxjdWxhdGVPdmVyYWxsUHJvZ3Jlc3MiLCJjbHVzdGVycyIsInRvdGFsQ2x1c3RlcnMiLCJjb21wbGV0ZWRDbHVzdGVycyIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsInN0YXR1cyIsImluUHJvZ3Jlc3NDbHVzdGVycyIsImluUHJvZ3Jlc3NQcm9ncmVzcyIsInJlZHVjZSIsInN1bSIsImNvbmZpZGVuY2UiLCJNYXRoIiwicm91bmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/clusters.ts\n");

/***/ }),

/***/ "(rsc)/./lib/confidence.ts":
/*!***************************!*\
  !*** ./lib/confidence.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ROLE_COMPLETION_THRESHOLDS: () => (/* binding */ ROLE_COMPLETION_THRESHOLDS),\n/* harmony export */   ROLE_WEIGHTS: () => (/* binding */ ROLE_WEIGHTS),\n/* harmony export */   calculateRoleSpecificConfidence: () => (/* binding */ calculateRoleSpecificConfidence),\n/* harmony export */   calculateUniversalConfidence: () => (/* binding */ calculateUniversalConfidence)\n/* harmony export */ });\nconst ROLE_WEIGHTS = {\n    'cfo': {\n        specificity: 1.2,\n        quantification: 1.5,\n        context: 1.0,\n        causality: 1.1,\n        businessImpact: 1.4,\n        timingContext: 1.2\n    },\n    'finance': {\n        specificity: 1.1,\n        quantification: 1.4,\n        context: 1.0,\n        causality: 1.0,\n        businessImpact: 1.3,\n        timingContext: 1.1\n    },\n    'controller': {\n        specificity: 1.2,\n        quantification: 1.3,\n        context: 1.0,\n        causality: 1.0,\n        businessImpact: 1.2,\n        timingContext: 1.0\n    },\n    'tech': {\n        specificity: 1.3,\n        quantification: 1.0,\n        context: 1.2,\n        causality: 1.1,\n        businessImpact: 1.0,\n        timingContext: 1.1\n    },\n    'developer': {\n        specificity: 1.4,\n        quantification: 0.9,\n        context: 1.1,\n        causality: 1.0,\n        businessImpact: 0.9,\n        timingContext: 1.0\n    },\n    'engineer': {\n        specificity: 1.3,\n        quantification: 0.9,\n        context: 1.1,\n        causality: 1.0,\n        businessImpact: 0.9,\n        timingContext: 1.0\n    },\n    'tech-lead': {\n        specificity: 1.2,\n        quantification: 1.0,\n        context: 1.3,\n        causality: 1.2,\n        businessImpact: 1.1,\n        timingContext: 1.1\n    },\n    'cto': {\n        specificity: 1.1,\n        quantification: 1.1,\n        context: 1.4,\n        causality: 1.3,\n        businessImpact: 1.2,\n        timingContext: 1.2\n    },\n    'sales': {\n        specificity: 1.1,\n        quantification: 1.2,\n        context: 1.1,\n        causality: 1.2,\n        businessImpact: 1.3,\n        timingContext: 1.3\n    },\n    'sales-manager': {\n        specificity: 1.0,\n        quantification: 1.3,\n        context: 1.2,\n        causality: 1.3,\n        businessImpact: 1.4,\n        timingContext: 1.2\n    },\n    'account-manager': {\n        specificity: 1.0,\n        quantification: 1.2,\n        context: 1.1,\n        causality: 1.2,\n        businessImpact: 1.3,\n        timingContext: 1.1\n    },\n    'cmo': {\n        specificity: 1.0,\n        quantification: 1.1,\n        context: 1.3,\n        causality: 1.2,\n        businessImpact: 1.3,\n        timingContext: 1.2\n    },\n    'operations': {\n        specificity: 1.2,\n        quantification: 1.1,\n        context: 1.1,\n        causality: 1.1,\n        businessImpact: 1.1,\n        timingContext: 1.0\n    },\n    'operations-manager': {\n        specificity: 1.1,\n        quantification: 1.2,\n        context: 1.2,\n        causality: 1.2,\n        businessImpact: 1.2,\n        timingContext: 1.1\n    },\n    'coo': {\n        specificity: 1.0,\n        quantification: 1.1,\n        context: 1.3,\n        causality: 1.3,\n        businessImpact: 1.3,\n        timingContext: 1.2\n    },\n    'marketing': {\n        specificity: 1.0,\n        quantification: 1.1,\n        context: 1.3,\n        causality: 1.1,\n        businessImpact: 1.2,\n        timingContext: 1.1\n    },\n    'marketing-manager': {\n        specificity: 1.0,\n        quantification: 1.2,\n        context: 1.2,\n        causality: 1.2,\n        businessImpact: 1.3,\n        timingContext: 1.1\n    },\n    'hr': {\n        specificity: 1.0,\n        quantification: 1.0,\n        context: 1.2,\n        causality: 1.0,\n        businessImpact: 1.1,\n        timingContext: 1.0\n    },\n    'hr-manager': {\n        specificity: 1.0,\n        quantification: 1.1,\n        context: 1.3,\n        causality: 1.1,\n        businessImpact: 1.2,\n        timingContext: 1.0\n    },\n    'chro': {\n        specificity: 1.0,\n        quantification: 1.0,\n        context: 1.4,\n        causality: 1.2,\n        businessImpact: 1.3,\n        timingContext: 1.1\n    },\n    'default': {\n        specificity: 1.0,\n        quantification: 1.0,\n        context: 1.0,\n        causality: 1.0,\n        businessImpact: 1.0,\n        timingContext: 1.0\n    }\n};\nconst ROLE_COMPLETION_THRESHOLDS = {\n    'junior': {\n        'finance': 60,\n        'tech': 55,\n        'sales': 65,\n        'operations': 60,\n        'marketing': 60,\n        'hr': 55,\n        'general': 60\n    },\n    'mid': {\n        'finance': 70,\n        'tech': 65,\n        'sales': 75,\n        'operations': 70,\n        'marketing': 70,\n        'hr': 65,\n        'general': 70\n    },\n    'senior': {\n        'finance': 75,\n        'tech': 70,\n        'sales': 80,\n        'operations': 75,\n        'marketing': 75,\n        'hr': 70,\n        'general': 75\n    },\n    'executive': {\n        'finance': 80,\n        'tech': 75,\n        'sales': 85,\n        'operations': 80,\n        'marketing': 80,\n        'hr': 75,\n        'general': 80\n    }\n};\nconst calculateRoleSpecificConfidence = (analysis, roleContext, matchedInfoCount)=>{\n    const weights = ROLE_WEIGHTS[roleContext.role] || ROLE_WEIGHTS.default;\n    let confidence = 0;\n    confidence += analysis.categoriesCovered * 4;\n    confidence += analysis.specificity * 2 * weights.specificity;\n    confidence += analysis.quantification * 2 * weights.quantification;\n    confidence += analysis.context * 2 * weights.context;\n    confidence += analysis.causality * 2 * weights.causality;\n    if (analysis.businessImpact) confidence += 3 * weights.businessImpact;\n    if (analysis.timingContext) confidence += 3 * weights.timingContext;\n    const threshold = ROLE_COMPLETION_THRESHOLDS[roleContext.seniority][roleContext.department] || 70;\n    confidence = Math.min(confidence, threshold);\n    return Math.max(confidence, 0);\n};\nfunction calculateUniversalConfidence(analysis, matchedInfoCount) {\n    let confidence = 0;\n    confidence += analysis.categoriesCovered * 4;\n    confidence += analysis.specificity * 2;\n    confidence += analysis.quantification * 2;\n    confidence += analysis.context * 2;\n    confidence += analysis.causality * 2;\n    if (analysis.businessImpact) confidence += 3;\n    if (analysis.timingContext) confidence += 3;\n    if (analysis.categoriesCovered <= 2) confidence = Math.min(confidence, 30);\n    else if (analysis.categoriesCovered === 3) confidence = Math.min(confidence, 50);\n    else if (analysis.categoriesCovered >= 4) confidence = Math.min(confidence, 75);\n    if (analysis.businessImpact && analysis.timingContext) confidence = Math.min(confidence, 85);\n    else confidence = Math.min(confidence, 75);\n    confidence = Math.min(confidence, 80);\n    return Math.max(confidence, 0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUgsUUFBUU4sYUFBYTtJQUNuRSxNQUFNVyxZQUFZViwwQkFBMEIsQ0FBQ0csWUFBWVEsU0FBUyxDQUFDLENBQUNSLFlBQVlTLFVBQVUsQ0FBQyxJQUFJO0lBQy9GSixhQUFhSyxLQUFLQyxHQUFHLENBQUNOLFlBQVlFO0lBQ2xDLE9BQU9HLEtBQUtFLEdBQUcsQ0FBQ1AsWUFBWTtBQUM3QixFQUFFO0FBRUssU0FBU1EsNkJBQTZCZCxRQUFrQyxFQUFFRSxnQkFBd0I7SUFDeEcsSUFBSUksYUFBYTtJQUNqQkEsY0FBY04sU0FBU08saUJBQWlCLEdBQUc7SUFDM0NELGNBQWNOLFNBQVNSLFdBQVcsR0FBRztJQUNyQ2MsY0FBY04sU0FBU1AsY0FBYyxHQUFHO0lBQ3hDYSxjQUFjTixTQUFTTixPQUFPLEdBQUc7SUFDakNZLGNBQWNOLFNBQVNMLFNBQVMsR0FBRztJQUNuQyxJQUFJSyxTQUFTSixjQUFjLEVBQUVVLGNBQWM7SUFDM0MsSUFBSU4sU0FBU0gsYUFBYSxFQUFFUyxjQUFjO0lBQzFDLElBQUlOLFNBQVNPLGlCQUFpQixJQUFJLEdBQUdELGFBQWFLLEtBQUtDLEdBQUcsQ0FBQ04sWUFBWTtTQUNsRSxJQUFJTixTQUFTTyxpQkFBaUIsS0FBSyxHQUFHRCxhQUFhSyxLQUFLQyxHQUFHLENBQUNOLFlBQVk7U0FDeEUsSUFBSU4sU0FBU08saUJBQWlCLElBQUksR0FBR0QsYUFBYUssS0FBS0MsR0FBRyxDQUFDTixZQUFZO0lBQzVFLElBQUlOLFNBQVNKLGNBQWMsSUFBSUksU0FBU0gsYUFBYSxFQUFFUyxhQUFhSyxLQUFLQyxHQUFHLENBQUNOLFlBQVk7U0FDcEZBLGFBQWFLLEtBQUtDLEdBQUcsQ0FBQ04sWUFBWTtJQUN2Q0EsYUFBYUssS0FBS0MsR0FBRyxDQUFDTixZQUFZO0lBQ2xDLE9BQU9LLEtBQUtFLEdBQUcsQ0FBQ1AsWUFBWTtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY3RhLy4vbGliL2NvbmZpZGVuY2UudHM/NDg4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbHVzdGVyVHlwZSwgZ2V0Q2x1c3RlckJ5SWQgfSBmcm9tICcuL2NsdXN0ZXJzJztcbmltcG9ydCB7IFJvbGVDb250ZXh0IH0gZnJvbSAnLi9lbmdpbmUtdHlwZXMnO1xuaW1wb3J0IHsgVW5pdmVyc2FsUXVhbGl0eUFuYWx5c2lzIH0gZnJvbSAnLi9xdWFsaXR5LWFuYWx5c2lzJztcblxuZXhwb3J0IGludGVyZmFjZSBSb2xlV2VpZ2h0cyB7XG5cdHNwZWNpZmljaXR5OiBudW1iZXI7XG5cdHF1YW50aWZpY2F0aW9uOiBudW1iZXI7XG5cdGNvbnRleHQ6IG51bWJlcjtcblx0Y2F1c2FsaXR5OiBudW1iZXI7XG5cdGJ1c2luZXNzSW1wYWN0OiBudW1iZXI7XG5cdHRpbWluZ0NvbnRleHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IFJPTEVfV0VJR0hUUzogUmVjb3JkPHN0cmluZywgUm9sZVdlaWdodHM+ID0ge1xuXHQnY2ZvJzogeyBzcGVjaWZpY2l0eTogMS4yLCBxdWFudGlmaWNhdGlvbjogMS41LCBjb250ZXh0OiAxLjAsIGNhdXNhbGl0eTogMS4xLCBidXNpbmVzc0ltcGFjdDogMS40LCB0aW1pbmdDb250ZXh0OiAxLjIgfSxcblx0J2ZpbmFuY2UnOiB7IHNwZWNpZmljaXR5OiAxLjEsIHF1YW50aWZpY2F0aW9uOiAxLjQsIGNvbnRleHQ6IDEuMCwgY2F1c2FsaXR5OiAxLjAsIGJ1c2luZXNzSW1wYWN0OiAxLjMsIHRpbWluZ0NvbnRleHQ6IDEuMSB9LFxuXHQnY29udHJvbGxlcic6IHsgc3BlY2lmaWNpdHk6IDEuMiwgcXVhbnRpZmljYXRpb246IDEuMywgY29udGV4dDogMS4wLCBjYXVzYWxpdHk6IDEuMCwgYnVzaW5lc3NJbXBhY3Q6IDEuMiwgdGltaW5nQ29udGV4dDogMS4wIH0sXG5cdCd0ZWNoJzogeyBzcGVjaWZpY2l0eTogMS4zLCBxdWFudGlmaWNhdGlvbjogMS4wLCBjb250ZXh0OiAxLjIsIGNhdXNhbGl0eTogMS4xLCBidXNpbmVzc0ltcGFjdDogMS4wLCB0aW1pbmdDb250ZXh0OiAxLjEgfSxcblx0J2RldmVsb3Blcic6IHsgc3BlY2lmaWNpdHk6IDEuNCwgcXVhbnRpZmljYXRpb246IDAuOSwgY29udGV4dDogMS4xLCBjYXVzYWxpdHk6IDEuMCwgYnVzaW5lc3NJbXBhY3Q6IDAuOSwgdGltaW5nQ29udGV4dDogMS4wIH0sXG5cdCdlbmdpbmVlcic6IHsgc3BlY2lmaWNpdHk6IDEuMywgcXVhbnRpZmljYXRpb246IDAuOSwgY29udGV4dDogMS4xLCBjYXVzYWxpdHk6IDEuMCwgYnVzaW5lc3NJbXBhY3Q6IDAuOSwgdGltaW5nQ29udGV4dDogMS4wIH0sXG5cdCd0ZWNoLWxlYWQnOiB7IHNwZWNpZmljaXR5OiAxLjIsIHF1YW50aWZpY2F0aW9uOiAxLjAsIGNvbnRleHQ6IDEuMywgY2F1c2FsaXR5OiAxLjIsIGJ1c2luZXNzSW1wYWN0OiAxLjEsIHRpbWluZ0NvbnRleHQ6IDEuMSB9LFxuXHQnY3RvJzogeyBzcGVjaWZpY2l0eTogMS4xLCBxdWFudGlmaWNhdGlvbjogMS4xLCBjb250ZXh0OiAxLjQsIGNhdXNhbGl0eTogMS4zLCBidXNpbmVzc0ltcGFjdDogMS4yLCB0aW1pbmdDb250ZXh0OiAxLjIgfSxcblx0J3NhbGVzJzogeyBzcGVjaWZpY2l0eTogMS4xLCBxdWFudGlmaWNhdGlvbjogMS4yLCBjb250ZXh0OiAxLjEsIGNhdXNhbGl0eTogMS4yLCBidXNpbmVzc0ltcGFjdDogMS4zLCB0aW1pbmdDb250ZXh0OiAxLjMgfSxcblx0J3NhbGVzLW1hbmFnZXInOiB7IHNwZWNpZmljaXR5OiAxLjAsIHF1YW50aWZpY2F0aW9uOiAxLjMsIGNvbnRleHQ6IDEuMiwgY2F1c2FsaXR5OiAxLjMsIGJ1c2luZXNzSW1wYWN0OiAxLjQsIHRpbWluZ0NvbnRleHQ6IDEuMiB9LFxuXHQnYWNjb3VudC1tYW5hZ2VyJzogeyBzcGVjaWZpY2l0eTogMS4wLCBxdWFudGlmaWNhdGlvbjogMS4yLCBjb250ZXh0OiAxLjEsIGNhdXNhbGl0eTogMS4yLCBidXNpbmVzc0ltcGFjdDogMS4zLCB0aW1pbmdDb250ZXh0OiAxLjEgfSxcblx0J2Ntbyc6IHsgc3BlY2lmaWNpdHk6IDEuMCwgcXVhbnRpZmljYXRpb246IDEuMSwgY29udGV4dDogMS4zLCBjYXVzYWxpdHk6IDEuMiwgYnVzaW5lc3NJbXBhY3Q6IDEuMywgdGltaW5nQ29udGV4dDogMS4yIH0sXG5cdCdvcGVyYXRpb25zJzogeyBzcGVjaWZpY2l0eTogMS4yLCBxdWFudGlmaWNhdGlvbjogMS4xLCBjb250ZXh0OiAxLjEsIGNhdXNhbGl0eTogMS4xLCBidXNpbmVzc0ltcGFjdDogMS4xLCB0aW1pbmdDb250ZXh0OiAxLjAgfSxcblx0J29wZXJhdGlvbnMtbWFuYWdlcic6IHsgc3BlY2lmaWNpdHk6IDEuMSwgcXVhbnRpZmljYXRpb246IDEuMiwgY29udGV4dDogMS4yLCBjYXVzYWxpdHk6IDEuMiwgYnVzaW5lc3NJbXBhY3Q6IDEuMiwgdGltaW5nQ29udGV4dDogMS4xIH0sXG5cdCdjb28nOiB7IHNwZWNpZmljaXR5OiAxLjAsIHF1YW50aWZpY2F0aW9uOiAxLjEsIGNvbnRleHQ6IDEuMywgY2F1c2FsaXR5OiAxLjMsIGJ1c2luZXNzSW1wYWN0OiAxLjMsIHRpbWluZ0NvbnRleHQ6IDEuMiB9LFxuXHQnbWFya2V0aW5nJzogeyBzcGVjaWZpY2l0eTogMS4wLCBxdWFudGlmaWNhdGlvbjogMS4xLCBjb250ZXh0OiAxLjMsIGNhdXNhbGl0eTogMS4xLCBidXNpbmVzc0ltcGFjdDogMS4yLCB0aW1pbmdDb250ZXh0OiAxLjEgfSxcblx0J21hcmtldGluZy1tYW5hZ2VyJzogeyBzcGVjaWZpY2l0eTogMS4wLCBxdWFudGlmaWNhdGlvbjogMS4yLCBjb250ZXh0OiAxLjIsIGNhdXNhbGl0eTogMS4yLCBidXNpbmVzc0ltcGFjdDogMS4zLCB0aW1pbmdDb250ZXh0OiAxLjEgfSxcblx0J2hyJzogeyBzcGVjaWZpY2l0eTogMS4wLCBxdWFudGlmaWNhdGlvbjogMS4wLCBjb250ZXh0OiAxLjIsIGNhdXNhbGl0eTogMS4wLCBidXNpbmVzc0ltcGFjdDogMS4xLCB0aW1pbmdDb250ZXh0OiAxLjAgfSxcblx0J2hyLW1hbmFnZXInOiB7IHNwZWNpZmljaXR5OiAxLjAsIHF1YW50aWZpY2F0aW9uOiAxLjEsIGNvbnRleHQ6IDEuMywgY2F1c2FsaXR5OiAxLjEsIGJ1c2luZXNzSW1wYWN0OiAxLjIsIHRpbWluZ0NvbnRleHQ6IDEuMCB9LFxuXHQnY2hybyc6IHsgc3BlY2lmaWNpdHk6IDEuMCwgcXVhbnRpZmljYXRpb246IDEuMCwgY29udGV4dDogMS40LCBjYXVzYWxpdHk6IDEuMiwgYnVzaW5lc3NJbXBhY3Q6IDEuMywgdGltaW5nQ29udGV4dDogMS4xIH0sXG5cdCdkZWZhdWx0JzogeyBzcGVjaWZpY2l0eTogMS4wLCBxdWFudGlmaWNhdGlvbjogMS4wLCBjb250ZXh0OiAxLjAsIGNhdXNhbGl0eTogMS4wLCBidXNpbmVzc0ltcGFjdDogMS4wLCB0aW1pbmdDb250ZXh0OiAxLjAgfVxufTtcblxuZXhwb3J0IGNvbnN0IFJPTEVfQ09NUExFVElPTl9USFJFU0hPTERTOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PiA9IHtcblx0J2p1bmlvcic6IHsgJ2ZpbmFuY2UnOiA2MCwgJ3RlY2gnOiA1NSwgJ3NhbGVzJzogNjUsICdvcGVyYXRpb25zJzogNjAsICdtYXJrZXRpbmcnOiA2MCwgJ2hyJzogNTUsICdnZW5lcmFsJzogNjAgfSxcblx0J21pZCc6IHsgJ2ZpbmFuY2UnOiA3MCwgJ3RlY2gnOiA2NSwgJ3NhbGVzJzogNzUsICdvcGVyYXRpb25zJzogNzAsICdtYXJrZXRpbmcnOiA3MCwgJ2hyJzogNjUsICdnZW5lcmFsJzogNzAgfSxcblx0J3Nlbmlvcic6IHsgJ2ZpbmFuY2UnOiA3NSwgJ3RlY2gnOiA3MCwgJ3NhbGVzJzogODAsICdvcGVyYXRpb25zJzogNzUsICdtYXJrZXRpbmcnOiA3NSwgJ2hyJzogNzAsICdnZW5lcmFsJzogNzUgfSxcblx0J2V4ZWN1dGl2ZSc6IHsgJ2ZpbmFuY2UnOiA4MCwgJ3RlY2gnOiA3NSwgJ3NhbGVzJzogODUsICdvcGVyYXRpb25zJzogODAsICdtYXJrZXRpbmcnOiA4MCwgJ2hyJzogNzUsICdnZW5lcmFsJzogODAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVJvbGVTcGVjaWZpY0NvbmZpZGVuY2UgPSAoXG5cdGFuYWx5c2lzOiBVbml2ZXJzYWxRdWFsaXR5QW5hbHlzaXMsXG5cdHJvbGVDb250ZXh0OiBSb2xlQ29udGV4dCxcblx0bWF0Y2hlZEluZm9Db3VudDogbnVtYmVyXG4pOiBudW1iZXIgPT4ge1xuXHRjb25zdCB3ZWlnaHRzID0gUk9MRV9XRUlHSFRTW3JvbGVDb250ZXh0LnJvbGVdIHx8IFJPTEVfV0VJR0hUUy5kZWZhdWx0O1xuXHRsZXQgY29uZmlkZW5jZSA9IDA7XG5cdGNvbmZpZGVuY2UgKz0gYW5hbHlzaXMuY2F0ZWdvcmllc0NvdmVyZWQgKiA0O1xuXHRjb25maWRlbmNlICs9IGFuYWx5c2lzLnNwZWNpZmljaXR5ICogMiAqIHdlaWdodHMuc3BlY2lmaWNpdHk7XG5cdGNvbmZpZGVuY2UgKz0gYW5hbHlzaXMucXVhbnRpZmljYXRpb24gKiAyICogd2VpZ2h0cy5xdWFudGlmaWNhdGlvbjtcblx0Y29uZmlkZW5jZSArPSBhbmFseXNpcy5jb250ZXh0ICogMiAqIHdlaWdodHMuY29udGV4dDtcblx0Y29uZmlkZW5jZSArPSBhbmFseXNpcy5jYXVzYWxpdHkgKiAyICogd2VpZ2h0cy5jYXVzYWxpdHk7XG5cdGlmIChhbmFseXNpcy5idXNpbmVzc0ltcGFjdCkgY29uZmlkZW5jZSArPSAzICogd2VpZ2h0cy5idXNpbmVzc0ltcGFjdDtcblx0aWYgKGFuYWx5c2lzLnRpbWluZ0NvbnRleHQpIGNvbmZpZGVuY2UgKz0gMyAqIHdlaWdodHMudGltaW5nQ29udGV4dDtcblx0Y29uc3QgdGhyZXNob2xkID0gUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFNbcm9sZUNvbnRleHQuc2VuaW9yaXR5XVtyb2xlQ29udGV4dC5kZXBhcnRtZW50XSB8fCA3MDtcblx0Y29uZmlkZW5jZSA9IE1hdGgubWluKGNvbmZpZGVuY2UsIHRocmVzaG9sZCk7XG5cdHJldHVybiBNYXRoLm1heChjb25maWRlbmNlLCAwKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVVbml2ZXJzYWxDb25maWRlbmNlKGFuYWx5c2lzOiBVbml2ZXJzYWxRdWFsaXR5QW5hbHlzaXMsIG1hdGNoZWRJbmZvQ291bnQ6IG51bWJlcik6IG51bWJlciB7XG5cdGxldCBjb25maWRlbmNlID0gMDtcblx0Y29uZmlkZW5jZSArPSBhbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCAqIDQ7XG5cdGNvbmZpZGVuY2UgKz0gYW5hbHlzaXMuc3BlY2lmaWNpdHkgKiAyO1xuXHRjb25maWRlbmNlICs9IGFuYWx5c2lzLnF1YW50aWZpY2F0aW9uICogMjtcblx0Y29uZmlkZW5jZSArPSBhbmFseXNpcy5jb250ZXh0ICogMjtcblx0Y29uZmlkZW5jZSArPSBhbmFseXNpcy5jYXVzYWxpdHkgKiAyO1xuXHRpZiAoYW5hbHlzaXMuYnVzaW5lc3NJbXBhY3QpIGNvbmZpZGVuY2UgKz0gMztcblx0aWYgKGFuYWx5c2lzLnRpbWluZ0NvbnRleHQpIGNvbmZpZGVuY2UgKz0gMztcblx0aWYgKGFuYWx5c2lzLmNhdGVnb3JpZXNDb3ZlcmVkIDw9IDIpIGNvbmZpZGVuY2UgPSBNYXRoLm1pbihjb25maWRlbmNlLCAzMCk7XG5cdGVsc2UgaWYgKGFuYWx5c2lzLmNhdGVnb3JpZXNDb3ZlcmVkID09PSAzKSBjb25maWRlbmNlID0gTWF0aC5taW4oY29uZmlkZW5jZSwgNTApO1xuXHRlbHNlIGlmIChhbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCA+PSA0KSBjb25maWRlbmNlID0gTWF0aC5taW4oY29uZmlkZW5jZSwgNzUpO1xuXHRpZiAoYW5hbHlzaXMuYnVzaW5lc3NJbXBhY3QgJiYgYW5hbHlzaXMudGltaW5nQ29udGV4dCkgY29uZmlkZW5jZSA9IE1hdGgubWluKGNvbmZpZGVuY2UsIDg1KTtcblx0ZWxzZSBjb25maWRlbmNlID0gTWF0aC5taW4oY29uZmlkZW5jZSwgNzUpO1xuXHRjb25maWRlbmNlID0gTWF0aC5taW4oY29uZmlkZW5jZSwgODApO1xuXHRyZXR1cm4gTWF0aC5tYXgoY29uZmlkZW5jZSwgMCk7XG59XG5cblxuIl0sIm5hbWVzIjpbIlJPTEVfV0VJR0hUUyIsInNwZWNpZmljaXR5IiwicXVhbnRpZmljYXRpb24iLCJjb250ZXh0IiwiY2F1c2FsaXR5IiwiYnVzaW5lc3NJbXBhY3QiLCJ0aW1pbmdDb250ZXh0IiwiUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFMiLCJjYWxjdWxhdGVSb2xlU3BlY2lmaWNDb25maWRlbmNlIiwiYW5hbHlzaXMiLCJyb2xlQ29udGV4dCIsIm1hdGNoZWRJbmZvQ291bnQiLCJ3ZWlnaHRzIiwicm9sZSIsImRlZmF1bHQiLCJjb25maWRlbmNlIiwiY2F0ZWdvcmllc0NvdmVyZWQiLCJ0aHJlc2hvbGQiLCJzZW5pb3JpdHkiLCJkZXBhcnRtZW50IiwiTWF0aCIsIm1pbiIsIm1heCIsImNhbGN1bGF0ZVVuaXZlcnNhbENvbmZpZGVuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/confidence.ts\n");

/***/ }),

/***/ "(rsc)/./lib/progression.ts":
/*!****************************!*\
  !*** ./lib/progression.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateCumulativeProgress: () => (/* binding */ calculateCumulativeProgress),\n/* harmony export */   canProgressToNext: () => (/* binding */ canProgressToNext),\n/* harmony export */   generatePhaseTransition: () => (/* binding */ generatePhaseTransition),\n/* harmony export */   getClusterSummary: () => (/* binding */ getClusterSummary),\n/* harmony export */   getPhaseProgressionSignal: () => (/* binding */ getPhaseProgressionSignal)\n/* harmony export */ });\n/* harmony import */ var _clusters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./clusters */ \"(rsc)/./lib/clusters.ts\");\n/* harmony import */ var _quality_analysis__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quality-analysis */ \"(rsc)/./lib/quality-analysis.ts\");\n/* harmony import */ var _confidence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./confidence */ \"(rsc)/./lib/confidence.ts\");\n\n\n\nconst calculateCumulativeProgress = (messages, currentCluster, roleContext)=>{\n    const cluster = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(currentCluster);\n    if (!cluster) {\n        return {\n            totalInsights: 0,\n            gatheredInsights: [],\n            missingInsights: [],\n            phaseReadiness: 'gathering',\n            roleSpecificScore: 0,\n            completionThreshold: 70\n        };\n    }\n    const allText = messages.map((m)=>m.content).join(' ');\n    const messageLower = allText.toLowerCase();\n    const analysis = (0,_quality_analysis__WEBPACK_IMPORTED_MODULE_1__.analyzeUniversalQuality)(allText, messageLower);\n    const roleSpecificScore = (0,_confidence__WEBPACK_IMPORTED_MODULE_2__.calculateRoleSpecificConfidence)(analysis, roleContext, 0);\n    const gatheredInsights = [];\n    const missingInsights = [];\n    cluster.requiredInfo.forEach((infoPoint)=>{\n        const hasMatch = checkInfoPointMatchInternal(messageLower, infoPoint, currentCluster);\n        if (hasMatch) gatheredInsights.push(infoPoint);\n        else missingInsights.push(infoPoint);\n    });\n    const completionThreshold = _confidence__WEBPACK_IMPORTED_MODULE_2__.ROLE_COMPLETION_THRESHOLDS[roleContext.seniority][roleContext.department] || 70;\n    let phaseReadiness = 'gathering';\n    if (roleSpecificScore >= completionThreshold && gatheredInsights.length >= cluster.requiredInfo.length * 0.7) phaseReadiness = 'ready';\n    if (gatheredInsights.length >= cluster.requiredInfo.length) phaseReadiness = 'complete';\n    return {\n        totalInsights: cluster.requiredInfo.length,\n        gatheredInsights,\n        missingInsights,\n        phaseReadiness,\n        roleSpecificScore,\n        completionThreshold\n    };\n};\nconst getPhaseProgressionSignal = (currentCluster, roleContext, cumulativeProgress)=>{\n    const roleSignals = {\n        'pain-point': {\n            'cfo': [\n                'Bra! Nu förstår jag det finansiella problemet. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er ekonomiska utmaning. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er finansiella situation. Låt oss nu fokusera på kostnader och påverkan.'\n            ],\n            'tech': [\n                'Bra! Nu förstår jag det tekniska problemet. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er tekniska utmaning. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er tekniska situation. Låt oss nu fokusera på kostnader och påverkan.'\n            ],\n            'sales': [\n                'Bra! Nu förstår jag er försäljningsutmaning. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er säljproblem. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er försäljningssituation. Låt oss nu fokusera på kostnader och påverkan.'\n            ],\n            'operations': [\n                'Bra! Nu förstår jag er driftsutmaning. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er processproblem. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er driftsituation. Låt oss nu fokusera på kostnader och påverkan.'\n            ],\n            'marketing': [\n                'Bra! Nu förstår jag er marknadsutmaning. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er marknadsproblem. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er marknadssituation. Låt oss nu fokusera på kostnader och påverkan.'\n            ],\n            'hr': [\n                'Bra! Nu förstår jag er personalutmaning. Låt oss titta på vad det kostar er.',\n                'Perfekt! Vi har en tydlig bild av er HR-problem. Nu behöver vi kvantifiera påverkan.',\n                'Utmärkt! Jag förstår er personalsituation. Låt oss nu fokusera på kostnader och påverkan.'\n            ]\n        }\n    };\n    const clusterSignals = roleSignals[currentCluster] || {};\n    const roleSpecificSignals = clusterSignals[roleContext.role] || clusterSignals['default'] || [\n        'Bra! Nu förstår jag problemet. Låt oss titta på vad det kostar er.',\n        'Perfekt! Vi har en tydlig bild av utmaningen. Nu behöver vi kvantifiera påverkan.',\n        'Utmärkt! Jag förstår situationen. Låt oss nu fokusera på kostnader och påverkan.'\n    ];\n    return roleSpecificSignals[Math.floor(Math.random() * roleSpecificSignals.length)];\n};\nconst canProgressToNext = (currentCluster, clusterType)=>{\n    const cluster = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(clusterType);\n    if (!cluster) return false;\n    const minExchanges = 5;\n    const hasMinimumExchanges = currentCluster.collectedInfo.length >= minExchanges;\n    const hasHighConfidence = currentCluster.confidence >= cluster.completionThreshold;\n    const requiredInfoCount = cluster.requiredInfo.length;\n    const collectedInfoCount = currentCluster.collectedInfo.length;\n    const coverageRatio = collectedInfoCount / requiredInfoCount;\n    const hasSubstantialCoverage = coverageRatio >= 0.75;\n    return hasMinimumExchanges && hasHighConfidence && hasSubstantialCoverage;\n};\nconst generatePhaseTransition = (fromCluster, toCluster)=>{\n    const from = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(fromCluster);\n    const to = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(toCluster);\n    if (!from || !to) {\n        return {\n            message: \"Okej, låt oss gå vidare.\",\n            summary: \"Fortsättning av analysen\",\n            nextSteps: [\n                \"Fortsätt med nästa fas\"\n            ]\n        };\n    }\n    const transitions = {\n        'pain-point->impact-urgency': {\n            message: `Bra! Nu förstår jag problemet. Låt oss titta på vad det kostar er.`,\n            summary: `Avslutat: ${from.title} → Startar: ${to.title}`,\n            nextSteps: [\n                \"Kvantifiera påverkan på verksamheten\",\n                \"Identifiera tidskritiska faktorer\",\n                \"Bedöma affärsnytta och ROI\"\n            ]\n        },\n        'impact-urgency->success-criteria': {\n            message: `Okej, så nu vet vi vad det kostar. Vad ska personen åstadkomma?`,\n            summary: `Avslutat: ${from.title} → Startar: ${to.title}`,\n            nextSteps: [\n                \"Definiera mätbara framgångskriterier\",\n                \"Specificera kritiska kompetenser\",\n                \"Ställa upp prestanda-indikatorer\"\n            ]\n        },\n        'success-criteria->resources-budget': {\n            message: `Bra! Nu vet vi vad som ska åstadkommas. Vilka resurser har ni?`,\n            summary: `Avslutat: ${from.title} → Startar: ${to.title}`,\n            nextSteps: [\n                \"Bedöma budget och resurser\",\n                \"Planera onboarding-processen\",\n                \"Identifiera externa partners\"\n            ]\n        },\n        'resources-budget->organization-culture': {\n            message: `Okej, så resurserna finns. Hur passar rollen in i er organisation?`,\n            summary: `Avslutat: ${from.title} → Startar: ${to.title}`,\n            nextSteps: [\n                \"Validera organisationsstruktur\",\n                \"Bedöma kulturell passform\",\n                \"Planera teamintegration\"\n            ]\n        },\n        'organization-culture->alternatives-risks': {\n            message: `Bra! Nu har vi en bra bild. Låt oss titta på risker och alternativ.`,\n            summary: `Avslutat: ${from.title} → Startar: ${to.title}`,\n            nextSteps: [\n                \"Utvärdera alternativa lösningar\",\n                \"Identifiera och mitigera risker\",\n                \"Skapa fallback-planer\"\n            ]\n        }\n    };\n    const transitionKey = `${fromCluster}->${toCluster}`;\n    return transitions[transitionKey] || {\n        message: `Låt oss fortsätta med ${to.title}. ${to.description}`,\n        summary: `Fortsätter till: ${to.title}`,\n        nextSteps: [\n            \"Fortsätt med analysen\"\n        ]\n    };\n};\nconst getClusterSummary = (clusterType, progress)=>{\n    const cluster = (0,_clusters__WEBPACK_IMPORTED_MODULE_0__.getClusterById)(clusterType);\n    if (!cluster) return \"Okänd kluster\";\n    const completion = Math.round(progress.collectedInfo.length / cluster.requiredInfo.length * 100);\n    return `${cluster.title}: ${completion}% komplett (${progress.confidence}% säkerhet)`;\n};\nfunction checkInfoPointMatchInternal(message, infoPoint, cluster) {\n    const patterns = {\n        'pain-point': {\n            'Nuvarande problem eller gap som behöver lösas': [\n                'problem',\n                'gap',\n                'behöver',\n                'saknas',\n                'brist',\n                'utmaning',\n                'svårighet',\n                'cfo',\n                'chef',\n                'ledare'\n            ],\n            'Konsekvenser av att inte lösa problemet': [\n                'konsekvens',\n                'risker',\n                'händer om',\n                'om vi inte',\n                'försening',\n                'kostnad'\n            ],\n            'Vem som påverkas av problemet': [\n                'team',\n                'avdelning',\n                'organisation',\n                'påverkas',\n                'drabbas',\n                'berör'\n            ],\n            'Tidsram för när problemet måste lösas': [\n                'tidsram',\n                'när',\n                'snart',\n                'månader',\n                'veckor',\n                'akut',\n                'brådskande'\n            ]\n        },\n        'impact-urgency': {\n            'Kvantifierad påverkan på verksamheten': [\n                'påverkan',\n                'effekt',\n                'resultat',\n                'kpi',\n                'mätbar',\n                'siffror',\n                'procent'\n            ],\n            'Brådskan och tidskritiska faktorer': [\n                'brådskande',\n                'akut',\n                'tidskritisk',\n                'deadline',\n                'snart',\n                'månader'\n            ],\n            'Affärsnytta och ROI-prognos': [\n                'roi',\n                'affärsnytta',\n                'vinst',\n                'kostnad',\n                'investering',\n                'tillbaka'\n            ],\n            'Risken av förseningar': [\n                'risk',\n                'försening',\n                'förlust',\n                'missad',\n                'chans',\n                'konkurrens'\n            ]\n        },\n        'success-criteria': {\n            'Mätbara framgångskriterier för rollen': [\n                'framgång',\n                'mål',\n                'kriterier',\n                'mätbar',\n                'kpi',\n                'resultat'\n            ],\n            'Kompetenser och erfarenheter som krävs': [\n                'kompetens',\n                'erfarenhet',\n                'kunskaper',\n                'färdigheter',\n                'utbildning'\n            ],\n            'Prestanda-indikatorer och mål': [\n                'prestanda',\n                'indikatorer',\n                'mål',\n                'benchmark',\n                'standard'\n            ],\n            'Utvecklingspotential och tillväxt': [\n                'utveckling',\n                'tillväxt',\n                'potential',\n                'karriär',\n                'framtid'\n            ]\n        },\n        'resources-budget': {\n            'Budget för rekrytering och onboarding': [\n                'budget',\n                'kostnad',\n                'pengar',\n                'resurser',\n                'onboarding'\n            ],\n            'Tillgängliga interna resurser': [\n                'interna',\n                'resurser',\n                'personal',\n                'team',\n                'hjälp'\n            ],\n            'Externa partners och verktyg': [\n                'externa',\n                'partners',\n                'verktyg',\n                'system',\n                'konsulter'\n            ],\n            'Långsiktiga kostnader och investeringar': [\n                'långsiktig',\n                'investering',\n                'kostnad',\n                'framtid',\n                'år'\n            ]\n        },\n        'organization-culture': {\n            'Organisatorisk struktur och rapporteringslinjer': [\n                'struktur',\n                'rapportering',\n                'hierarki',\n                'organisation',\n                'chef'\n            ],\n            'Kulturella värderingar och arbetsmiljö': [\n                'kultur',\n                'värderingar',\n                'miljö',\n                'atmosfär',\n                'stil'\n            ],\n            'Teamdynamik och samarbetsmönster': [\n                'team',\n                'samarbete',\n                'dynamik',\n                'grupp',\n                'kollegor'\n            ],\n            'Stöd och utvecklingsmöjligheter': [\n                'stöd',\n                'utveckling',\n                'möjligheter',\n                'träning',\n                'lärande'\n            ]\n        },\n        'alternatives-risks': {\n            'Alternativa lösningar till rekrytering': [\n                'alternativ',\n                'andra',\n                'lösningar',\n                'istället',\n                'utöver'\n            ],\n            'Identifierade risker och mitigeringar': [\n                'risker',\n                'risk',\n                'problem',\n                'mitigering',\n                'hantera'\n            ],\n            'Fallback-planer och kontingenser': [\n                'fallback',\n                'plan b',\n                'kontingens',\n                'reserv',\n                'backup'\n            ],\n            'Långsiktiga konsekvenser av beslutet': [\n                'långsiktig',\n                'konsekvenser',\n                'framtid',\n                'påverkan',\n                'resultat'\n            ]\n        }\n    };\n    const clusterPatterns = patterns[cluster];\n    const infoPatterns = clusterPatterns[infoPoint];\n    if (!infoPatterns) {\n        const keywords = infoPoint.toLowerCase().replace(/[^\\w\\s]/g, ' ').split(/\\s+/).filter((w)=>w.length > 2);\n        return keywords.some((keyword)=>message.includes(keyword.toLowerCase()));\n    }\n    return infoPatterns.some((pattern)=>message.includes(pattern));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWU7Z0JBQVc7Z0JBQWU7YUFBTztZQUMvRywwQ0FBMEM7Z0JBQUM7Z0JBQVM7Z0JBQWM7Z0JBQVE7Z0JBQVc7YUFBTztZQUM1RixvQ0FBb0M7Z0JBQUM7Z0JBQU87Z0JBQVk7Z0JBQVU7Z0JBQVE7YUFBVztZQUNyRixtQ0FBbUM7Z0JBQUM7Z0JBQU87Z0JBQWE7Z0JBQWM7Z0JBQVU7YUFBVTtRQUMzRjtRQUNBLHNCQUFzQjtZQUNyQiwwQ0FBMEM7Z0JBQUM7Z0JBQWE7Z0JBQVE7Z0JBQVk7Z0JBQVc7YUFBUztZQUNoRyx5Q0FBeUM7Z0JBQUM7Z0JBQVM7Z0JBQU87Z0JBQVU7Z0JBQWE7YUFBVTtZQUMzRixvQ0FBb0M7Z0JBQUM7Z0JBQVc7Z0JBQVM7Z0JBQWE7Z0JBQVM7YUFBUztZQUN4Rix3Q0FBd0M7Z0JBQUM7Z0JBQWE7Z0JBQWU7Z0JBQVU7Z0JBQVc7YUFBVztRQUN0RztJQUNEO0lBQ0EsTUFBTUMsa0JBQWtCRCxRQUFRLENBQUM1RCxRQUFRO0lBQ3pDLE1BQU04RCxlQUFlRCxlQUFlLENBQUM1QyxVQUFVO0lBQy9DLElBQUksQ0FBQzZDLGNBQWM7UUFDbEIsTUFBTUMsV0FBVzlDLFVBQVVKLFdBQVcsR0FBR21ELE9BQU8sQ0FBQyxZQUFXLEtBQUtDLEtBQUssQ0FBQyxPQUFPQyxNQUFNLENBQUNDLENBQUFBLElBQUdBLEVBQUU1QyxNQUFNLEdBQUM7UUFDakcsT0FBT3dDLFNBQVNLLElBQUksQ0FBQ0MsQ0FBQUEsVUFBV3BCLFFBQVFxQixRQUFRLENBQUNELFFBQVF4RCxXQUFXO0lBQ3JFO0lBQ0EsT0FBT2lELGFBQWFNLElBQUksQ0FBQ0csQ0FBQUEsVUFBV3RCLFFBQVFxQixRQUFRLENBQUNDO0FBQ3REIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjdGEvLi9saWIvcHJvZ3Jlc3Npb24udHM/YzM3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbHVzdGVyVHlwZSwgZ2V0Q2x1c3RlckJ5SWQgfSBmcm9tICcuL2NsdXN0ZXJzJztcbmltcG9ydCB7IENvbnZlcnNhdGlvbk1lc3NhZ2UsIFJvbGVDb250ZXh0IH0gZnJvbSAnLi9lbmdpbmUtdHlwZXMnO1xuaW1wb3J0IHsgYW5hbHl6ZVVuaXZlcnNhbFF1YWxpdHkgfSBmcm9tICcuL3F1YWxpdHktYW5hbHlzaXMnO1xuaW1wb3J0IHsgY2FsY3VsYXRlUm9sZVNwZWNpZmljQ29uZmlkZW5jZSwgUk9MRV9DT01QTEVUSU9OX1RIUkVTSE9MRFMgfSBmcm9tICcuL2NvbmZpZGVuY2UnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEN1bXVsYXRpdmVQcm9ncmVzcyB7XG5cdHRvdGFsSW5zaWdodHM6IG51bWJlcjtcblx0Z2F0aGVyZWRJbnNpZ2h0czogc3RyaW5nW107XG5cdG1pc3NpbmdJbnNpZ2h0czogc3RyaW5nW107XG5cdHBoYXNlUmVhZGluZXNzOiAnZ2F0aGVyaW5nJyB8ICdyZWFkeScgfCAnY29tcGxldGUnO1xuXHRyb2xlU3BlY2lmaWNTY29yZTogbnVtYmVyO1xuXHRjb21wbGV0aW9uVGhyZXNob2xkOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVDdW11bGF0aXZlUHJvZ3Jlc3MgPSAoXG5cdG1lc3NhZ2VzOiBDb252ZXJzYXRpb25NZXNzYWdlW10sXG5cdGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZSxcblx0cm9sZUNvbnRleHQ6IFJvbGVDb250ZXh0XG4pOiBDdW11bGF0aXZlUHJvZ3Jlc3MgPT4ge1xuXHRjb25zdCBjbHVzdGVyID0gZ2V0Q2x1c3RlckJ5SWQoY3VycmVudENsdXN0ZXIpO1xuXHRpZiAoIWNsdXN0ZXIpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG90YWxJbnNpZ2h0czogMCxcblx0XHRcdGdhdGhlcmVkSW5zaWdodHM6IFtdLFxuXHRcdFx0bWlzc2luZ0luc2lnaHRzOiBbXSxcblx0XHRcdHBoYXNlUmVhZGluZXNzOiAnZ2F0aGVyaW5nJyxcblx0XHRcdHJvbGVTcGVjaWZpY1Njb3JlOiAwLFxuXHRcdFx0Y29tcGxldGlvblRocmVzaG9sZDogNzBcblx0XHR9O1xuXHR9XG5cblx0Y29uc3QgYWxsVGV4dCA9IG1lc3NhZ2VzLm1hcChtID0+IG0uY29udGVudCkuam9pbignICcpO1xuXHRjb25zdCBtZXNzYWdlTG93ZXIgPSBhbGxUZXh0LnRvTG93ZXJDYXNlKCk7XG5cblx0Y29uc3QgYW5hbHlzaXMgPSBhbmFseXplVW5pdmVyc2FsUXVhbGl0eShhbGxUZXh0LCBtZXNzYWdlTG93ZXIpO1xuXHRjb25zdCByb2xlU3BlY2lmaWNTY29yZSA9IGNhbGN1bGF0ZVJvbGVTcGVjaWZpY0NvbmZpZGVuY2UoYW5hbHlzaXMsIHJvbGVDb250ZXh0LCAwKTtcblxuXHRjb25zdCBnYXRoZXJlZEluc2lnaHRzOiBzdHJpbmdbXSA9IFtdO1xuXHRjb25zdCBtaXNzaW5nSW5zaWdodHM6IHN0cmluZ1tdID0gW107XG5cblx0Y2x1c3Rlci5yZXF1aXJlZEluZm8uZm9yRWFjaChpbmZvUG9pbnQgPT4ge1xuXHRcdGNvbnN0IGhhc01hdGNoID0gY2hlY2tJbmZvUG9pbnRNYXRjaEludGVybmFsKG1lc3NhZ2VMb3dlciwgaW5mb1BvaW50LCBjdXJyZW50Q2x1c3Rlcik7XG5cdFx0aWYgKGhhc01hdGNoKSBnYXRoZXJlZEluc2lnaHRzLnB1c2goaW5mb1BvaW50KTtcblx0XHRlbHNlIG1pc3NpbmdJbnNpZ2h0cy5wdXNoKGluZm9Qb2ludCk7XG5cdH0pO1xuXG5cdGNvbnN0IGNvbXBsZXRpb25UaHJlc2hvbGQgPSBST0xFX0NPTVBMRVRJT05fVEhSRVNIT0xEU1tyb2xlQ29udGV4dC5zZW5pb3JpdHldW3JvbGVDb250ZXh0LmRlcGFydG1lbnRdIHx8IDcwO1xuXHRsZXQgcGhhc2VSZWFkaW5lc3M6ICdnYXRoZXJpbmcnIHwgJ3JlYWR5JyB8ICdjb21wbGV0ZScgPSAnZ2F0aGVyaW5nJztcblx0aWYgKHJvbGVTcGVjaWZpY1Njb3JlID49IGNvbXBsZXRpb25UaHJlc2hvbGQgJiYgZ2F0aGVyZWRJbnNpZ2h0cy5sZW5ndGggPj0gY2x1c3Rlci5yZXF1aXJlZEluZm8ubGVuZ3RoICogMC43KSBwaGFzZVJlYWRpbmVzcyA9ICdyZWFkeSc7XG5cdGlmIChnYXRoZXJlZEluc2lnaHRzLmxlbmd0aCA+PSBjbHVzdGVyLnJlcXVpcmVkSW5mby5sZW5ndGgpIHBoYXNlUmVhZGluZXNzID0gJ2NvbXBsZXRlJztcblxuXHRyZXR1cm4ge1xuXHRcdHRvdGFsSW5zaWdodHM6IGNsdXN0ZXIucmVxdWlyZWRJbmZvLmxlbmd0aCxcblx0XHRnYXRoZXJlZEluc2lnaHRzLFxuXHRcdG1pc3NpbmdJbnNpZ2h0cyxcblx0XHRwaGFzZVJlYWRpbmVzcyxcblx0XHRyb2xlU3BlY2lmaWNTY29yZSxcblx0XHRjb21wbGV0aW9uVGhyZXNob2xkXG5cdH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UGhhc2VQcm9ncmVzc2lvblNpZ25hbCA9IChcblx0Y3VycmVudENsdXN0ZXI6IENsdXN0ZXJUeXBlLFxuXHRyb2xlQ29udGV4dDogUm9sZUNvbnRleHQsXG5cdGN1bXVsYXRpdmVQcm9ncmVzczogQ3VtdWxhdGl2ZVByb2dyZXNzXG4pOiBzdHJpbmcgPT4ge1xuXHRjb25zdCByb2xlU2lnbmFsczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nW10+PiA9IHtcblx0XHQncGFpbi1wb2ludCc6IHtcblx0XHRcdCdjZm8nOiBbXG5cdFx0XHRcdCdCcmEhIE51IGbDtnJzdMOlciBqYWcgZGV0IGZpbmFuc2llbGxhIHByb2JsZW1ldC4gTMOldCBvc3MgdGl0dGEgcMOlIHZhZCBkZXQga29zdGFyIGVyLicsXG5cdFx0XHRcdCdQZXJmZWt0ISBWaSBoYXIgZW4gdHlkbGlnIGJpbGQgYXYgZXIgZWtvbm9taXNrYSB1dG1hbmluZy4gTnUgYmVow7Z2ZXIgdmkga3ZhbnRpZmllcmEgcMOldmVya2FuLicsXG5cdFx0XHRcdCdVdG3DpHJrdCEgSmFnIGbDtnJzdMOlciBlciBmaW5hbnNpZWxsYSBzaXR1YXRpb24uIEzDpXQgb3NzIG51IGZva3VzZXJhIHDDpSBrb3N0bmFkZXIgb2NoIHDDpXZlcmthbi4nXG5cdFx0XHRdLFxuXHRcdFx0J3RlY2gnOiBbXG5cdFx0XHRcdCdCcmEhIE51IGbDtnJzdMOlciBqYWcgZGV0IHRla25pc2thIHByb2JsZW1ldC4gTMOldCBvc3MgdGl0dGEgcMOlIHZhZCBkZXQga29zdGFyIGVyLicsXG5cdFx0XHRcdCdQZXJmZWt0ISBWaSBoYXIgZW4gdHlkbGlnIGJpbGQgYXYgZXIgdGVrbmlza2EgdXRtYW5pbmcuIE51IGJlaMO2dmVyIHZpIGt2YW50aWZpZXJhIHDDpXZlcmthbi4nLFxuXHRcdFx0XHQnVXRtw6Rya3QhIEphZyBmw7Zyc3TDpXIgZXIgdGVrbmlza2Egc2l0dWF0aW9uLiBMw6V0IG9zcyBudSBmb2t1c2VyYSBww6Uga29zdG5hZGVyIG9jaCBww6V2ZXJrYW4uJ1xuXHRcdFx0XSxcblx0XHRcdCdzYWxlcyc6IFtcblx0XHRcdFx0J0JyYSEgTnUgZsO2cnN0w6VyIGphZyBlciBmw7Zyc8OkbGpuaW5nc3V0bWFuaW5nLiBMw6V0IG9zcyB0aXR0YSBww6UgdmFkIGRldCBrb3N0YXIgZXIuJyxcblx0XHRcdFx0J1BlcmZla3QhIFZpIGhhciBlbiB0eWRsaWcgYmlsZCBhdiBlciBzw6RsanByb2JsZW0uIE51IGJlaMO2dmVyIHZpIGt2YW50aWZpZXJhIHDDpXZlcmthbi4nLFxuXHRcdFx0XHQnVXRtw6Rya3QhIEphZyBmw7Zyc3TDpXIgZXIgZsO2cnPDpGxqbmluZ3NzaXR1YXRpb24uIEzDpXQgb3NzIG51IGZva3VzZXJhIHDDpSBrb3N0bmFkZXIgb2NoIHDDpXZlcmthbi4nXG5cdFx0XHRdLFxuXHRcdFx0J29wZXJhdGlvbnMnOiBbXG5cdFx0XHRcdCdCcmEhIE51IGbDtnJzdMOlciBqYWcgZXIgZHJpZnRzdXRtYW5pbmcuIEzDpXQgb3NzIHRpdHRhIHDDpSB2YWQgZGV0IGtvc3RhciBlci4nLFxuXHRcdFx0XHQnUGVyZmVrdCEgVmkgaGFyIGVuIHR5ZGxpZyBiaWxkIGF2IGVyIHByb2Nlc3Nwcm9ibGVtLiBOdSBiZWjDtnZlciB2aSBrdmFudGlmaWVyYSBww6V2ZXJrYW4uJyxcblx0XHRcdFx0J1V0bcOkcmt0ISBKYWcgZsO2cnN0w6VyIGVyIGRyaWZ0c2l0dWF0aW9uLiBMw6V0IG9zcyBudSBmb2t1c2VyYSBww6Uga29zdG5hZGVyIG9jaCBww6V2ZXJrYW4uJ1xuXHRcdFx0XSxcblx0XHRcdCdtYXJrZXRpbmcnOiBbXG5cdFx0XHRcdCdCcmEhIE51IGbDtnJzdMOlciBqYWcgZXIgbWFya25hZHN1dG1hbmluZy4gTMOldCBvc3MgdGl0dGEgcMOlIHZhZCBkZXQga29zdGFyIGVyLicsXG5cdFx0XHRcdCdQZXJmZWt0ISBWaSBoYXIgZW4gdHlkbGlnIGJpbGQgYXYgZXIgbWFya25hZHNwcm9ibGVtLiBOdSBiZWjDtnZlciB2aSBrdmFudGlmaWVyYSBww6V2ZXJrYW4uJyxcblx0XHRcdFx0J1V0bcOkcmt0ISBKYWcgZsO2cnN0w6VyIGVyIG1hcmtuYWRzc2l0dWF0aW9uLiBMw6V0IG9zcyBudSBmb2t1c2VyYSBww6Uga29zdG5hZGVyIG9jaCBww6V2ZXJrYW4uJ1xuXHRcdFx0XSxcblx0XHRcdCdocic6IFtcblx0XHRcdFx0J0JyYSEgTnUgZsO2cnN0w6VyIGphZyBlciBwZXJzb25hbHV0bWFuaW5nLiBMw6V0IG9zcyB0aXR0YSBww6UgdmFkIGRldCBrb3N0YXIgZXIuJyxcblx0XHRcdFx0J1BlcmZla3QhIFZpIGhhciBlbiB0eWRsaWcgYmlsZCBhdiBlciBIUi1wcm9ibGVtLiBOdSBiZWjDtnZlciB2aSBrdmFudGlmaWVyYSBww6V2ZXJrYW4uJyxcblx0XHRcdFx0J1V0bcOkcmt0ISBKYWcgZsO2cnN0w6VyIGVyIHBlcnNvbmFsc2l0dWF0aW9uLiBMw6V0IG9zcyBudSBmb2t1c2VyYSBww6Uga29zdG5hZGVyIG9jaCBww6V2ZXJrYW4uJ1xuXHRcdFx0XVxuXHRcdH1cblx0fTtcblxuXHRjb25zdCBjbHVzdGVyU2lnbmFscyA9IHJvbGVTaWduYWxzW2N1cnJlbnRDbHVzdGVyXSB8fCB7fTtcblx0Y29uc3Qgcm9sZVNwZWNpZmljU2lnbmFscyA9IGNsdXN0ZXJTaWduYWxzW3JvbGVDb250ZXh0LnJvbGVdIHx8IGNsdXN0ZXJTaWduYWxzWydkZWZhdWx0J10gfHwgW1xuXHRcdCdCcmEhIE51IGbDtnJzdMOlciBqYWcgcHJvYmxlbWV0LiBMw6V0IG9zcyB0aXR0YSBww6UgdmFkIGRldCBrb3N0YXIgZXIuJyxcblx0XHQnUGVyZmVrdCEgVmkgaGFyIGVuIHR5ZGxpZyBiaWxkIGF2IHV0bWFuaW5nZW4uIE51IGJlaMO2dmVyIHZpIGt2YW50aWZpZXJhIHDDpXZlcmthbi4nLFxuXHRcdCdVdG3DpHJrdCEgSmFnIGbDtnJzdMOlciBzaXR1YXRpb25lbi4gTMOldCBvc3MgbnUgZm9rdXNlcmEgcMOlIGtvc3RuYWRlciBvY2ggcMOldmVya2FuLidcblx0XTtcblxuXHRyZXR1cm4gcm9sZVNwZWNpZmljU2lnbmFsc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByb2xlU3BlY2lmaWNTaWduYWxzLmxlbmd0aCldO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhblByb2dyZXNzVG9OZXh0ID0gKGN1cnJlbnRDbHVzdGVyOiB7IGNvbmZpZGVuY2U6IG51bWJlcjsgc3RhdHVzOiBzdHJpbmc7IGNvbGxlY3RlZEluZm86IHN0cmluZ1tdIH0sIGNsdXN0ZXJUeXBlOiBDbHVzdGVyVHlwZSk6IGJvb2xlYW4gPT4ge1xuXHRjb25zdCBjbHVzdGVyID0gZ2V0Q2x1c3RlckJ5SWQoY2x1c3RlclR5cGUpO1xuXHRpZiAoIWNsdXN0ZXIpIHJldHVybiBmYWxzZTtcblxuXHRjb25zdCBtaW5FeGNoYW5nZXMgPSA1O1xuXHRjb25zdCBoYXNNaW5pbXVtRXhjaGFuZ2VzID0gY3VycmVudENsdXN0ZXIuY29sbGVjdGVkSW5mby5sZW5ndGggPj0gbWluRXhjaGFuZ2VzO1xuXHRjb25zdCBoYXNIaWdoQ29uZmlkZW5jZSA9IGN1cnJlbnRDbHVzdGVyLmNvbmZpZGVuY2UgPj0gY2x1c3Rlci5jb21wbGV0aW9uVGhyZXNob2xkO1xuXHRjb25zdCByZXF1aXJlZEluZm9Db3VudCA9IGNsdXN0ZXIucmVxdWlyZWRJbmZvLmxlbmd0aDtcblx0Y29uc3QgY29sbGVjdGVkSW5mb0NvdW50ID0gY3VycmVudENsdXN0ZXIuY29sbGVjdGVkSW5mby5sZW5ndGg7XG5cdGNvbnN0IGNvdmVyYWdlUmF0aW8gPSBjb2xsZWN0ZWRJbmZvQ291bnQgLyByZXF1aXJlZEluZm9Db3VudDtcblx0Y29uc3QgaGFzU3Vic3RhbnRpYWxDb3ZlcmFnZSA9IGNvdmVyYWdlUmF0aW8gPj0gMC43NTtcblx0cmV0dXJuIGhhc01pbmltdW1FeGNoYW5nZXMgJiYgaGFzSGlnaENvbmZpZGVuY2UgJiYgaGFzU3Vic3RhbnRpYWxDb3ZlcmFnZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVBoYXNlVHJhbnNpdGlvbiA9IChmcm9tQ2x1c3RlcjogQ2x1c3RlclR5cGUsIHRvQ2x1c3RlcjogQ2x1c3RlclR5cGUpID0+IHtcblx0Y29uc3QgZnJvbSA9IGdldENsdXN0ZXJCeUlkKGZyb21DbHVzdGVyKTtcblx0Y29uc3QgdG8gPSBnZXRDbHVzdGVyQnlJZCh0b0NsdXN0ZXIpO1xuXHRpZiAoIWZyb20gfHwgIXRvKSB7XG5cdFx0cmV0dXJuIHsgbWVzc2FnZTogXCJPa2VqLCBsw6V0IG9zcyBnw6UgdmlkYXJlLlwiLCBzdW1tYXJ5OiBcIkZvcnRzw6R0dG5pbmcgYXYgYW5hbHlzZW5cIiwgbmV4dFN0ZXBzOiBbXCJGb3J0c8OkdHQgbWVkIG7DpHN0YSBmYXNcIl0gfTtcblx0fVxuXHRjb25zdCB0cmFuc2l0aW9uczogUmVjb3JkPHN0cmluZywgeyBtZXNzYWdlOiBzdHJpbmc7IHN1bW1hcnk6IHN0cmluZzsgbmV4dFN0ZXBzOiBzdHJpbmdbXSB9PiA9IHtcblx0XHQncGFpbi1wb2ludC0+aW1wYWN0LXVyZ2VuY3knOiB7XG5cdFx0XHRtZXNzYWdlOiBgQnJhISBOdSBmw7Zyc3TDpXIgamFnIHByb2JsZW1ldC4gTMOldCBvc3MgdGl0dGEgcMOlIHZhZCBkZXQga29zdGFyIGVyLmAsXG5cdFx0XHRzdW1tYXJ5OiBgQXZzbHV0YXQ6ICR7ZnJvbS50aXRsZX0g4oaSIFN0YXJ0YXI6ICR7dG8udGl0bGV9YCxcblx0XHRcdG5leHRTdGVwczogW1wiS3ZhbnRpZmllcmEgcMOldmVya2FuIHDDpSB2ZXJrc2FtaGV0ZW5cIixcIklkZW50aWZpZXJhIHRpZHNrcml0aXNrYSBmYWt0b3JlclwiLFwiQmVkw7ZtYSBhZmbDpHJzbnl0dGEgb2NoIFJPSVwiXVxuXHRcdH0sXG5cdFx0J2ltcGFjdC11cmdlbmN5LT5zdWNjZXNzLWNyaXRlcmlhJzoge1xuXHRcdFx0bWVzc2FnZTogYE9rZWosIHPDpSBudSB2ZXQgdmkgdmFkIGRldCBrb3N0YXIuIFZhZCBza2EgcGVyc29uZW4gw6VzdGFka29tbWE/YCxcblx0XHRcdHN1bW1hcnk6IGBBdnNsdXRhdDogJHtmcm9tLnRpdGxlfSDihpIgU3RhcnRhcjogJHt0by50aXRsZX1gLFxuXHRcdFx0bmV4dFN0ZXBzOiBbXCJEZWZpbmllcmEgbcOkdGJhcmEgZnJhbWfDpW5nc2tyaXRlcmllclwiLFwiU3BlY2lmaWNlcmEga3JpdGlza2Ega29tcGV0ZW5zZXJcIixcIlN0w6RsbGEgdXBwIHByZXN0YW5kYS1pbmRpa2F0b3JlclwiXVxuXHRcdH0sXG5cdFx0J3N1Y2Nlc3MtY3JpdGVyaWEtPnJlc291cmNlcy1idWRnZXQnOiB7XG5cdFx0XHRtZXNzYWdlOiBgQnJhISBOdSB2ZXQgdmkgdmFkIHNvbSBza2Egw6VzdGFka29tbWFzLiBWaWxrYSByZXN1cnNlciBoYXIgbmk/YCxcblx0XHRcdHN1bW1hcnk6IGBBdnNsdXRhdDogJHtmcm9tLnRpdGxlfSDihpIgU3RhcnRhcjogJHt0by50aXRsZX1gLFxuXHRcdFx0bmV4dFN0ZXBzOiBbXCJCZWTDtm1hIGJ1ZGdldCBvY2ggcmVzdXJzZXJcIixcIlBsYW5lcmEgb25ib2FyZGluZy1wcm9jZXNzZW5cIixcIklkZW50aWZpZXJhIGV4dGVybmEgcGFydG5lcnNcIl1cblx0XHR9LFxuXHRcdCdyZXNvdXJjZXMtYnVkZ2V0LT5vcmdhbml6YXRpb24tY3VsdHVyZSc6IHtcblx0XHRcdG1lc3NhZ2U6IGBPa2VqLCBzw6UgcmVzdXJzZXJuYSBmaW5ucy4gSHVyIHBhc3NhciByb2xsZW4gaW4gaSBlciBvcmdhbmlzYXRpb24/YCxcblx0XHRcdHN1bW1hcnk6IGBBdnNsdXRhdDogJHtmcm9tLnRpdGxlfSDihpIgU3RhcnRhcjogJHt0by50aXRsZX1gLFxuXHRcdFx0bmV4dFN0ZXBzOiBbXCJWYWxpZGVyYSBvcmdhbmlzYXRpb25zc3RydWt0dXJcIixcIkJlZMO2bWEga3VsdHVyZWxsIHBhc3Nmb3JtXCIsXCJQbGFuZXJhIHRlYW1pbnRlZ3JhdGlvblwiXVxuXHRcdH0sXG5cdFx0J29yZ2FuaXphdGlvbi1jdWx0dXJlLT5hbHRlcm5hdGl2ZXMtcmlza3MnOiB7XG5cdFx0XHRtZXNzYWdlOiBgQnJhISBOdSBoYXIgdmkgZW4gYnJhIGJpbGQuIEzDpXQgb3NzIHRpdHRhIHDDpSByaXNrZXIgb2NoIGFsdGVybmF0aXYuYCxcblx0XHRcdHN1bW1hcnk6IGBBdnNsdXRhdDogJHtmcm9tLnRpdGxlfSDihpIgU3RhcnRhcjogJHt0by50aXRsZX1gLFxuXHRcdFx0bmV4dFN0ZXBzOiBbXCJVdHbDpHJkZXJhIGFsdGVybmF0aXZhIGzDtnNuaW5nYXJcIixcIklkZW50aWZpZXJhIG9jaCBtaXRpZ2VyYSByaXNrZXJcIixcIlNrYXBhIGZhbGxiYWNrLXBsYW5lclwiXVxuXHRcdH1cblx0fTtcblx0Y29uc3QgdHJhbnNpdGlvbktleSA9IGAke2Zyb21DbHVzdGVyfS0+JHt0b0NsdXN0ZXJ9YDtcblx0cmV0dXJuIHRyYW5zaXRpb25zW3RyYW5zaXRpb25LZXldIHx8IHtcblx0XHRtZXNzYWdlOiBgTMOldCBvc3MgZm9ydHPDpHR0YSBtZWQgJHt0by50aXRsZX0uICR7dG8uZGVzY3JpcHRpb259YCxcblx0XHRzdW1tYXJ5OiBgRm9ydHPDpHR0ZXIgdGlsbDogJHt0by50aXRsZX1gLFxuXHRcdG5leHRTdGVwczogW1wiRm9ydHPDpHR0IG1lZCBhbmFseXNlblwiXVxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENsdXN0ZXJTdW1tYXJ5ID0gKGNsdXN0ZXJUeXBlOiBDbHVzdGVyVHlwZSwgcHJvZ3Jlc3M6IHsgY29uZmlkZW5jZTogbnVtYmVyOyBjb2xsZWN0ZWRJbmZvOiBzdHJpbmdbXTsgfSk6IHN0cmluZyA9PiB7XG5cdGNvbnN0IGNsdXN0ZXIgPSBnZXRDbHVzdGVyQnlJZChjbHVzdGVyVHlwZSk7XG5cdGlmICghY2x1c3RlcikgcmV0dXJuIFwiT2vDpG5kIGtsdXN0ZXJcIjtcblx0Y29uc3QgY29tcGxldGlvbiA9IE1hdGgucm91bmQoKHByb2dyZXNzLmNvbGxlY3RlZEluZm8ubGVuZ3RoIC8gY2x1c3Rlci5yZXF1aXJlZEluZm8ubGVuZ3RoKSAqIDEwMCk7XG5cdHJldHVybiBgJHtjbHVzdGVyLnRpdGxlfTogJHtjb21wbGV0aW9ufSUga29tcGxldHQgKCR7cHJvZ3Jlc3MuY29uZmlkZW5jZX0lIHPDpGtlcmhldClgO1xufTtcblxuZnVuY3Rpb24gY2hlY2tJbmZvUG9pbnRNYXRjaEludGVybmFsKG1lc3NhZ2U6IHN0cmluZywgaW5mb1BvaW50OiBzdHJpbmcsIGNsdXN0ZXI6IENsdXN0ZXJUeXBlKTogYm9vbGVhbiB7XG5cdGNvbnN0IHBhdHRlcm5zOiBSZWNvcmQ8Q2x1c3RlclR5cGUsIFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPj4gPSB7XG5cdFx0J3BhaW4tcG9pbnQnOiB7XG5cdFx0XHQnTnV2YXJhbmRlIHByb2JsZW0gZWxsZXIgZ2FwIHNvbSBiZWjDtnZlciBsw7ZzYXMnOiBbJ3Byb2JsZW0nLCdnYXAnLCdiZWjDtnZlcicsJ3Nha25hcycsJ2JyaXN0JywndXRtYW5pbmcnLCdzdsOlcmlnaGV0JywnY2ZvJywnY2hlZicsJ2xlZGFyZSddLFxuXHRcdFx0J0tvbnNla3ZlbnNlciBhdiBhdHQgaW50ZSBsw7ZzYSBwcm9ibGVtZXQnOiBbJ2tvbnNla3ZlbnMnLCdyaXNrZXInLCdow6RuZGVyIG9tJywnb20gdmkgaW50ZScsJ2bDtnJzZW5pbmcnLCdrb3N0bmFkJ10sXG5cdFx0XHQnVmVtIHNvbSBww6V2ZXJrYXMgYXYgcHJvYmxlbWV0JzogWyd0ZWFtJywnYXZkZWxuaW5nJywnb3JnYW5pc2F0aW9uJywncMOldmVya2FzJywnZHJhYmJhcycsJ2JlcsO2ciddLFxuXHRcdFx0J1RpZHNyYW0gZsO2ciBuw6RyIHByb2JsZW1ldCBtw6VzdGUgbMO2c2FzJzogWyd0aWRzcmFtJywnbsOkcicsJ3NuYXJ0JywnbcOlbmFkZXInLCd2ZWNrb3InLCdha3V0JywnYnLDpWRza2FuZGUnXVxuXHRcdH0sXG5cdFx0J2ltcGFjdC11cmdlbmN5Jzoge1xuXHRcdFx0J0t2YW50aWZpZXJhZCBww6V2ZXJrYW4gcMOlIHZlcmtzYW1oZXRlbic6IFsncMOldmVya2FuJywnZWZmZWt0JywncmVzdWx0YXQnLCdrcGknLCdtw6R0YmFyJywnc2lmZnJvcicsJ3Byb2NlbnQnXSxcblx0XHRcdCdCcsOlZHNrYW4gb2NoIHRpZHNrcml0aXNrYSBmYWt0b3Jlcic6IFsnYnLDpWRza2FuZGUnLCdha3V0JywndGlkc2tyaXRpc2snLCdkZWFkbGluZScsJ3NuYXJ0JywnbcOlbmFkZXInXSxcblx0XHRcdCdBZmbDpHJzbnl0dGEgb2NoIFJPSS1wcm9nbm9zJzogWydyb2knLCdhZmbDpHJzbnl0dGEnLCd2aW5zdCcsJ2tvc3RuYWQnLCdpbnZlc3RlcmluZycsJ3RpbGxiYWthJ10sXG5cdFx0XHQnUmlza2VuIGF2IGbDtnJzZW5pbmdhcic6IFsncmlzaycsJ2bDtnJzZW5pbmcnLCdmw7ZybHVzdCcsJ21pc3NhZCcsJ2NoYW5zJywna29ua3VycmVucyddXG5cdFx0fSxcblx0XHQnc3VjY2Vzcy1jcml0ZXJpYSc6IHtcblx0XHRcdCdNw6R0YmFyYSBmcmFtZ8Olbmdza3JpdGVyaWVyIGbDtnIgcm9sbGVuJzogWydmcmFtZ8OlbmcnLCdtw6VsJywna3JpdGVyaWVyJywnbcOkdGJhcicsJ2twaScsJ3Jlc3VsdGF0J10sXG5cdFx0XHQnS29tcGV0ZW5zZXIgb2NoIGVyZmFyZW5oZXRlciBzb20ga3LDpHZzJzogWydrb21wZXRlbnMnLCdlcmZhcmVuaGV0Jywna3Vuc2thcGVyJywnZsOkcmRpZ2hldGVyJywndXRiaWxkbmluZyddLFxuXHRcdFx0J1ByZXN0YW5kYS1pbmRpa2F0b3JlciBvY2ggbcOlbCc6IFsncHJlc3RhbmRhJywnaW5kaWthdG9yZXInLCdtw6VsJywnYmVuY2htYXJrJywnc3RhbmRhcmQnXSxcblx0XHRcdCdVdHZlY2tsaW5nc3BvdGVudGlhbCBvY2ggdGlsbHbDpHh0JzogWyd1dHZlY2tsaW5nJywndGlsbHbDpHh0JywncG90ZW50aWFsJywna2FycmnDpHInLCdmcmFtdGlkJ11cblx0XHR9LFxuXHRcdCdyZXNvdXJjZXMtYnVkZ2V0Jzoge1xuXHRcdFx0J0J1ZGdldCBmw7ZyIHJla3J5dGVyaW5nIG9jaCBvbmJvYXJkaW5nJzogWydidWRnZXQnLCdrb3N0bmFkJywncGVuZ2FyJywncmVzdXJzZXInLCdvbmJvYXJkaW5nJ10sXG5cdFx0XHQnVGlsbGfDpG5nbGlnYSBpbnRlcm5hIHJlc3Vyc2VyJzogWydpbnRlcm5hJywncmVzdXJzZXInLCdwZXJzb25hbCcsJ3RlYW0nLCdoasOkbHAnXSxcblx0XHRcdCdFeHRlcm5hIHBhcnRuZXJzIG9jaCB2ZXJrdHlnJzogWydleHRlcm5hJywncGFydG5lcnMnLCd2ZXJrdHlnJywnc3lzdGVtJywna29uc3VsdGVyJ10sXG5cdFx0XHQnTMOlbmdzaWt0aWdhIGtvc3RuYWRlciBvY2ggaW52ZXN0ZXJpbmdhcic6IFsnbMOlbmdzaWt0aWcnLCdpbnZlc3RlcmluZycsJ2tvc3RuYWQnLCdmcmFtdGlkJywnw6VyJ11cblx0XHR9LFxuXHRcdCdvcmdhbml6YXRpb24tY3VsdHVyZSc6IHtcblx0XHRcdCdPcmdhbmlzYXRvcmlzayBzdHJ1a3R1ciBvY2ggcmFwcG9ydGVyaW5nc2xpbmplcic6IFsnc3RydWt0dXInLCdyYXBwb3J0ZXJpbmcnLCdoaWVyYXJraScsJ29yZ2FuaXNhdGlvbicsJ2NoZWYnXSxcblx0XHRcdCdLdWx0dXJlbGxhIHbDpHJkZXJpbmdhciBvY2ggYXJiZXRzbWlsasO2JzogWydrdWx0dXInLCd2w6RyZGVyaW5nYXInLCdtaWxqw7YnLCdhdG1vc2bDpHInLCdzdGlsJ10sXG5cdFx0XHQnVGVhbWR5bmFtaWsgb2NoIHNhbWFyYmV0c23Dtm5zdGVyJzogWyd0ZWFtJywnc2FtYXJiZXRlJywnZHluYW1paycsJ2dydXBwJywna29sbGVnb3InXSxcblx0XHRcdCdTdMO2ZCBvY2ggdXR2ZWNrbGluZ3Ntw7ZqbGlnaGV0ZXInOiBbJ3N0w7ZkJywndXR2ZWNrbGluZycsJ23DtmpsaWdoZXRlcicsJ3Ryw6RuaW5nJywnbMOkcmFuZGUnXVxuXHRcdH0sXG5cdFx0J2FsdGVybmF0aXZlcy1yaXNrcyc6IHtcblx0XHRcdCdBbHRlcm5hdGl2YSBsw7ZzbmluZ2FyIHRpbGwgcmVrcnl0ZXJpbmcnOiBbJ2FsdGVybmF0aXYnLCdhbmRyYScsJ2zDtnNuaW5nYXInLCdpc3TDpGxsZXQnLCd1dMO2dmVyJ10sXG5cdFx0XHQnSWRlbnRpZmllcmFkZSByaXNrZXIgb2NoIG1pdGlnZXJpbmdhcic6IFsncmlza2VyJywncmlzaycsJ3Byb2JsZW0nLCdtaXRpZ2VyaW5nJywnaGFudGVyYSddLFxuXHRcdFx0J0ZhbGxiYWNrLXBsYW5lciBvY2gga29udGluZ2Vuc2VyJzogWydmYWxsYmFjaycsJ3BsYW4gYicsJ2tvbnRpbmdlbnMnLCdyZXNlcnYnLCdiYWNrdXAnXSxcblx0XHRcdCdMw6VuZ3Npa3RpZ2Ega29uc2VrdmVuc2VyIGF2IGJlc2x1dGV0JzogWydsw6VuZ3Npa3RpZycsJ2tvbnNla3ZlbnNlcicsJ2ZyYW10aWQnLCdww6V2ZXJrYW4nLCdyZXN1bHRhdCddXG5cdFx0fVxuXHR9O1xuXHRjb25zdCBjbHVzdGVyUGF0dGVybnMgPSBwYXR0ZXJuc1tjbHVzdGVyXTtcblx0Y29uc3QgaW5mb1BhdHRlcm5zID0gY2x1c3RlclBhdHRlcm5zW2luZm9Qb2ludF07XG5cdGlmICghaW5mb1BhdHRlcm5zKSB7XG5cdFx0Y29uc3Qga2V5d29yZHMgPSBpbmZvUG9pbnQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXlxcd1xcc10vZywnICcpLnNwbGl0KC9cXHMrLykuZmlsdGVyKHc9PncubGVuZ3RoPjIpO1xuXHRcdHJldHVybiBrZXl3b3Jkcy5zb21lKGtleXdvcmQgPT4gbWVzc2FnZS5pbmNsdWRlcyhrZXl3b3JkLnRvTG93ZXJDYXNlKCkpKTtcblx0fVxuXHRyZXR1cm4gaW5mb1BhdHRlcm5zLnNvbWUocGF0dGVybiA9PiBtZXNzYWdlLmluY2x1ZGVzKHBhdHRlcm4pKTtcbn1cblxuXG4iXSwibmFtZXMiOlsiZ2V0Q2x1c3RlckJ5SWQiLCJhbmFseXplVW5pdmVyc2FsUXVhbGl0eSIsImNhbGN1bGF0ZVJvbGVTcGVjaWZpY0NvbmZpZGVuY2UiLCJST0xFX0NPTVBMRVRJT05fVEhSRVNIT0xEUyIsImNhbGN1bGF0ZUN1bXVsYXRpdmVQcm9ncmVzcyIsIm1lc3NhZ2VzIiwiY3VycmVudENsdXN0ZXIiLCJyb2xlQ29udGV4dCIsImNsdXN0ZXIiLCJ0b3RhbEluc2lnaHRzIiwiZ2F0aGVyZWRJbnNpZ2h0cyIsIm1pc3NpbmdJbnNpZ2h0cyIsInBoYXNlUmVhZGluZXNzIiwicm9sZVNwZWNpZmljU2NvcmUiLCJjb21wbGV0aW9uVGhyZXNob2xkIiwiYWxsVGV4dCIsIm1hcCIsIm0iLCJjb250ZW50Iiwiam9pbiIsIm1lc3NhZ2VMb3dlciIsInRvTG93ZXJDYXNlIiwiYW5hbHlzaXMiLCJyZXF1aXJlZEluZm8iLCJmb3JFYWNoIiwiaW5mb1BvaW50IiwiaGFzTWF0Y2giLCJjaGVja0luZm9Qb2ludE1hdGNoSW50ZXJuYWwiLCJwdXNoIiwic2VuaW9yaXR5IiwiZGVwYXJ0bWVudCIsImxlbmd0aCIsImdldFBoYXNlUHJvZ3Jlc3Npb25TaWduYWwiLCJjdW11bGF0aXZlUHJvZ3Jlc3MiLCJyb2xlU2lnbmFscyIsImNsdXN0ZXJTaWduYWxzIiwicm9sZVNwZWNpZmljU2lnbmFscyIsInJvbGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjYW5Qcm9ncmVzc1RvTmV4dCIsImNsdXN0ZXJUeXBlIiwibWluRXhjaGFuZ2VzIiwiaGFzTWluaW11bUV4Y2hhbmdlcyIsImNvbGxlY3RlZEluZm8iLCJoYXNIaWdoQ29uZmlkZW5jZSIsImNvbmZpZGVuY2UiLCJyZXF1aXJlZEluZm9Db3VudCIsImNvbGxlY3RlZEluZm9Db3VudCIsImNvdmVyYWdlUmF0aW8iLCJoYXNTdWJzdGFudGlhbENvdmVyYWdlIiwiZ2VuZXJhdGVQaGFzZVRyYW5zaXRpb24iLCJmcm9tQ2x1c3RlciIsInRvQ2x1c3RlciIsImZyb20iLCJ0byIsIm1lc3NhZ2UiLCJzdW1tYXJ5IiwibmV4dFN0ZXBzIiwidHJhbnNpdGlvbnMiLCJ0aXRsZSIsInRyYW5zaXRpb25LZXkiLCJkZXNjcmlwdGlvbiIsImdldENsdXN0ZXJTdW1tYXJ5IiwicHJvZ3Jlc3MiLCJjb21wbGV0aW9uIiwicm91bmQiLCJwYXR0ZXJucyIsImNsdXN0ZXJQYXR0ZXJucyIsImluZm9QYXR0ZXJucyIsImtleXdvcmRzIiwicmVwbGFjZSIsInNwbGl0IiwiZmlsdGVyIiwidyIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJwYXR0ZXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/progression.ts\n");

/***/ }),

/***/ "(rsc)/./lib/quality-analysis.ts":
/*!*********************************!*\
  !*** ./lib/quality-analysis.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analyzeCausality: () => (/* binding */ analyzeCausality),\n/* harmony export */   analyzeContext: () => (/* binding */ analyzeContext),\n/* harmony export */   analyzeQuantification: () => (/* binding */ analyzeQuantification),\n/* harmony export */   analyzeSpecificity: () => (/* binding */ analyzeSpecificity),\n/* harmony export */   analyzeUniversalQuality: () => (/* binding */ analyzeUniversalQuality)\n/* harmony export */ });\nfunction analyzeUniversalQuality(message, messageLower) {\n    const analysis = {\n        categoriesCovered: 0,\n        specificity: 0,\n        quantification: 0,\n        context: 0,\n        causality: 0,\n        businessImpact: false,\n        timingContext: false,\n        overallScore: 0\n    };\n    const situationIndicators = [\n        'current',\n        'now',\n        'currently',\n        'present',\n        'existing',\n        'situation',\n        'state',\n        'status',\n        'growing',\n        'growth',\n        'development',\n        'expansion',\n        'scaling',\n        'nu',\n        'nuvarande',\n        'läget',\n        'situationen',\n        'befintlig',\n        'nuläge',\n        'status',\n        'växande',\n        'växer',\n        'utveckling',\n        'tillväxt',\n        'skalning',\n        'expansion'\n    ];\n    const hasSituation = situationIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasSituation) analysis.categoriesCovered++;\n    const gapIndicators = [\n        'missing',\n        'lack',\n        'need',\n        'problem',\n        'issue',\n        'challenge',\n        'difficulty',\n        'gap',\n        'bottleneck',\n        'blocking',\n        'struggle',\n        'struggling',\n        'failing',\n        'failure',\n        'insufficient',\n        'inadequate',\n        'saknas',\n        'brist',\n        'behöver',\n        'problem',\n        'utmaning',\n        'svårighet',\n        'flaskhals',\n        'stoppar',\n        'räcker inte',\n        'inte tillräckligt',\n        'otillräcklig',\n        'kämpar',\n        'kämpar med',\n        'misslyckas',\n        'misslyckande'\n    ];\n    const hasGap = gapIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasGap) analysis.categoriesCovered++;\n    const impactIndicators = [\n        'impact',\n        'affect',\n        'influence',\n        'result',\n        'consequence',\n        'outcome',\n        'performance',\n        'efficiency',\n        'productivity',\n        'revenue',\n        'cost',\n        'loss',\n        'profit',\n        'margin',\n        'growth',\n        'scaling',\n        'competitiveness',\n        'market position',\n        'customer satisfaction',\n        'development',\n        'system',\n        'integration',\n        'scalability',\n        'technology',\n        'innovation',\n        'digital',\n        'automation',\n        'optimization',\n        'security',\n        'reliability',\n        'uptime',\n        'performance',\n        'speed',\n        'capacity',\n        'sales',\n        'pipeline',\n        'conversion',\n        'marketing',\n        'leads',\n        'customers',\n        'acquisition',\n        'retention',\n        'churn',\n        'revenue',\n        'market share',\n        'brand',\n        'positioning',\n        'campaign',\n        'funnel',\n        'operations',\n        'processes',\n        'delivery',\n        'quality',\n        'supply chain',\n        'logistics',\n        'manufacturing',\n        'production',\n        'service',\n        'support',\n        'customer service',\n        'satisfaction',\n        'retention',\n        'strategy',\n        'vision',\n        'transformation',\n        'leadership',\n        'management',\n        'culture',\n        'team',\n        'organization',\n        'change',\n        'initiative',\n        'project',\n        'program',\n        'goals',\n        'objectives',\n        'mission',\n        'påverkar',\n        'påverkan',\n        'konsekvens',\n        'utfall',\n        'prestanda',\n        'effektivitet',\n        'produktivitet',\n        'intäkt',\n        'omsättning',\n        'kostnad',\n        'förlust',\n        'lönsamhet',\n        'marginal',\n        'kassaflöde',\n        'cash flow',\n        'churn',\n        'tillväxt',\n        'skalning',\n        'konkurrenskraft',\n        'marknadsposition',\n        'kundnöjdhet',\n        'utveckling',\n        'system',\n        'integration',\n        'skalbarhet',\n        'teknologi',\n        'innovation',\n        'digital',\n        'automatisering',\n        'optimering',\n        'säkerhet',\n        'tillförlitlighet',\n        'drift',\n        'hastighet',\n        'kapacitet',\n        'försäljning',\n        'pipeline',\n        'konvertering',\n        'marknadsföring',\n        'leads',\n        'kunder',\n        'förvärv',\n        'behållning',\n        'marknadsandel',\n        'varumärke',\n        'positionering',\n        'kampanj',\n        'tratt',\n        'operationer',\n        'processer',\n        'leverans',\n        'kvalitet',\n        'leveranskedja',\n        'logistik',\n        'tillverkning',\n        'produktion',\n        'service',\n        'support',\n        'kundservice',\n        'strategi',\n        'vision',\n        'transformation',\n        'ledarskap',\n        'ledning',\n        'kultur',\n        'team',\n        'organisation',\n        'förändring',\n        'initiativ',\n        'projekt',\n        'program',\n        'mål',\n        'uppdrag'\n    ];\n    const hasImpact = impactIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasImpact) {\n        analysis.categoriesCovered++;\n        analysis.businessImpact = true;\n    }\n    const stakeholderIndicators = [\n        'team',\n        'customer',\n        'user',\n        'client',\n        'employee',\n        'manager',\n        'department',\n        'company',\n        'organization',\n        'stakeholder',\n        'staff',\n        'colleagues',\n        'partners',\n        'vendors',\n        'suppliers',\n        'investors',\n        'board',\n        'executives',\n        'leadership',\n        'users',\n        'end users',\n        'internal',\n        'external',\n        'cross-functional',\n        'department',\n        'division',\n        'unit',\n        'group',\n        'people',\n        'individuals',\n        'professionals',\n        'specialists',\n        'experts',\n        'practitioners',\n        'teamet',\n        'kund',\n        'kunder',\n        'användare',\n        'medarbetare',\n        'chef',\n        'avdelning',\n        'bolag',\n        'företag',\n        'organisation',\n        'intressent',\n        'personal',\n        'kollegor',\n        'partners',\n        'leverantörer',\n        'investerare',\n        'styrelse',\n        'ledning',\n        'slutanvändare',\n        'intern',\n        'extern',\n        'tvärfunktionell',\n        'avdelning',\n        'division',\n        'enhet',\n        'grupp',\n        'människor',\n        'individer',\n        'professionella',\n        'specialister',\n        'experter',\n        'praktiker',\n        'våra',\n        'vårt',\n        'vår',\n        'behov',\n        'behoven',\n        'vårt team',\n        'våra kunder',\n        'våra användare'\n    ];\n    const hasStakeholder = stakeholderIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasStakeholder) analysis.categoriesCovered++;\n    const timingIndicators = [\n        'urgent',\n        'deadline',\n        'timeline',\n        'schedule',\n        'timeframe',\n        'soon',\n        'immediate',\n        'priority',\n        'critical',\n        'important',\n        'now',\n        'month',\n        'quarter',\n        'year',\n        'timeline',\n        'milestone',\n        'launch',\n        'release',\n        'project',\n        'phase',\n        'stage',\n        'period',\n        'window',\n        'opportunity',\n        'timing',\n        'momentum',\n        'growth',\n        'expansion',\n        'scaling',\n        'funding',\n        'investment',\n        'capital',\n        'financing',\n        'investment',\n        'round',\n        'funding round',\n        'brådskande',\n        'deadline',\n        'tidslinje',\n        'tidplan',\n        'snart',\n        'omedelbart',\n        'prioritet',\n        'kritiskt',\n        'viktigt',\n        'nu',\n        'månad',\n        'mån',\n        'kvartal',\n        'år',\n        'q1',\n        'q2',\n        'q3',\n        'q4',\n        'milstolpe',\n        'lansering',\n        'release',\n        'projekt',\n        'fas',\n        'steg',\n        'period',\n        'fönster',\n        'möjlighet',\n        'timing',\n        'momentum',\n        'tillväxt',\n        'expansion',\n        'skalning',\n        'finansiering',\n        'investering',\n        'kapital',\n        'finansieringsrunda',\n        'investeringsrunda'\n    ];\n    const hasTiming = timingIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasTiming) {\n        analysis.categoriesCovered++;\n        analysis.timingContext = true;\n    }\n    const scopeIndicators = [\n        'scale',\n        'size',\n        'volume',\n        'amount',\n        'number',\n        'percentage',\n        'growth',\n        'increase',\n        'decrease',\n        'expansion',\n        'reduction',\n        'magnitude',\n        'scope',\n        'reach',\n        'coverage',\n        'extent',\n        'range',\n        'capacity',\n        'throughput',\n        'output',\n        'input',\n        'demand',\n        'supply',\n        'market',\n        'global',\n        'local',\n        'regional',\n        'national',\n        'international',\n        'enterprise',\n        'startup',\n        'small',\n        'medium',\n        'large',\n        'huge',\n        'massive',\n        'significant',\n        'substantial',\n        'considerable',\n        'major',\n        'minor',\n        'micro',\n        'macro',\n        '10x',\n        'x10',\n        '2x',\n        '3x',\n        '5x',\n        '10x',\n        '100x',\n        '1000x',\n        'skala',\n        'storlek',\n        'volym',\n        'antal',\n        'procent',\n        'tillväxt',\n        'ökning',\n        'minskning',\n        'expansion',\n        'reduktion',\n        'omfattning',\n        'räckvidd',\n        'täckning',\n        'utsträckning',\n        'omfång',\n        'kapacitet',\n        'genomströmning',\n        'utdata',\n        'indata',\n        'efterfrågan',\n        'utbud',\n        'marknad',\n        'global',\n        'lokal',\n        'regional',\n        'nationell',\n        'internationell',\n        'företag',\n        'startup',\n        'liten',\n        'mellan',\n        'stor',\n        'enorm',\n        'massiv',\n        'betydande',\n        'betydlig',\n        'avsevärd',\n        'stor',\n        'liten',\n        'mikro',\n        'makro',\n        '10x',\n        'x10',\n        '2x',\n        '3x',\n        '5x',\n        '10x',\n        '100x',\n        '1000x'\n    ];\n    const hasScope = scopeIndicators.some((indicator)=>messageLower.includes(indicator));\n    if (hasScope) analysis.categoriesCovered++;\n    analysis.specificity = analyzeSpecificity(message, messageLower);\n    analysis.quantification = analyzeQuantification(message, messageLower);\n    analysis.context = analyzeContext(message, messageLower);\n    analysis.causality = analyzeCausality(message, messageLower);\n    analysis.overallScore = (analysis.specificity + analysis.quantification + analysis.context + analysis.causality) / 4;\n    return analysis;\n}\nfunction analyzeSpecificity(message, messageLower) {\n    let score = 0;\n    const genericPhrases = [\n        'we need someone',\n        'looking for',\n        'hire',\n        'recruit',\n        'find',\n        'get'\n    ];\n    const hasGeneric = genericPhrases.some((phrase)=>messageLower.includes(phrase));\n    if (hasGeneric && message.length < 100) score = 1;\n    const specificRoleIndicators = [\n        'senior',\n        'junior',\n        'lead',\n        'principal',\n        'architect',\n        'engineer',\n        'developer',\n        'manager',\n        'director',\n        'specialist',\n        'coordinator',\n        'analyst',\n        'consultant',\n        'advisor',\n        'expert',\n        'practitioner',\n        'tech lead',\n        'tech lead',\n        'frontend',\n        'backend',\n        'fullstack',\n        'devops',\n        'sre',\n        'data scientist',\n        'data engineer',\n        'ml engineer',\n        'ai engineer',\n        'mobile developer',\n        'web developer',\n        'sales manager',\n        'account manager',\n        'business development',\n        'marketing manager',\n        'growth manager',\n        'revenue manager',\n        'partnership manager',\n        'customer success',\n        'sales director',\n        'cmo',\n        'cpo',\n        'operations manager',\n        'process manager',\n        'quality manager',\n        'supply chain',\n        'logistics',\n        'production manager',\n        'service manager',\n        'support manager',\n        'customer service',\n        'operations director',\n        'ceo',\n        'cto',\n        'cfo',\n        'coo',\n        'vp',\n        'vice president',\n        'head of',\n        'chief',\n        'executive',\n        'founder',\n        'co-founder',\n        'president',\n        'chairman',\n        'ekonomifunktionen',\n        'ekonomi',\n        'ekonom',\n        'ekonomi-',\n        'ekonomi-avdelning',\n        'utvecklare',\n        'utveckling',\n        'teknik',\n        'försäljning',\n        'marknadsföring',\n        'operationer',\n        'ledning',\n        'chef',\n        'direktör',\n        'specialist',\n        'expert',\n        'praktiker'\n    ];\n    if (specificRoleIndicators.some((indicator)=>messageLower.includes(indicator))) score = 2;\n    const technicalIndicators = [\n        'react',\n        'python',\n        'aws',\n        'kubernetes',\n        'microservices',\n        'api',\n        'database',\n        'frontend',\n        'backend',\n        'devops',\n        'node',\n        'javascript',\n        'typescript',\n        'java',\n        'c#',\n        'go',\n        'rust',\n        'php',\n        'ruby',\n        'swift',\n        'kotlin',\n        'azure',\n        'gcp',\n        'docker',\n        'terraform',\n        'ansible',\n        'jenkins',\n        'gitlab',\n        'github',\n        'ci/cd',\n        'cicd',\n        'deployment',\n        'infrastructure',\n        'monitoring',\n        'logging',\n        'security',\n        'machine learning',\n        'ml',\n        'ai',\n        'artificial intelligence',\n        'data science',\n        'analytics',\n        'big data',\n        'sql',\n        'nosql',\n        'mongodb',\n        'postgresql',\n        'mysql',\n        'redis',\n        'elasticsearch',\n        'crm',\n        'erp',\n        'saas',\n        'paas',\n        'iaas',\n        'b2b',\n        'b2c',\n        'ecommerce',\n        'fintech',\n        'healthtech',\n        'edtech',\n        'martech',\n        'adtech',\n        'proptech',\n        'utveckling',\n        'system',\n        'integration',\n        'skalbarhet',\n        'teknologi',\n        'innovation',\n        'digital',\n        'automatisering',\n        'optimering',\n        'säkerhet',\n        'tillförlitlighet',\n        'drift',\n        'hastighet',\n        'kapacitet'\n    ];\n    if (technicalIndicators.some((indicator)=>messageLower.includes(indicator))) score = 3;\n    const verySpecificIndicators = [\n        'version',\n        'framework',\n        'tool',\n        'platform',\n        'technology',\n        'methodology',\n        'process',\n        'workflow',\n        'architecture',\n        'pattern',\n        'design',\n        'implementation',\n        'configuration',\n        'setup',\n        'deployment',\n        'strategy',\n        'tactics',\n        'approach',\n        'method',\n        'technique',\n        'practice',\n        'standard',\n        'protocol',\n        'procedure',\n        'guideline',\n        'policy',\n        'rule',\n        'regulation',\n        'compliance',\n        'governance',\n        'kpi',\n        'metric',\n        'measurement',\n        'indicator',\n        'benchmark',\n        'target',\n        'goal',\n        'objective',\n        'milestone',\n        'deadline',\n        'timeline',\n        'roadmap',\n        'budget',\n        'cost',\n        'roi',\n        'roas',\n        'ltv',\n        'cac',\n        'version',\n        'ramverk',\n        'verktyg',\n        'plattform',\n        'teknologi',\n        'metodologi',\n        'process',\n        'arbetsflöde',\n        'arkitektur',\n        'mönster',\n        'design',\n        'implementering',\n        'konfiguration',\n        'setup',\n        'deployment',\n        'strategi',\n        'taktik',\n        'approach',\n        'metod',\n        'teknik',\n        'praxis',\n        'standard',\n        'protokoll',\n        'procedur',\n        'riktlinje',\n        'policy',\n        'regel',\n        'reglering',\n        'compliance',\n        'styrning',\n        'nyckeltal',\n        'mätvärde',\n        'indikator',\n        'riktmärke',\n        'mål',\n        'objektiv',\n        'milstolpe',\n        'deadline',\n        'tidslinje',\n        'vägkarta',\n        'budget',\n        'kostnad',\n        'roi',\n        'roas',\n        'ltv',\n        'cac'\n    ];\n    if (verySpecificIndicators.some((indicator)=>messageLower.includes(indicator))) score = 4;\n    return Math.min(score, 4);\n}\nfunction analyzeQuantification(message, messageLower) {\n    let score = 0;\n    const numberPattern = /\\b\\d+[\\d,.]*\\b/g;\n    const rangePattern = /\\b\\d+[\\d,.]*\\s?[–-]\\s?\\d+[\\d,.]*\\b/g;\n    const numbers = [\n        ...message.match(rangePattern) || [],\n        ...message.match(numberPattern) || []\n    ];\n    if (numbers && numbers.length > 0) {\n        score += Math.min(numbers.length, 2);\n    }\n    const timeIndicators = [\n        'day',\n        'week',\n        'month',\n        'quarter',\n        'year',\n        'hour',\n        'minute',\n        'second',\n        'dag',\n        'vecka',\n        'månad',\n        'kvartal',\n        'år',\n        'timme',\n        'minut',\n        'sekund',\n        'mån'\n    ];\n    if (timeIndicators.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const percentagePattern = /\\d+%/g;\n    if (message.match(percentagePattern)) score += 1;\n    const moneyPattern = /(\\$|€|£)?\\s?\\d+[\\d,\\.]*\\s?(k|m|mn|mnkr|tkr|kr|million|thousand)?/gi;\n    if (message.match(moneyPattern)) score += 1;\n    return Math.min(score, 4);\n}\nfunction analyzeContext(message, messageLower) {\n    let score = 0;\n    const businessContext = [\n        'company',\n        'organization',\n        'startup',\n        'enterprise',\n        'team',\n        'department',\n        'project',\n        'product',\n        'företag',\n        'bolag',\n        'organisation',\n        'teamet',\n        'avdelning',\n        'projekt',\n        'produkt',\n        'växande företag',\n        'växande bolag'\n    ];\n    if (businessContext.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const industryContext = [\n        'tech',\n        'finance',\n        'healthcare',\n        'retail',\n        'manufacturing',\n        'consulting',\n        'agency',\n        'saas'\n    ];\n    if (industryContext.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const marketContext = [\n        'market',\n        'competition',\n        'customer',\n        'user',\n        'client',\n        'demand',\n        'growth',\n        'expansion',\n        'marknad',\n        'konkurrens',\n        'kund',\n        'användare',\n        'efterfrågan',\n        'tillväxt',\n        'expansion',\n        'växande'\n    ];\n    if (marketContext.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const strategicContext = [\n        'strategy',\n        'goal',\n        'objective',\n        'mission',\n        'vision',\n        'roadmap',\n        'plan',\n        'initiative'\n    ];\n    if (strategicContext.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    return Math.min(score, 4);\n}\nfunction analyzeCausality(message, messageLower) {\n    let score = 0;\n    const causalIndicators = [\n        'because',\n        'due to',\n        'as a result',\n        'therefore',\n        'since',\n        'caused by',\n        'leads to',\n        'results in',\n        'eftersom',\n        'på grund av',\n        'som ett resultat',\n        'därför',\n        'leder till',\n        'resulterar i',\n        'uppstår när',\n        'medför',\n        'medan',\n        'samtidigt som',\n        'trots att',\n        'fastän',\n        'därför att',\n        'eftersom att',\n        'på grund av att'\n    ];\n    if (causalIndicators.some((indicator)=>messageLower.includes(indicator))) score += 2;\n    const problemSolution = [\n        'solve',\n        'fix',\n        'address',\n        'resolve',\n        'improve',\n        'enhance',\n        'optimize',\n        'streamline',\n        'lösa',\n        'åtgärda',\n        'hantera',\n        'förbättra',\n        'optimera',\n        'effektivisera',\n        'måste',\n        'behöver',\n        'kräver',\n        'saknar',\n        'brist',\n        'problem',\n        'utmaning',\n        'svårighet'\n    ];\n    if (problemSolution.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const consequenceIndicators = [\n        'if not',\n        'otherwise',\n        'without',\n        'failing to',\n        'unable to',\n        'cannot',\n        'will not',\n        'om inte',\n        'annars',\n        'utan',\n        'kan inte',\n        'kommer inte',\n        'förlorat',\n        'förlorar',\n        'missar',\n        'missat',\n        'går miste om',\n        'tappar',\n        'tappat',\n        'inte kunde',\n        'inte kan',\n        'inte klarar',\n        'inte lyckas',\n        'inte fungerar'\n    ];\n    if (consequenceIndicators.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    const comparativeImpact = [\n        'while',\n        'whereas',\n        'compared to',\n        'versus',\n        'vs',\n        'but',\n        'however',\n        'medan',\n        'samtidigt',\n        'jämfört med',\n        'mot',\n        'men',\n        'dock',\n        'däremot',\n        'växer',\n        'växte',\n        'når',\n        'nådde',\n        'ökar',\n        'ökade',\n        'minskar',\n        'minskat'\n    ];\n    if (comparativeImpact.some((indicator)=>messageLower.includes(indicator))) score += 1;\n    return Math.min(score, 4);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBVTtRQUFTO1FBQVM7UUFBUTtRQUFVO1FBQVc7S0FDekQ7SUFDRCxJQUFJQSxnQkFBZ0J2QyxJQUFJLENBQUNDLENBQUFBLFlBQWFiLGFBQWFjLFFBQVEsQ0FBQ0QsYUFBYWdCLFNBQVM7SUFDbEYsTUFBTXVCLHdCQUF3QjtRQUM3QjtRQUFTO1FBQVk7UUFBVTtRQUFhO1FBQVk7UUFBUztRQUNqRTtRQUFVO1FBQVM7UUFBTztRQUFXO1FBQ3JDO1FBQVc7UUFBVztRQUFTO1FBQVM7UUFBZTtRQUFTO1FBQ2hFO1FBQWE7UUFBVztRQUFjO1FBQWM7S0FDcEQ7SUFDRCxJQUFJQSxzQkFBc0J4QyxJQUFJLENBQUNDLENBQUFBLFlBQWFiLGFBQWFjLFFBQVEsQ0FBQ0QsYUFBYWdCLFNBQVM7SUFDeEYsTUFBTXdCLG9CQUFvQjtRQUFFO1FBQVE7UUFBVTtRQUFjO1FBQVM7UUFBSztRQUFNO1FBQVc7UUFBUTtRQUFZO1FBQWM7UUFBTTtRQUFNO1FBQU87UUFBVztRQUFRO1FBQVE7UUFBTTtRQUFRO1FBQU87UUFBUTtRQUFVO0tBQVc7SUFDN04sSUFBSUEsa0JBQWtCekMsSUFBSSxDQUFDQyxDQUFBQSxZQUFhYixhQUFhYyxRQUFRLENBQUNELGFBQWFnQixTQUFTO0lBQ3BGLE9BQU9RLEtBQUtDLEdBQUcsQ0FBQ1QsT0FBTztBQUN4QiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY3RhLy4vbGliL3F1YWxpdHktYW5hbHlzaXMudHM/YWY4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIFVuaXZlcnNhbFF1YWxpdHlBbmFseXNpcyB7XG5cdGNhdGVnb3JpZXNDb3ZlcmVkOiBudW1iZXI7XG5cdHNwZWNpZmljaXR5OiBudW1iZXI7XG5cdHF1YW50aWZpY2F0aW9uOiBudW1iZXI7XG5cdGNvbnRleHQ6IG51bWJlcjtcblx0Y2F1c2FsaXR5OiBudW1iZXI7XG5cdGJ1c2luZXNzSW1wYWN0OiBib29sZWFuO1xuXHR0aW1pbmdDb250ZXh0OiBib29sZWFuO1xuXHRvdmVyYWxsU2NvcmU6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFuYWx5emVVbml2ZXJzYWxRdWFsaXR5KG1lc3NhZ2U6IHN0cmluZywgbWVzc2FnZUxvd2VyOiBzdHJpbmcpOiBVbml2ZXJzYWxRdWFsaXR5QW5hbHlzaXMge1xuXHRjb25zdCBhbmFseXNpczogVW5pdmVyc2FsUXVhbGl0eUFuYWx5c2lzID0ge1xuXHRcdGNhdGVnb3JpZXNDb3ZlcmVkOiAwLFxuXHRcdHNwZWNpZmljaXR5OiAwLFxuXHRcdHF1YW50aWZpY2F0aW9uOiAwLFxuXHRcdGNvbnRleHQ6IDAsXG5cdFx0Y2F1c2FsaXR5OiAwLFxuXHRcdGJ1c2luZXNzSW1wYWN0OiBmYWxzZSxcblx0XHR0aW1pbmdDb250ZXh0OiBmYWxzZSxcblx0XHRvdmVyYWxsU2NvcmU6IDBcblx0fTtcblxuXHRjb25zdCBzaXR1YXRpb25JbmRpY2F0b3JzID0gW1xuXHRcdCdjdXJyZW50Jywnbm93JywnY3VycmVudGx5JywncHJlc2VudCcsJ2V4aXN0aW5nJywnc2l0dWF0aW9uJywnc3RhdGUnLCdzdGF0dXMnLCdncm93aW5nJywnZ3Jvd3RoJywnZGV2ZWxvcG1lbnQnLCdleHBhbnNpb24nLCdzY2FsaW5nJyxcblx0XHQnbnUnLCdudXZhcmFuZGUnLCdsw6RnZXQnLCdzaXR1YXRpb25lbicsJ2JlZmludGxpZycsJ251bMOkZ2UnLCdzdGF0dXMnLCd2w6R4YW5kZScsJ3bDpHhlcicsJ3V0dmVja2xpbmcnLCd0aWxsdsOkeHQnLCdza2FsbmluZycsJ2V4cGFuc2lvbidcblx0XTtcblx0Y29uc3QgaGFzU2l0dWF0aW9uID0gc2l0dWF0aW9uSW5kaWNhdG9ycy5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSk7XG5cdGlmIChoYXNTaXR1YXRpb24pIGFuYWx5c2lzLmNhdGVnb3JpZXNDb3ZlcmVkKys7XG5cblx0Y29uc3QgZ2FwSW5kaWNhdG9ycyA9IFtcblx0XHQnbWlzc2luZycsJ2xhY2snLCduZWVkJywncHJvYmxlbScsJ2lzc3VlJywnY2hhbGxlbmdlJywnZGlmZmljdWx0eScsJ2dhcCcsJ2JvdHRsZW5lY2snLCdibG9ja2luZycsJ3N0cnVnZ2xlJywnc3RydWdnbGluZycsJ2ZhaWxpbmcnLCdmYWlsdXJlJywnaW5zdWZmaWNpZW50JywnaW5hZGVxdWF0ZScsXG5cdFx0J3Nha25hcycsJ2JyaXN0JywnYmVow7Z2ZXInLCdwcm9ibGVtJywndXRtYW5pbmcnLCdzdsOlcmlnaGV0JywnZmxhc2toYWxzJywnc3RvcHBhcicsJ3LDpGNrZXIgaW50ZScsJ2ludGUgdGlsbHLDpGNrbGlndCcsJ290aWxscsOkY2tsaWcnLCdrw6RtcGFyJywna8OkbXBhciBtZWQnLCdtaXNzbHlja2FzJywnbWlzc2x5Y2thbmRlJ1xuXHRdO1xuXHRjb25zdCBoYXNHYXAgPSBnYXBJbmRpY2F0b3JzLnNvbWUoaW5kaWNhdG9yID0+IG1lc3NhZ2VMb3dlci5pbmNsdWRlcyhpbmRpY2F0b3IpKTtcblx0aWYgKGhhc0dhcCkgYW5hbHlzaXMuY2F0ZWdvcmllc0NvdmVyZWQrKztcblxuXHRjb25zdCBpbXBhY3RJbmRpY2F0b3JzID0gW1xuXHRcdCdpbXBhY3QnLCdhZmZlY3QnLCdpbmZsdWVuY2UnLCdyZXN1bHQnLCdjb25zZXF1ZW5jZScsJ291dGNvbWUnLCdwZXJmb3JtYW5jZScsJ2VmZmljaWVuY3knLCdwcm9kdWN0aXZpdHknLCdyZXZlbnVlJywnY29zdCcsJ2xvc3MnLCdwcm9maXQnLCdtYXJnaW4nLCdncm93dGgnLCdzY2FsaW5nJywnY29tcGV0aXRpdmVuZXNzJywnbWFya2V0IHBvc2l0aW9uJywnY3VzdG9tZXIgc2F0aXNmYWN0aW9uJyxcblx0XHQnZGV2ZWxvcG1lbnQnLCdzeXN0ZW0nLCdpbnRlZ3JhdGlvbicsJ3NjYWxhYmlsaXR5JywndGVjaG5vbG9neScsJ2lubm92YXRpb24nLCdkaWdpdGFsJywnYXV0b21hdGlvbicsJ29wdGltaXphdGlvbicsJ3NlY3VyaXR5JywncmVsaWFiaWxpdHknLCd1cHRpbWUnLCdwZXJmb3JtYW5jZScsJ3NwZWVkJywnY2FwYWNpdHknLFxuXHRcdCdzYWxlcycsJ3BpcGVsaW5lJywnY29udmVyc2lvbicsJ21hcmtldGluZycsJ2xlYWRzJywnY3VzdG9tZXJzJywnYWNxdWlzaXRpb24nLCdyZXRlbnRpb24nLCdjaHVybicsJ3JldmVudWUnLCdtYXJrZXQgc2hhcmUnLCdicmFuZCcsJ3Bvc2l0aW9uaW5nJywnY2FtcGFpZ24nLCdmdW5uZWwnLFxuXHRcdCdvcGVyYXRpb25zJywncHJvY2Vzc2VzJywnZGVsaXZlcnknLCdxdWFsaXR5Jywnc3VwcGx5IGNoYWluJywnbG9naXN0aWNzJywnbWFudWZhY3R1cmluZycsJ3Byb2R1Y3Rpb24nLCdzZXJ2aWNlJywnc3VwcG9ydCcsJ2N1c3RvbWVyIHNlcnZpY2UnLCdzYXRpc2ZhY3Rpb24nLCdyZXRlbnRpb24nLFxuXHRcdCdzdHJhdGVneScsJ3Zpc2lvbicsJ3RyYW5zZm9ybWF0aW9uJywnbGVhZGVyc2hpcCcsJ21hbmFnZW1lbnQnLCdjdWx0dXJlJywndGVhbScsJ29yZ2FuaXphdGlvbicsJ2NoYW5nZScsJ2luaXRpYXRpdmUnLCdwcm9qZWN0JywncHJvZ3JhbScsJ2dvYWxzJywnb2JqZWN0aXZlcycsJ21pc3Npb24nLFxuXHRcdCdww6V2ZXJrYXInLCdww6V2ZXJrYW4nLCdrb25zZWt2ZW5zJywndXRmYWxsJywncHJlc3RhbmRhJywnZWZmZWt0aXZpdGV0JywncHJvZHVrdGl2aXRldCcsJ2ludMOka3QnLCdvbXPDpHR0bmluZycsJ2tvc3RuYWQnLCdmw7ZybHVzdCcsJ2zDtm5zYW1oZXQnLCdtYXJnaW5hbCcsJ2thc3NhZmzDtmRlJywnY2FzaCBmbG93JywnY2h1cm4nLCd0aWxsdsOkeHQnLCdza2FsbmluZycsJ2tvbmt1cnJlbnNrcmFmdCcsJ21hcmtuYWRzcG9zaXRpb24nLCdrdW5kbsO2amRoZXQnLCd1dHZlY2tsaW5nJywnc3lzdGVtJywnaW50ZWdyYXRpb24nLCdza2FsYmFyaGV0JywndGVrbm9sb2dpJywnaW5ub3ZhdGlvbicsJ2RpZ2l0YWwnLCdhdXRvbWF0aXNlcmluZycsJ29wdGltZXJpbmcnLCdzw6RrZXJoZXQnLCd0aWxsZsO2cmxpdGxpZ2hldCcsJ2RyaWZ0JywnaGFzdGlnaGV0Jywna2FwYWNpdGV0JywnZsO2cnPDpGxqbmluZycsJ3BpcGVsaW5lJywna29udmVydGVyaW5nJywnbWFya25hZHNmw7ZyaW5nJywnbGVhZHMnLCdrdW5kZXInLCdmw7ZydsOkcnYnLCdiZWjDpWxsbmluZycsJ21hcmtuYWRzYW5kZWwnLCd2YXJ1bcOkcmtlJywncG9zaXRpb25lcmluZycsJ2thbXBhbmonLCd0cmF0dCcsJ29wZXJhdGlvbmVyJywncHJvY2Vzc2VyJywnbGV2ZXJhbnMnLCdrdmFsaXRldCcsJ2xldmVyYW5za2VkamEnLCdsb2dpc3RpaycsJ3RpbGx2ZXJrbmluZycsJ3Byb2R1a3Rpb24nLCdzZXJ2aWNlJywnc3VwcG9ydCcsJ2t1bmRzZXJ2aWNlJywnc3RyYXRlZ2knLCd2aXNpb24nLCd0cmFuc2Zvcm1hdGlvbicsJ2xlZGFyc2thcCcsJ2xlZG5pbmcnLCdrdWx0dXInLCd0ZWFtJywnb3JnYW5pc2F0aW9uJywnZsO2csOkbmRyaW5nJywnaW5pdGlhdGl2JywncHJvamVrdCcsJ3Byb2dyYW0nLCdtw6VsJywndXBwZHJhZydcblx0XTtcblx0Y29uc3QgaGFzSW1wYWN0ID0gaW1wYWN0SW5kaWNhdG9ycy5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSk7XG5cdGlmIChoYXNJbXBhY3QpIHtcblx0XHRhbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCsrO1xuXHRcdGFuYWx5c2lzLmJ1c2luZXNzSW1wYWN0ID0gdHJ1ZTtcblx0fVxuXG5cdGNvbnN0IHN0YWtlaG9sZGVySW5kaWNhdG9ycyA9IFtcblx0XHQndGVhbScsJ2N1c3RvbWVyJywndXNlcicsJ2NsaWVudCcsJ2VtcGxveWVlJywnbWFuYWdlcicsJ2RlcGFydG1lbnQnLCdjb21wYW55Jywnb3JnYW5pemF0aW9uJywnc3Rha2Vob2xkZXInLCdzdGFmZicsJ2NvbGxlYWd1ZXMnLCdwYXJ0bmVycycsJ3ZlbmRvcnMnLCdzdXBwbGllcnMnLCdpbnZlc3RvcnMnLCdib2FyZCcsJ2V4ZWN1dGl2ZXMnLCdsZWFkZXJzaGlwJywndXNlcnMnLCdlbmQgdXNlcnMnLCdpbnRlcm5hbCcsJ2V4dGVybmFsJywnY3Jvc3MtZnVuY3Rpb25hbCcsJ2RlcGFydG1lbnQnLCdkaXZpc2lvbicsJ3VuaXQnLCdncm91cCcsJ3Blb3BsZScsJ2luZGl2aWR1YWxzJywncHJvZmVzc2lvbmFscycsJ3NwZWNpYWxpc3RzJywnZXhwZXJ0cycsJ3ByYWN0aXRpb25lcnMnLFxuXHRcdCd0ZWFtZXQnLCdrdW5kJywna3VuZGVyJywnYW52w6RuZGFyZScsJ21lZGFyYmV0YXJlJywnY2hlZicsJ2F2ZGVsbmluZycsJ2JvbGFnJywnZsO2cmV0YWcnLCdvcmdhbmlzYXRpb24nLCdpbnRyZXNzZW50JywncGVyc29uYWwnLCdrb2xsZWdvcicsJ3BhcnRuZXJzJywnbGV2ZXJhbnTDtnJlcicsJ2ludmVzdGVyYXJlJywnc3R5cmVsc2UnLCdsZWRuaW5nJywnc2x1dGFudsOkbmRhcmUnLCdpbnRlcm4nLCdleHRlcm4nLCd0dsOkcmZ1bmt0aW9uZWxsJywnYXZkZWxuaW5nJywnZGl2aXNpb24nLCdlbmhldCcsJ2dydXBwJywnbcOkbm5pc2tvcicsJ2luZGl2aWRlcicsJ3Byb2Zlc3Npb25lbGxhJywnc3BlY2lhbGlzdGVyJywnZXhwZXJ0ZXInLCdwcmFrdGlrZXInLCd2w6VyYScsJ3bDpXJ0JywndsOlcicsJ2JlaG92JywnYmVob3ZlbicsJ3bDpXJ0IHRlYW0nLCd2w6VyYSBrdW5kZXInLCd2w6VyYSBhbnbDpG5kYXJlJ1xuXHRdO1xuXHRjb25zdCBoYXNTdGFrZWhvbGRlciA9IHN0YWtlaG9sZGVySW5kaWNhdG9ycy5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSk7XG5cdGlmIChoYXNTdGFrZWhvbGRlcikgYW5hbHlzaXMuY2F0ZWdvcmllc0NvdmVyZWQrKztcblxuXHRjb25zdCB0aW1pbmdJbmRpY2F0b3JzID0gW1xuXHRcdCd1cmdlbnQnLCdkZWFkbGluZScsJ3RpbWVsaW5lJywnc2NoZWR1bGUnLCd0aW1lZnJhbWUnLCdzb29uJywnaW1tZWRpYXRlJywncHJpb3JpdHknLCdjcml0aWNhbCcsJ2ltcG9ydGFudCcsJ25vdycsJ21vbnRoJywncXVhcnRlcicsJ3llYXInLCd0aW1lbGluZScsJ21pbGVzdG9uZScsJ2xhdW5jaCcsJ3JlbGVhc2UnLCdwcm9qZWN0JywncGhhc2UnLCdzdGFnZScsJ3BlcmlvZCcsJ3dpbmRvdycsJ29wcG9ydHVuaXR5JywndGltaW5nJywnbW9tZW50dW0nLCdncm93dGgnLCdleHBhbnNpb24nLCdzY2FsaW5nJywnZnVuZGluZycsJ2ludmVzdG1lbnQnLCdjYXBpdGFsJywnZmluYW5jaW5nJywnaW52ZXN0bWVudCcsJ3JvdW5kJywnZnVuZGluZyByb3VuZCcsXG5cdFx0J2Jyw6Vkc2thbmRlJywnZGVhZGxpbmUnLCd0aWRzbGluamUnLCd0aWRwbGFuJywnc25hcnQnLCdvbWVkZWxiYXJ0JywncHJpb3JpdGV0Jywna3JpdGlza3QnLCd2aWt0aWd0JywnbnUnLCdtw6VuYWQnLCdtw6VuJywna3ZhcnRhbCcsJ8OlcicsJ3ExJywncTInLCdxMycsJ3E0JywnbWlsc3RvbHBlJywnbGFuc2VyaW5nJywncmVsZWFzZScsJ3Byb2pla3QnLCdmYXMnLCdzdGVnJywncGVyaW9kJywnZsO2bnN0ZXInLCdtw7ZqbGlnaGV0JywndGltaW5nJywnbW9tZW50dW0nLCd0aWxsdsOkeHQnLCdleHBhbnNpb24nLCdza2FsbmluZycsJ2ZpbmFuc2llcmluZycsJ2ludmVzdGVyaW5nJywna2FwaXRhbCcsJ2ZpbmFuc2llcmluZ3NydW5kYScsJ2ludmVzdGVyaW5nc3J1bmRhJ1xuXHRdO1xuXHRjb25zdCBoYXNUaW1pbmcgPSB0aW1pbmdJbmRpY2F0b3JzLnNvbWUoaW5kaWNhdG9yID0+IG1lc3NhZ2VMb3dlci5pbmNsdWRlcyhpbmRpY2F0b3IpKTtcblx0aWYgKGhhc1RpbWluZykgeyBhbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCsrOyBhbmFseXNpcy50aW1pbmdDb250ZXh0ID0gdHJ1ZTsgfVxuXG5cdGNvbnN0IHNjb3BlSW5kaWNhdG9ycyA9IFtcblx0XHQnc2NhbGUnLCdzaXplJywndm9sdW1lJywnYW1vdW50JywnbnVtYmVyJywncGVyY2VudGFnZScsJ2dyb3d0aCcsJ2luY3JlYXNlJywnZGVjcmVhc2UnLCdleHBhbnNpb24nLCdyZWR1Y3Rpb24nLCdtYWduaXR1ZGUnLCdzY29wZScsJ3JlYWNoJywnY292ZXJhZ2UnLCdleHRlbnQnLCdyYW5nZScsJ2NhcGFjaXR5JywndGhyb3VnaHB1dCcsJ291dHB1dCcsJ2lucHV0JywnZGVtYW5kJywnc3VwcGx5JywnbWFya2V0JywnZ2xvYmFsJywnbG9jYWwnLCdyZWdpb25hbCcsJ25hdGlvbmFsJywnaW50ZXJuYXRpb25hbCcsJ2VudGVycHJpc2UnLCdzdGFydHVwJywnc21hbGwnLCdtZWRpdW0nLCdsYXJnZScsJ2h1Z2UnLCdtYXNzaXZlJywnc2lnbmlmaWNhbnQnLCdzdWJzdGFudGlhbCcsJ2NvbnNpZGVyYWJsZScsJ21ham9yJywnbWlub3InLCdtaWNybycsJ21hY3JvJywnMTB4JywneDEwJywnMngnLCczeCcsJzV4JywnMTB4JywnMTAweCcsJzEwMDB4Jyxcblx0XHQnc2thbGEnLCdzdG9ybGVrJywndm9seW0nLCdhbnRhbCcsJ3Byb2NlbnQnLCd0aWxsdsOkeHQnLCfDtmtuaW5nJywnbWluc2tuaW5nJywnZXhwYW5zaW9uJywncmVkdWt0aW9uJywnb21mYXR0bmluZycsJ3LDpGNrdmlkZCcsJ3TDpGNrbmluZycsJ3V0c3Ryw6Rja25pbmcnLCdvbWbDpW5nJywna2FwYWNpdGV0JywnZ2Vub21zdHLDtm1uaW5nJywndXRkYXRhJywnaW5kYXRhJywnZWZ0ZXJmcsOlZ2FuJywndXRidWQnLCdtYXJrbmFkJywnZ2xvYmFsJywnbG9rYWwnLCdyZWdpb25hbCcsJ25hdGlvbmVsbCcsJ2ludGVybmF0aW9uZWxsJywnZsO2cmV0YWcnLCdzdGFydHVwJywnbGl0ZW4nLCdtZWxsYW4nLCdzdG9yJywnZW5vcm0nLCdtYXNzaXYnLCdiZXR5ZGFuZGUnLCdiZXR5ZGxpZycsJ2F2c2V2w6RyZCcsJ3N0b3InLCdsaXRlbicsJ21pa3JvJywnbWFrcm8nLCcxMHgnLCd4MTAnLCcyeCcsJzN4JywnNXgnLCcxMHgnLCcxMDB4JywnMTAwMHgnXG5cdF07XG5cdGNvbnN0IGhhc1Njb3BlID0gc2NvcGVJbmRpY2F0b3JzLnNvbWUoaW5kaWNhdG9yID0+IG1lc3NhZ2VMb3dlci5pbmNsdWRlcyhpbmRpY2F0b3IpKTtcblx0aWYgKGhhc1Njb3BlKSBhbmFseXNpcy5jYXRlZ29yaWVzQ292ZXJlZCsrO1xuXG5cdGFuYWx5c2lzLnNwZWNpZmljaXR5ID0gYW5hbHl6ZVNwZWNpZmljaXR5KG1lc3NhZ2UsIG1lc3NhZ2VMb3dlcik7XG5cdGFuYWx5c2lzLnF1YW50aWZpY2F0aW9uID0gYW5hbHl6ZVF1YW50aWZpY2F0aW9uKG1lc3NhZ2UsIG1lc3NhZ2VMb3dlcik7XG5cdGFuYWx5c2lzLmNvbnRleHQgPSBhbmFseXplQ29udGV4dChtZXNzYWdlLCBtZXNzYWdlTG93ZXIpO1xuXHRhbmFseXNpcy5jYXVzYWxpdHkgPSBhbmFseXplQ2F1c2FsaXR5KG1lc3NhZ2UsIG1lc3NhZ2VMb3dlcik7XG5cdGFuYWx5c2lzLm92ZXJhbGxTY29yZSA9IChhbmFseXNpcy5zcGVjaWZpY2l0eSArIGFuYWx5c2lzLnF1YW50aWZpY2F0aW9uICsgYW5hbHlzaXMuY29udGV4dCArIGFuYWx5c2lzLmNhdXNhbGl0eSkgLyA0O1xuXHRyZXR1cm4gYW5hbHlzaXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmFseXplU3BlY2lmaWNpdHkobWVzc2FnZTogc3RyaW5nLCBtZXNzYWdlTG93ZXI6IHN0cmluZyk6IG51bWJlciB7XG5cdGxldCBzY29yZSA9IDA7XG5cdGNvbnN0IGdlbmVyaWNQaHJhc2VzID0gWyd3ZSBuZWVkIHNvbWVvbmUnLCAnbG9va2luZyBmb3InLCAnaGlyZScsICdyZWNydWl0JywgJ2ZpbmQnLCAnZ2V0J107XG5cdGNvbnN0IGhhc0dlbmVyaWMgPSBnZW5lcmljUGhyYXNlcy5zb21lKHBocmFzZSA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMocGhyYXNlKSk7XG5cdGlmIChoYXNHZW5lcmljICYmIG1lc3NhZ2UubGVuZ3RoIDwgMTAwKSBzY29yZSA9IDE7XG5cdGNvbnN0IHNwZWNpZmljUm9sZUluZGljYXRvcnMgPSBbXG5cdFx0J3NlbmlvcicsJ2p1bmlvcicsJ2xlYWQnLCdwcmluY2lwYWwnLCdhcmNoaXRlY3QnLCdlbmdpbmVlcicsJ2RldmVsb3BlcicsJ21hbmFnZXInLCdkaXJlY3RvcicsJ3NwZWNpYWxpc3QnLCdjb29yZGluYXRvcicsJ2FuYWx5c3QnLCdjb25zdWx0YW50JywnYWR2aXNvcicsJ2V4cGVydCcsJ3ByYWN0aXRpb25lcicsXG5cdFx0J3RlY2ggbGVhZCcsJ3RlY2ggbGVhZCcsJ2Zyb250ZW5kJywnYmFja2VuZCcsJ2Z1bGxzdGFjaycsJ2Rldm9wcycsJ3NyZScsJ2RhdGEgc2NpZW50aXN0JywnZGF0YSBlbmdpbmVlcicsJ21sIGVuZ2luZWVyJywnYWkgZW5naW5lZXInLCdtb2JpbGUgZGV2ZWxvcGVyJywnd2ViIGRldmVsb3BlcicsXG5cdFx0J3NhbGVzIG1hbmFnZXInLCdhY2NvdW50IG1hbmFnZXInLCdidXNpbmVzcyBkZXZlbG9wbWVudCcsJ21hcmtldGluZyBtYW5hZ2VyJywnZ3Jvd3RoIG1hbmFnZXInLCdyZXZlbnVlIG1hbmFnZXInLCdwYXJ0bmVyc2hpcCBtYW5hZ2VyJywnY3VzdG9tZXIgc3VjY2VzcycsJ3NhbGVzIGRpcmVjdG9yJywnY21vJywnY3BvJyxcblx0XHQnb3BlcmF0aW9ucyBtYW5hZ2VyJywncHJvY2VzcyBtYW5hZ2VyJywncXVhbGl0eSBtYW5hZ2VyJywnc3VwcGx5IGNoYWluJywnbG9naXN0aWNzJywncHJvZHVjdGlvbiBtYW5hZ2VyJywnc2VydmljZSBtYW5hZ2VyJywnc3VwcG9ydCBtYW5hZ2VyJywnY3VzdG9tZXIgc2VydmljZScsJ29wZXJhdGlvbnMgZGlyZWN0b3InLFxuXHRcdCdjZW8nLCdjdG8nLCdjZm8nLCdjb28nLCd2cCcsJ3ZpY2UgcHJlc2lkZW50JywnaGVhZCBvZicsJ2NoaWVmJywnZXhlY3V0aXZlJywnZm91bmRlcicsJ2NvLWZvdW5kZXInLCdwcmVzaWRlbnQnLCdjaGFpcm1hbicsXG5cdFx0J2Vrb25vbWlmdW5rdGlvbmVuJywnZWtvbm9taScsJ2Vrb25vbScsJ2Vrb25vbWktJywnZWtvbm9taS1hdmRlbG5pbmcnLCd1dHZlY2tsYXJlJywndXR2ZWNrbGluZycsJ3Rla25paycsJ2bDtnJzw6Rsam5pbmcnLCdtYXJrbmFkc2bDtnJpbmcnLCdvcGVyYXRpb25lcicsJ2xlZG5pbmcnLCdjaGVmJywnZGlyZWt0w7ZyJywnc3BlY2lhbGlzdCcsJ2V4cGVydCcsJ3ByYWt0aWtlcidcblx0XTtcblx0aWYgKHNwZWNpZmljUm9sZUluZGljYXRvcnMuc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSA9IDI7XG5cdGNvbnN0IHRlY2huaWNhbEluZGljYXRvcnMgPSBbXG5cdFx0J3JlYWN0JywncHl0aG9uJywnYXdzJywna3ViZXJuZXRlcycsJ21pY3Jvc2VydmljZXMnLCdhcGknLCdkYXRhYmFzZScsJ2Zyb250ZW5kJywnYmFja2VuZCcsJ2Rldm9wcycsJ25vZGUnLCdqYXZhc2NyaXB0JywndHlwZXNjcmlwdCcsJ2phdmEnLCdjIycsJ2dvJywncnVzdCcsJ3BocCcsJ3J1YnknLCdzd2lmdCcsJ2tvdGxpbicsXG5cdFx0J2F6dXJlJywnZ2NwJywnZG9ja2VyJywndGVycmFmb3JtJywnYW5zaWJsZScsJ2plbmtpbnMnLCdnaXRsYWInLCdnaXRodWInLCdjaS9jZCcsJ2NpY2QnLCdkZXBsb3ltZW50JywnaW5mcmFzdHJ1Y3R1cmUnLCdtb25pdG9yaW5nJywnbG9nZ2luZycsJ3NlY3VyaXR5Jyxcblx0XHQnbWFjaGluZSBsZWFybmluZycsJ21sJywnYWknLCdhcnRpZmljaWFsIGludGVsbGlnZW5jZScsJ2RhdGEgc2NpZW5jZScsJ2FuYWx5dGljcycsJ2JpZyBkYXRhJywnc3FsJywnbm9zcWwnLCdtb25nb2RiJywncG9zdGdyZXNxbCcsJ215c3FsJywncmVkaXMnLCdlbGFzdGljc2VhcmNoJyxcblx0XHQnY3JtJywnZXJwJywnc2FhcycsJ3BhYXMnLCdpYWFzJywnYjJiJywnYjJjJywnZWNvbW1lcmNlJywnZmludGVjaCcsJ2hlYWx0aHRlY2gnLCdlZHRlY2gnLCdtYXJ0ZWNoJywnYWR0ZWNoJywncHJvcHRlY2gnLFxuXHRcdCd1dHZlY2tsaW5nJywnc3lzdGVtJywnaW50ZWdyYXRpb24nLCdza2FsYmFyaGV0JywndGVrbm9sb2dpJywnaW5ub3ZhdGlvbicsJ2RpZ2l0YWwnLCdhdXRvbWF0aXNlcmluZycsJ29wdGltZXJpbmcnLCdzw6RrZXJoZXQnLCd0aWxsZsO2cmxpdGxpZ2hldCcsJ2RyaWZ0JywnaGFzdGlnaGV0Jywna2FwYWNpdGV0J1xuXHRdO1xuXHRpZiAodGVjaG5pY2FsSW5kaWNhdG9ycy5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSkpIHNjb3JlID0gMztcblx0Y29uc3QgdmVyeVNwZWNpZmljSW5kaWNhdG9ycyA9IFtcblx0XHQndmVyc2lvbicsJ2ZyYW1ld29yaycsJ3Rvb2wnLCdwbGF0Zm9ybScsJ3RlY2hub2xvZ3knLCdtZXRob2RvbG9neScsJ3Byb2Nlc3MnLCd3b3JrZmxvdycsJ2FyY2hpdGVjdHVyZScsJ3BhdHRlcm4nLCdkZXNpZ24nLCdpbXBsZW1lbnRhdGlvbicsJ2NvbmZpZ3VyYXRpb24nLCdzZXR1cCcsJ2RlcGxveW1lbnQnLFxuXHRcdCdzdHJhdGVneScsJ3RhY3RpY3MnLCdhcHByb2FjaCcsJ21ldGhvZCcsJ3RlY2huaXF1ZScsJ3ByYWN0aWNlJywnc3RhbmRhcmQnLCdwcm90b2NvbCcsJ3Byb2NlZHVyZScsJ2d1aWRlbGluZScsJ3BvbGljeScsJ3J1bGUnLCdyZWd1bGF0aW9uJywnY29tcGxpYW5jZScsJ2dvdmVybmFuY2UnLFxuXHRcdCdrcGknLCdtZXRyaWMnLCdtZWFzdXJlbWVudCcsJ2luZGljYXRvcicsJ2JlbmNobWFyaycsJ3RhcmdldCcsJ2dvYWwnLCdvYmplY3RpdmUnLCdtaWxlc3RvbmUnLCdkZWFkbGluZScsJ3RpbWVsaW5lJywncm9hZG1hcCcsJ2J1ZGdldCcsJ2Nvc3QnLCdyb2knLCdyb2FzJywnbHR2JywnY2FjJyxcblx0XHQndmVyc2lvbicsJ3JhbXZlcmsnLCd2ZXJrdHlnJywncGxhdHRmb3JtJywndGVrbm9sb2dpJywnbWV0b2RvbG9naScsJ3Byb2Nlc3MnLCdhcmJldHNmbMO2ZGUnLCdhcmtpdGVrdHVyJywnbcO2bnN0ZXInLCdkZXNpZ24nLCdpbXBsZW1lbnRlcmluZycsJ2tvbmZpZ3VyYXRpb24nLCdzZXR1cCcsJ2RlcGxveW1lbnQnLCdzdHJhdGVnaScsJ3Rha3RpaycsJ2FwcHJvYWNoJywnbWV0b2QnLCd0ZWtuaWsnLCdwcmF4aXMnLCdzdGFuZGFyZCcsJ3Byb3Rva29sbCcsJ3Byb2NlZHVyJywncmlrdGxpbmplJywncG9saWN5JywncmVnZWwnLCdyZWdsZXJpbmcnLCdjb21wbGlhbmNlJywnc3R5cm5pbmcnLCdueWNrZWx0YWwnLCdtw6R0dsOkcmRlJywnaW5kaWthdG9yJywncmlrdG3DpHJrZScsJ23DpWwnLCdvYmpla3RpdicsJ21pbHN0b2xwZScsJ2RlYWRsaW5lJywndGlkc2xpbmplJywndsOkZ2thcnRhJywnYnVkZ2V0Jywna29zdG5hZCcsJ3JvaScsJ3JvYXMnLCdsdHYnLCdjYWMnXG5cdF07XG5cdGlmICh2ZXJ5U3BlY2lmaWNJbmRpY2F0b3JzLnNvbWUoaW5kaWNhdG9yID0+IG1lc3NhZ2VMb3dlci5pbmNsdWRlcyhpbmRpY2F0b3IpKSkgc2NvcmUgPSA0O1xuXHRyZXR1cm4gTWF0aC5taW4oc2NvcmUsIDQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZVF1YW50aWZpY2F0aW9uKG1lc3NhZ2U6IHN0cmluZywgbWVzc2FnZUxvd2VyOiBzdHJpbmcpOiBudW1iZXIge1xuXHRsZXQgc2NvcmUgPSAwO1xuXHRjb25zdCBudW1iZXJQYXR0ZXJuID0gL1xcYlxcZCtbXFxkLC5dKlxcYi9nO1xuXHRjb25zdCByYW5nZVBhdHRlcm4gPSAvXFxiXFxkK1tcXGQsLl0qXFxzP1vigJMtXVxccz9cXGQrW1xcZCwuXSpcXGIvZztcblx0Y29uc3QgbnVtYmVycyA9IFsgLi4uKG1lc3NhZ2UubWF0Y2gocmFuZ2VQYXR0ZXJuKSB8fCBbXSksIC4uLihtZXNzYWdlLm1hdGNoKG51bWJlclBhdHRlcm4pIHx8IFtdKSBdO1xuXHRpZiAobnVtYmVycyAmJiBudW1iZXJzLmxlbmd0aCA+IDApIHsgc2NvcmUgKz0gTWF0aC5taW4obnVtYmVycy5sZW5ndGgsIDIpOyB9XG5cdGNvbnN0IHRpbWVJbmRpY2F0b3JzID0gWydkYXknLCd3ZWVrJywnbW9udGgnLCdxdWFydGVyJywneWVhcicsJ2hvdXInLCdtaW51dGUnLCdzZWNvbmQnLCdkYWcnLCd2ZWNrYScsJ23DpW5hZCcsJ2t2YXJ0YWwnLCfDpXInLCd0aW1tZScsJ21pbnV0Jywnc2VrdW5kJywnbcOlbiddO1xuXHRpZiAodGltZUluZGljYXRvcnMuc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSArPSAxO1xuXHRjb25zdCBwZXJjZW50YWdlUGF0dGVybiA9IC9cXGQrJS9nO1xuXHRpZiAobWVzc2FnZS5tYXRjaChwZXJjZW50YWdlUGF0dGVybikpIHNjb3JlICs9IDE7XG5cdGNvbnN0IG1vbmV5UGF0dGVybiA9IC8oXFwkfOKCrHzCoyk/XFxzP1xcZCtbXFxkLFxcLl0qXFxzPyhrfG18bW58bW5rcnx0a3J8a3J8bWlsbGlvbnx0aG91c2FuZCk/L2dpO1xuXHRpZiAobWVzc2FnZS5tYXRjaChtb25leVBhdHRlcm4pKSBzY29yZSArPSAxO1xuXHRyZXR1cm4gTWF0aC5taW4oc2NvcmUsIDQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZUNvbnRleHQobWVzc2FnZTogc3RyaW5nLCBtZXNzYWdlTG93ZXI6IHN0cmluZyk6IG51bWJlciB7XG5cdGxldCBzY29yZSA9IDA7XG5cdGNvbnN0IGJ1c2luZXNzQ29udGV4dCA9IFsnY29tcGFueScsJ29yZ2FuaXphdGlvbicsJ3N0YXJ0dXAnLCdlbnRlcnByaXNlJywndGVhbScsJ2RlcGFydG1lbnQnLCdwcm9qZWN0JywncHJvZHVjdCcsJ2bDtnJldGFnJywnYm9sYWcnLCdvcmdhbmlzYXRpb24nLCd0ZWFtZXQnLCdhdmRlbG5pbmcnLCdwcm9qZWt0JywncHJvZHVrdCcsJ3bDpHhhbmRlIGbDtnJldGFnJywndsOkeGFuZGUgYm9sYWcnXTtcblx0aWYgKGJ1c2luZXNzQ29udGV4dC5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSkpIHNjb3JlICs9IDE7XG5cdGNvbnN0IGluZHVzdHJ5Q29udGV4dCA9IFsndGVjaCcsJ2ZpbmFuY2UnLCdoZWFsdGhjYXJlJywncmV0YWlsJywnbWFudWZhY3R1cmluZycsJ2NvbnN1bHRpbmcnLCdhZ2VuY3knLCdzYWFzJ107XG5cdGlmIChpbmR1c3RyeUNvbnRleHQuc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSArPSAxO1xuXHRjb25zdCBtYXJrZXRDb250ZXh0ID0gWydtYXJrZXQnLCdjb21wZXRpdGlvbicsJ2N1c3RvbWVyJywndXNlcicsJ2NsaWVudCcsJ2RlbWFuZCcsJ2dyb3d0aCcsJ2V4cGFuc2lvbicsJ21hcmtuYWQnLCdrb25rdXJyZW5zJywna3VuZCcsJ2FudsOkbmRhcmUnLCdlZnRlcmZyw6VnYW4nLCd0aWxsdsOkeHQnLCdleHBhbnNpb24nLCd2w6R4YW5kZSddO1xuXHRpZiAobWFya2V0Q29udGV4dC5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSkpIHNjb3JlICs9IDE7XG5cdGNvbnN0IHN0cmF0ZWdpY0NvbnRleHQgPSBbJ3N0cmF0ZWd5JywnZ29hbCcsJ29iamVjdGl2ZScsJ21pc3Npb24nLCd2aXNpb24nLCdyb2FkbWFwJywncGxhbicsJ2luaXRpYXRpdmUnXTtcblx0aWYgKHN0cmF0ZWdpY0NvbnRleHQuc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSArPSAxO1xuXHRyZXR1cm4gTWF0aC5taW4oc2NvcmUsIDQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYW5hbHl6ZUNhdXNhbGl0eShtZXNzYWdlOiBzdHJpbmcsIG1lc3NhZ2VMb3dlcjogc3RyaW5nKTogbnVtYmVyIHtcblx0bGV0IHNjb3JlID0gMDtcblx0Y29uc3QgY2F1c2FsSW5kaWNhdG9ycyA9IFtcblx0XHQnYmVjYXVzZScsJ2R1ZSB0bycsJ2FzIGEgcmVzdWx0JywndGhlcmVmb3JlJywnc2luY2UnLCdjYXVzZWQgYnknLCdsZWFkcyB0bycsJ3Jlc3VsdHMgaW4nLFxuXHRcdCdlZnRlcnNvbScsJ3DDpSBncnVuZCBhdicsJ3NvbSBldHQgcmVzdWx0YXQnLCdkw6RyZsO2cicsJ2xlZGVyIHRpbGwnLCdyZXN1bHRlcmFyIGknLCd1cHBzdMOlciBuw6RyJywnbWVkZsO2cicsXG5cdFx0J21lZGFuJywnc2FtdGlkaWd0IHNvbScsJ3Ryb3RzIGF0dCcsJ2Zhc3TDpG4nLCdkw6RyZsO2ciBhdHQnLCdlZnRlcnNvbSBhdHQnLCdww6UgZ3J1bmQgYXYgYXR0J1xuXHRdO1xuXHRpZiAoY2F1c2FsSW5kaWNhdG9ycy5zb21lKGluZGljYXRvciA9PiBtZXNzYWdlTG93ZXIuaW5jbHVkZXMoaW5kaWNhdG9yKSkpIHNjb3JlICs9IDI7XG5cdGNvbnN0IHByb2JsZW1Tb2x1dGlvbiA9IFtcblx0XHQnc29sdmUnLCdmaXgnLCdhZGRyZXNzJywncmVzb2x2ZScsJ2ltcHJvdmUnLCdlbmhhbmNlJywnb3B0aW1pemUnLCdzdHJlYW1saW5lJyxcblx0XHQnbMO2c2EnLCfDpXRnw6RyZGEnLCdoYW50ZXJhJywnZsO2cmLDpHR0cmEnLCdvcHRpbWVyYScsJ2VmZmVrdGl2aXNlcmEnLCdtw6VzdGUnLFxuXHRcdCdiZWjDtnZlcicsJ2tyw6R2ZXInLCdzYWtuYXInLCdicmlzdCcsJ3Byb2JsZW0nLCd1dG1hbmluZycsJ3N2w6VyaWdoZXQnXG5cdF07XG5cdGlmIChwcm9ibGVtU29sdXRpb24uc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSArPSAxO1xuXHRjb25zdCBjb25zZXF1ZW5jZUluZGljYXRvcnMgPSBbXG5cdFx0J2lmIG5vdCcsJ290aGVyd2lzZScsJ3dpdGhvdXQnLCdmYWlsaW5nIHRvJywndW5hYmxlIHRvJywnY2Fubm90Jywnd2lsbCBub3QnLFxuXHRcdCdvbSBpbnRlJywnYW5uYXJzJywndXRhbicsJ2thbiBpbnRlJywna29tbWVyIGludGUnLFxuXHRcdCdmw7ZybG9yYXQnLCdmw7ZybG9yYXInLCdtaXNzYXInLCdtaXNzYXQnLCdnw6VyIG1pc3RlIG9tJywndGFwcGFyJywndGFwcGF0Jyxcblx0XHQnaW50ZSBrdW5kZScsJ2ludGUga2FuJywnaW50ZSBrbGFyYXInLCdpbnRlIGx5Y2thcycsJ2ludGUgZnVuZ2VyYXInXG5cdF07XG5cdGlmIChjb25zZXF1ZW5jZUluZGljYXRvcnMuc29tZShpbmRpY2F0b3IgPT4gbWVzc2FnZUxvd2VyLmluY2x1ZGVzKGluZGljYXRvcikpKSBzY29yZSArPSAxO1xuXHRjb25zdCBjb21wYXJhdGl2ZUltcGFjdCA9IFsgJ3doaWxlJywnd2hlcmVhcycsJ2NvbXBhcmVkIHRvJywndmVyc3VzJywndnMnLCdidXQnLCdob3dldmVyJywgJ21lZGFuJywnc2FtdGlkaWd0JywnasOkbWbDtnJ0IG1lZCcsJ21vdCcsJ21lbicsJ2RvY2snLCdkw6RyZW1vdCcsICd2w6R4ZXInLCd2w6R4dGUnLCduw6VyJywnbsOlZGRlJywnw7ZrYXInLCfDtmthZGUnLCdtaW5za2FyJywnbWluc2thdCcgXTtcblx0aWYgKGNvbXBhcmF0aXZlSW1wYWN0LnNvbWUoaW5kaWNhdG9yID0+IG1lc3NhZ2VMb3dlci5pbmNsdWRlcyhpbmRpY2F0b3IpKSkgc2NvcmUgKz0gMTtcblx0cmV0dXJuIE1hdGgubWluKHNjb3JlLCA0KTtcbn1cblxuXG4iXSwibmFtZXMiOlsiYW5hbHl6ZVVuaXZlcnNhbFF1YWxpdHkiLCJtZXNzYWdlIiwibWVzc2FnZUxvd2VyIiwiYW5hbHlzaXMiLCJjYXRlZ29yaWVzQ292ZXJlZCIsInNwZWNpZmljaXR5IiwicXVhbnRpZmljYXRpb24iLCJjb250ZXh0IiwiY2F1c2FsaXR5IiwiYnVzaW5lc3NJbXBhY3QiLCJ0aW1pbmdDb250ZXh0Iiwib3ZlcmFsbFNjb3JlIiwic2l0dWF0aW9uSW5kaWNhdG9ycyIsImhhc1NpdHVhdGlvbiIsInNvbWUiLCJpbmRpY2F0b3IiLCJpbmNsdWRlcyIsImdhcEluZGljYXRvcnMiLCJoYXNHYXAiLCJpbXBhY3RJbmRpY2F0b3JzIiwiaGFzSW1wYWN0Iiwic3Rha2Vob2xkZXJJbmRpY2F0b3JzIiwiaGFzU3Rha2Vob2xkZXIiLCJ0aW1pbmdJbmRpY2F0b3JzIiwiaGFzVGltaW5nIiwic2NvcGVJbmRpY2F0b3JzIiwiaGFzU2NvcGUiLCJhbmFseXplU3BlY2lmaWNpdHkiLCJhbmFseXplUXVhbnRpZmljYXRpb24iLCJhbmFseXplQ29udGV4dCIsImFuYWx5emVDYXVzYWxpdHkiLCJzY29yZSIsImdlbmVyaWNQaHJhc2VzIiwiaGFzR2VuZXJpYyIsInBocmFzZSIsImxlbmd0aCIsInNwZWNpZmljUm9sZUluZGljYXRvcnMiLCJ0ZWNobmljYWxJbmRpY2F0b3JzIiwidmVyeVNwZWNpZmljSW5kaWNhdG9ycyIsIk1hdGgiLCJtaW4iLCJudW1iZXJQYXR0ZXJuIiwicmFuZ2VQYXR0ZXJuIiwibnVtYmVycyIsIm1hdGNoIiwidGltZUluZGljYXRvcnMiLCJwZXJjZW50YWdlUGF0dGVybiIsIm1vbmV5UGF0dGVybiIsImJ1c2luZXNzQ29udGV4dCIsImluZHVzdHJ5Q29udGV4dCIsIm1hcmtldENvbnRleHQiLCJzdHJhdGVnaWNDb250ZXh0IiwiY2F1c2FsSW5kaWNhdG9ycyIsInByb2JsZW1Tb2x1dGlvbiIsImNvbnNlcXVlbmNlSW5kaWNhdG9ycyIsImNvbXBhcmF0aXZlSW1wYWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/quality-analysis.ts\n");

/***/ }),

/***/ "(rsc)/./lib/questions.ts":
/*!**************************!*\
  !*** ./lib/questions.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getChallengerInsight: () => (/* binding */ getChallengerInsight),\n/* harmony export */   getRoleAwareQuestion: () => (/* binding */ getRoleAwareQuestion)\n/* harmony export */ });\nconst getRoleAwareQuestion = (currentCluster, roleContext, missingInsights)=>{\n    const strategicQuestions = {\n        'pain-point': {\n            'cfo': [\n                'Vilka specifika investerare har redan uttryckt oro över er rapportering?',\n                'Vad sa styrelsen när de fick höra om förseningarna?',\n                'Vilka av era finansiella leverantörer har hotat med att dra tillbaka kredit?',\n                'Hur många av era chefer har redan börjat leta efter nya jobb?',\n                'Vilka konkreta affärsmöjligheter har ni redan missat på grund av detta?'\n            ],\n            'tech': [\n                'Vilka av era utvecklare har redan börjat fråga om nya jobb?',\n                'Vad sa era största kunder när de fick höra om förseningarna?',\n                'Vilka specifika kunder har uttryckt oro över er tekniska skuld?',\n                'Hur många av era seniora utvecklare har redan sagt upp sig?',\n                'Vilka konkreta produktlanseringar har ni redan missat på grund av detta?'\n            ],\n            'sales': [\n                'Vilka av era säljare har redan börjat fråga om nya jobb?',\n                'Vad sa era största kunder när de fick höra om problemen?',\n                'Vilka specifika kunder har redan hotat med att byta leverantör?',\n                'Hur många av era account managers har redan sagt upp sig?',\n                'Vilka konkreta affärer har ni redan förlorat på grund av detta?'\n            ],\n            'operations': [\n                'Vilka av era operations-medarbetare har redan börjat fråga om nya jobb?',\n                'Vad sa era största kunder när de fick höra om leveransproblemen?',\n                'Vilka specifika kunder har redan hotat med att avsluta kontrakt?',\n                'Hur många av era kvalitetsansvariga har redan sagt upp sig?',\n                'Vilka konkreta leveransmöjligheter har ni redan missat på grund av detta?'\n            ],\n            'marketing': [\n                'Vilka av era marknadsförare har redan börjat fråga om nya jobb?',\n                'Vad sa era största kunder när de fick höra om varumärkesproblemen?',\n                'Vilka specifika kunder har redan uttryckt oro över er marknadsposition?',\n                'Hur många av era kreativa medarbetare har redan sagt upp sig?',\n                'Vilka konkreta marknadsmöjligheter har ni redan missat på grund av detta?'\n            ],\n            'hr': [\n                'Vilka av era HR-medarbetare har redan börjat fråga om nya jobb?',\n                'Vad sa era största kunder när de fick höra om personalproblemen?',\n                'Vilka specifika kunder har redan uttryckt oro över er teamstabilitet?',\n                'Hur många av era rekryterare har redan sagt upp sig?',\n                'Vilka konkreta talangmöjligheter har ni redan missat på grund av detta?'\n            ]\n        },\n        'impact-urgency': {\n            'cfo': [\n                'Vilka specifika investerare har redan sagt att de inte kommer investera i nästa runda?',\n                'Vad sa banken när de fick höra om er finansiella situation?',\n                'Hur många av era leverantörer har redan krävt förskottsbetalning?',\n                'Vilka konkreta affärsmöjligheter har ni redan förlorat på grund av dålig rapportering?',\n                'Vad sa era största kunder när de fick höra om er finansiella instabilitet?'\n            ],\n            'tech': [\n                'Vilka specifika kunder har redan sagt att de inte kommer förnya kontrakt?',\n                'Vad sa era största kunder när de fick höra om produktförseningarna?',\n                'Hur många av era utvecklare har redan fått jobberbjudanden från konkurrenter?',\n                'Vilka konkreta produktlanseringar har ni redan förlorat på grund av tekniska problem?',\n                'Vad sa era största kunder när de fick höra om er tekniska skuld?'\n            ],\n            'sales': [\n                'Vilka specifika kunder har redan sagt att de inte kommer förnya kontrakt?',\n                'Vad sa era största kunder när de fick höra om säljproblemen?',\n                'Hur många av era säljare har redan fått jobberbjudanden från konkurrenter?',\n                'Vilka konkreta affärer har ni redan förlorat på grund av dålig säljledning?',\n                'Vad sa era största kunder när de fick höra om er säljorganisation?'\n            ],\n            'operations': [\n                'Vilka specifika kunder har redan sagt att de inte kommer förnya kontrakt?',\n                'Vad sa era största kunder när de fick höra om leveransproblemen?',\n                'Hur många av era operations-medarbetare har redan fått jobberbjudanden från konkurrenter?',\n                'Vilka konkreta leveransmöjligheter har ni redan förlorat på grund av processproblem?',\n                'Vad sa era största kunder när de fick höra om er operationskapacitet?'\n            ],\n            'marketing': [\n                'Vilka specifika kunder har redan sagt att de inte kommer förnya kontrakt?',\n                'Vad sa era största kunder när de fick höra om varumärkesproblemen?',\n                'Hur många av era marknadsförare har redan fått jobberbjudanden från konkurrenter?',\n                'Vilka konkreta marknadsmöjligheter har ni redan förlorat på grund av dålig marknadsföring?',\n                'Vad sa era största kunder när de fick höra om er marknadsposition?'\n            ],\n            'hr': [\n                'Vilka specifika kunder har redan sagt att de inte kommer förnya kontrakt?',\n                'Vad sa era största kunder när de fick höra om personalproblemen?',\n                'Hur många av era HR-medarbetare har redan fått jobberbjudanden från konkurrenter?',\n                'Vilka konkreta talangmöjligheter har ni redan förlorat på grund av dålig HR-ledning?',\n                'Vad sa era största kunder när de fick höra om er teamstabilitet?'\n            ]\n        }\n    };\n    const clusterQuestions = strategicQuestions[currentCluster] || {};\n    const roleSpecificQuestions = clusterQuestions[roleContext.role] || clusterQuestions['default'] || [\n        'Vilka specifika personer har redan uttryckt oro över denna situation?',\n        'Vad sa era största kunder när de fick höra om problemet?',\n        'Hur många av era medarbetare har redan börjat leta efter nya jobb?'\n    ];\n    return roleSpecificQuestions[Math.floor(Math.random() * roleSpecificQuestions.length)];\n};\nconst getChallengerInsight = (roleContext, currentCluster, conversationHistory)=>{\n    // Try to ground the insight in last 2 user turns for relevance\n    const recentUserStatements = conversationHistory.filter((m)=>m.role === 'user').slice(-2).map((m)=>m.content.toLowerCase()).join(' \\n ');\n    // Lightweight tailoring by role with simple pattern probes\n    function tailorByRole(base) {\n        const add = (hint)=>`${base} (${hint})`;\n        if (roleContext.role === 'marketing') {\n            if (recentUserStatements.includes('varumärke') || recentUserStatements.includes('brand')) {\n                return add('direkt kopplat till varumärkesstyrka ni nämnde');\n            }\n            if (recentUserStatements.includes('mql') || recentUserStatements.includes('pipeline') || recentUserStatements.includes('leads')) {\n                return add('konsekvenser för pipeline/leads ni beskrev');\n            }\n            return add('koppla till marknadsposition och growth-momentum');\n        }\n        if (roleContext.role === 'cfo' || roleContext.department === 'finance') {\n            if (recentUserStatements.includes('ifrs') || recentUserStatements.includes('rapport')) {\n                return add('kopplat till IFRS/rapportering som ni tog upp');\n            }\n            if (recentUserStatements.includes('series') || recentUserStatements.includes('invest')) {\n                return add('konsekvenser för investerare/finansiering');\n            }\n            return add('finansiell kontroll och styrelsens förtroende');\n        }\n        if (roleContext.role === 'sales') {\n            if (recentUserStatements.includes('pipeline') || recentUserStatements.includes('konvertering')) {\n                return add('direkt effekt på pipeline och konvertering');\n            }\n            return add('intäktstakt och kundtapp');\n        }\n        if (roleContext.role === 'tech') {\n            if (recentUserStatements.includes('skuld') || recentUserStatements.includes('teknisk skuld')) {\n                return add('accelererande teknisk skuld påverkar leverans');\n            }\n            return add('skalbarhet och incidentrisk');\n        }\n        return base;\n    }\n    const challengerInsights = {\n        'pain-point': {\n            'cfo': [\n                'Jag tror att det här problemet är större än ni tror. De flesta företag i er situation har redan förlorat 2-3 nyckelpersoner.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 15-25% av deras omsättning inom 6 månader.',\n                'Jag har sett detta mönster förut - företag som väntar för länge brukar förlora sina bästa kunder först.',\n                'Det här låter som ett systemproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela funktionen?'\n            ],\n            'tech': [\n                'Jag tror att er tekniska skuld är mycket större än ni inser. De flesta team i er situation har redan förlorat sina seniora utvecklare.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 30-40% av deras produktionshastighet inom 3 månader.',\n                'Jag har sett detta mönster förut - team som väntar för länge brukar förlora sina bästa utvecklare först.',\n                'Det här låter som ett arkitekturproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela systemet?'\n            ],\n            'sales': [\n                'Jag tror att er säljorganisation är mycket mer instabil än ni tror. De flesta team i er situation har redan förlorat sina bästa säljare.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 20-30% av deras omsättning inom 4 månader.',\n                'Jag har sett detta mönster förut - säljteam som väntar för länge brukar förlora sina bästa kunder först.',\n                'Det här låter som ett organisationsproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela säljorganisationen?'\n            ],\n            'operations': [\n                'Jag tror att era processproblem är mycket allvarligare än ni tror. De flesta företag i er situation har redan förlorat sina bästa kunder.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 25-35% av deras kapacitet inom 2 månader.',\n                'Jag har sett detta mönster förut - operations som väntar för länge brukar förlora sina bästa medarbetare först.',\n                'Det här låter som ett systemproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela operations?'\n            ],\n            'marketing': [\n                'Jag tror att er marknadsposition är mycket svagare än ni tror. De flesta företag i er situation har redan förlorat marknadsandelar.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 15-25% av deras tillväxt inom 6 månader.',\n                'Jag har sett detta mönster förut - marknadsföring som väntar för länge brukar förlora sina bästa kunder först.',\n                'Det här låter som ett strategiproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela marknadsföringen?'\n            ],\n            'hr': [\n                'Jag tror att er teamstabilitet är mycket sämre än ni tror. De flesta företag i er situation har redan förlorat sina bästa medarbetare.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 20-30% av deras produktivitet inom 3 månader.',\n                'Jag har sett detta mönster förut - HR som väntar för länge brukar förlora sina bästa talanger först.',\n                'Det här låter som ett kulturproblem, inte bara en personfråga. Har ni funderat på att omstrukturera hela organisationen?'\n            ]\n        },\n        'impact-urgency': {\n            'cfo': [\n                'Jag tror att ni underskattar den finansiella påverkan. De flesta företag i er situation har redan förlorat 40-60% av sin värdering.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - företag som väntar för länge brukar förlora sina investerare först.',\n                'Det här är inte bara ett problem, det är en existentiell kris. Har ni funderat på att ta drastiska åtgärder?'\n            ],\n            'tech': [\n                'Jag tror att ni underskattar den tekniska påverkan. De flesta team i er situation har redan förlorat 50-70% av sin produktivitet.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 3-4x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - team som väntar för länge brukar förlora sina bästa utvecklare först.',\n                'Det här är inte bara ett problem, det är en teknisk kris. Har ni funderat på att ta drastiska åtgärder?'\n            ],\n            'sales': [\n                'Jag tror att ni underskattar den säljmässiga påverkan. De flesta team i er situation har redan förlorat 30-50% av sin omsättning.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - säljteam som väntar för länge brukar förlora sina bästa kunder först.',\n                'Det här är inte bara ett problem, det är en säljkris. Har ni funderat på att ta drastiska åtgärder?'\n            ],\n            'operations': [\n                'Jag tror att ni underskattar den operativa påverkan. De flesta företag i er situation har redan förlorat 40-60% av sin kapacitet.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - operations som väntar för länge brukar förlora sina bästa medarbetare först.',\n                'Det här är inte bara ett problem, det är en operationskris. Har ni funderat på att ta drastiska åtgärder?'\n            ],\n            'marketing': [\n                'Jag tror att ni underskattar den marknadsmässiga påverkan. De flesta företag i er situation har redan förlorat 25-40% av sin marknadsandel.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - marknadsföring som väntar för länge brukar förlora sina bästa kunder först.',\n                'Det här är inte bara ett problem, det är en marknadskris. Har ni funderat på att ta drastiska åtgärder?'\n            ],\n            'hr': [\n                'Jag tror att ni underskattar den personalmässiga påverkan. De flesta företag i er situation har redan förlorat 30-50% av sina bästa medarbetare.',\n                'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n                'Jag har sett detta mönster förut - HR som väntar för länge brukar förlora sina bästa talanger först.',\n                'Det här är inte bara ett problem, det är en personalmässig kris. Har ni funderat på att ta drastiska åtgärder?'\n            ]\n        }\n    };\n    const clusterInsights = challengerInsights[currentCluster] || {};\n    const roleSpecificInsights = clusterInsights[roleContext.role] || clusterInsights['default'] || [\n        'Jag tror att ni underskattar problemets omfattning. De flesta företag i er situation har redan förlorat betydligt mer än de tror.',\n        'Baserat på min erfarenhet brukar detta problem kosta företag 2-3x mer än de initialt tror.',\n        'Jag har sett detta mönster förut - företag som väntar för länge brukar förlora sina bästa medarbetare först.'\n    ];\n    const base = roleSpecificInsights[Math.floor(Math.random() * roleSpecificInsights.length)];\n    return tailorByRole(base);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcXVlc3Rpb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBR08sTUFBTUEsdUJBQXVCLENBQ25DQyxnQkFDQUMsYUFDQUM7SUFFQSxNQUFNQyxxQkFBK0Q7UUFDcEUsY0FBYztZQUNiLE9BQU87Z0JBQ047Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELFFBQVE7Z0JBQ1A7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELFNBQVM7Z0JBQ1I7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELGNBQWM7Z0JBQ2I7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELGFBQWE7Z0JBQ1o7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELE1BQU07Z0JBQ0w7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtRQUNGO1FBQ0Esa0JBQWtCO1lBQ2pCLE9BQU87Z0JBQ047Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELFFBQVE7Z0JBQ1A7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELFNBQVM7Z0JBQ1I7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELGNBQWM7Z0JBQ2I7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELGFBQWE7Z0JBQ1o7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtZQUNELE1BQU07Z0JBQ0w7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7Z0JBQ0E7YUFDQTtRQUNGO0lBQ0Q7SUFFQSxNQUFNQyxtQkFBbUJELGtCQUFrQixDQUFDSCxlQUFlLElBQUksQ0FBQztJQUNoRSxNQUFNSyx3QkFBd0JELGdCQUFnQixDQUFDSCxZQUFZSyxJQUFJLENBQUMsSUFBSUYsZ0JBQWdCLENBQUMsVUFBVSxJQUFJO1FBQ2xHO1FBQ0E7UUFDQTtLQUNBO0lBRUQsT0FBT0MscUJBQXFCLENBQUNFLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLSixzQkFBc0JLLE1BQU0sRUFBRTtBQUN2RixFQUFFO0FBRUssTUFBTUMsdUJBQXVCLENBQ25DVixhQUNBRCxnQkFDQVk7SUFFRywrREFBK0Q7SUFDL0QsTUFBTUMsdUJBQXVCRCxvQkFDeEJFLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRVQsSUFBSSxLQUFLLFFBQ3ZCVSxLQUFLLENBQUMsQ0FBQyxHQUNQQyxHQUFHLENBQUNGLENBQUFBLElBQUtBLEVBQUVHLE9BQU8sQ0FBQ0MsV0FBVyxJQUM5QkMsSUFBSSxDQUFDO0lBRVYsMkRBQTJEO0lBQzNELFNBQVNDLGFBQWFDLElBQVk7UUFDOUIsTUFBTUMsTUFBTSxDQUFDQyxPQUFpQixHQUFHRixLQUFLLEVBQUUsRUFBRUUsS0FBSyxDQUFDLENBQUM7UUFDakQsSUFBSXZCLFlBQVlLLElBQUksS0FBSyxhQUFhO1lBQ2xDLElBQUlPLHFCQUFxQlksUUFBUSxDQUFDLGdCQUFnQloscUJBQXFCWSxRQUFRLENBQUMsVUFBVTtnQkFDdEYsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsSUFBSVYscUJBQXFCWSxRQUFRLENBQUMsVUFBVVoscUJBQXFCWSxRQUFRLENBQUMsZUFBZVoscUJBQXFCWSxRQUFRLENBQUMsVUFBVTtnQkFDN0gsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsT0FBT0EsSUFBSTtRQUNmO1FBQ0EsSUFBSXRCLFlBQVlLLElBQUksS0FBSyxTQUFTTCxZQUFZeUIsVUFBVSxLQUFLLFdBQVc7WUFDcEUsSUFBSWIscUJBQXFCWSxRQUFRLENBQUMsV0FBV1oscUJBQXFCWSxRQUFRLENBQUMsWUFBWTtnQkFDbkYsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsSUFBSVYscUJBQXFCWSxRQUFRLENBQUMsYUFBYVoscUJBQXFCWSxRQUFRLENBQUMsV0FBVztnQkFDcEYsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsT0FBT0EsSUFBSTtRQUNmO1FBQ0EsSUFBSXRCLFlBQVlLLElBQUksS0FBSyxTQUFTO1lBQzlCLElBQUlPLHFCQUFxQlksUUFBUSxDQUFDLGVBQWVaLHFCQUFxQlksUUFBUSxDQUFDLGlCQUFpQjtnQkFDNUYsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsT0FBT0EsSUFBSTtRQUNmO1FBQ0EsSUFBSXRCLFlBQVlLLElBQUksS0FBSyxRQUFRO1lBQzdCLElBQUlPLHFCQUFxQlksUUFBUSxDQUFDLFlBQVlaLHFCQUFxQlksUUFBUSxDQUFDLGtCQUFrQjtnQkFDMUYsT0FBT0YsSUFBSTtZQUNmO1lBQ0EsT0FBT0EsSUFBSTtRQUNmO1FBQ0EsT0FBT0Q7SUFDWDtJQUVILE1BQU1LLHFCQUErRDtRQUNwRSxjQUFjO1lBQ2IsT0FBTztnQkFDTjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsUUFBUTtnQkFDUDtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsU0FBUztnQkFDUjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsY0FBYztnQkFDYjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsYUFBYTtnQkFDWjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsTUFBTTtnQkFDTDtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1FBQ0Y7UUFDQSxrQkFBa0I7WUFDakIsT0FBTztnQkFDTjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsUUFBUTtnQkFDUDtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsU0FBUztnQkFDUjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsY0FBYztnQkFDYjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsYUFBYTtnQkFDWjtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1lBQ0QsTUFBTTtnQkFDTDtnQkFDQTtnQkFDQTtnQkFDQTthQUNBO1FBQ0Y7SUFDRDtJQUVBLE1BQU1DLGtCQUFrQkQsa0JBQWtCLENBQUMzQixlQUFlLElBQUksQ0FBQztJQUMvRCxNQUFNNkIsdUJBQXVCRCxlQUFlLENBQUMzQixZQUFZSyxJQUFJLENBQUMsSUFBSXNCLGVBQWUsQ0FBQyxVQUFVLElBQUk7UUFDL0Y7UUFDQTtRQUNBO0tBQ0E7SUFFRCxNQUFNTixPQUFPTyxvQkFBb0IsQ0FBQ3RCLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLb0IscUJBQXFCbkIsTUFBTSxFQUFFO0lBQzFGLE9BQU9XLGFBQWFDO0FBQ3JCLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWN0YS8uL2xpYi9xdWVzdGlvbnMudHM/NGVjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbHVzdGVyVHlwZSB9IGZyb20gJy4vY2x1c3RlcnMnO1xuaW1wb3J0IHsgQ29udmVyc2F0aW9uTWVzc2FnZSwgUm9sZUNvbnRleHQgfSBmcm9tICcuL2VuZ2luZS10eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBnZXRSb2xlQXdhcmVRdWVzdGlvbiA9IChcblx0Y3VycmVudENsdXN0ZXI6IENsdXN0ZXJUeXBlLFxuXHRyb2xlQ29udGV4dDogUm9sZUNvbnRleHQsXG5cdG1pc3NpbmdJbnNpZ2h0czogc3RyaW5nW11cbik6IHN0cmluZyA9PiB7XG5cdGNvbnN0IHN0cmF0ZWdpY1F1ZXN0aW9uczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nW10+PiA9IHtcblx0XHQncGFpbi1wb2ludCc6IHtcblx0XHRcdCdjZm8nOiBbXG5cdFx0XHRcdCdWaWxrYSBzcGVjaWZpa2EgaW52ZXN0ZXJhcmUgaGFyIHJlZGFuIHV0dHJ5Y2t0IG9ybyDDtnZlciBlciByYXBwb3J0ZXJpbmc/Jyxcblx0XHRcdFx0J1ZhZCBzYSBzdHlyZWxzZW4gbsOkciBkZSBmaWNrIGjDtnJhIG9tIGbDtnJzZW5pbmdhcm5hPycsXG5cdFx0XHRcdCdWaWxrYSBhdiBlcmEgZmluYW5zaWVsbGEgbGV2ZXJhbnTDtnJlciBoYXIgaG90YXQgbWVkIGF0dCBkcmEgdGlsbGJha2Ega3JlZGl0PycsXG5cdFx0XHRcdCdIdXIgbcOlbmdhIGF2IGVyYSBjaGVmZXIgaGFyIHJlZGFuIGLDtnJqYXQgbGV0YSBlZnRlciBueWEgam9iYj8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgYWZmw6Ryc23DtmpsaWdoZXRlciBoYXIgbmkgcmVkYW4gbWlzc2F0IHDDpSBncnVuZCBhdiBkZXR0YT8nXG5cdFx0XHRdLFxuXHRcdFx0J3RlY2gnOiBbXG5cdFx0XHRcdCdWaWxrYSBhdiBlcmEgdXR2ZWNrbGFyZSBoYXIgcmVkYW4gYsO2cmphdCBmcsOlZ2Egb20gbnlhIGpvYmI/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSBmw7Zyc2VuaW5nYXJuYT8nLFxuXHRcdFx0XHQnVmlsa2Egc3BlY2lmaWthIGt1bmRlciBoYXIgdXR0cnlja3Qgb3JvIMO2dmVyIGVyIHRla25pc2thIHNrdWxkPycsXG5cdFx0XHRcdCdIdXIgbcOlbmdhIGF2IGVyYSBzZW5pb3JhIHV0dmVja2xhcmUgaGFyIHJlZGFuIHNhZ3QgdXBwIHNpZz8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgcHJvZHVrdGxhbnNlcmluZ2FyIGhhciBuaSByZWRhbiBtaXNzYXQgcMOlIGdydW5kIGF2IGRldHRhPydcblx0XHRcdF0sXG5cdFx0XHQnc2FsZXMnOiBbXG5cdFx0XHRcdCdWaWxrYSBhdiBlcmEgc8OkbGphcmUgaGFyIHJlZGFuIGLDtnJqYXQgZnLDpWdhIG9tIG55YSBqb2JiPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gcHJvYmxlbWVuPycsXG5cdFx0XHRcdCdWaWxrYSBzcGVjaWZpa2Ega3VuZGVyIGhhciByZWRhbiBob3RhdCBtZWQgYXR0IGJ5dGEgbGV2ZXJhbnTDtnI/Jyxcblx0XHRcdFx0J0h1ciBtw6VuZ2EgYXYgZXJhIGFjY291bnQgbWFuYWdlcnMgaGFyIHJlZGFuIHNhZ3QgdXBwIHNpZz8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgYWZmw6RyZXIgaGFyIG5pIHJlZGFuIGbDtnJsb3JhdCBww6UgZ3J1bmQgYXYgZGV0dGE/J1xuXHRcdFx0XSxcblx0XHRcdCdvcGVyYXRpb25zJzogW1xuXHRcdFx0XHQnVmlsa2EgYXYgZXJhIG9wZXJhdGlvbnMtbWVkYXJiZXRhcmUgaGFyIHJlZGFuIGLDtnJqYXQgZnLDpWdhIG9tIG55YSBqb2JiPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gbGV2ZXJhbnNwcm9ibGVtZW4/Jyxcblx0XHRcdFx0J1ZpbGthIHNwZWNpZmlrYSBrdW5kZXIgaGFyIHJlZGFuIGhvdGF0IG1lZCBhdHQgYXZzbHV0YSBrb250cmFrdD8nLFxuXHRcdFx0XHQnSHVyIG3DpW5nYSBhdiBlcmEga3ZhbGl0ZXRzYW5zdmFyaWdhIGhhciByZWRhbiBzYWd0IHVwcCBzaWc/Jyxcblx0XHRcdFx0J1ZpbGthIGtvbmtyZXRhIGxldmVyYW5zbcO2amxpZ2hldGVyIGhhciBuaSByZWRhbiBtaXNzYXQgcMOlIGdydW5kIGF2IGRldHRhPydcblx0XHRcdF0sXG5cdFx0XHQnbWFya2V0aW5nJzogW1xuXHRcdFx0XHQnVmlsa2EgYXYgZXJhIG1hcmtuYWRzZsO2cmFyZSBoYXIgcmVkYW4gYsO2cmphdCBmcsOlZ2Egb20gbnlhIGpvYmI/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSB2YXJ1bcOkcmtlc3Byb2JsZW1lbj8nLFxuXHRcdFx0XHQnVmlsa2Egc3BlY2lmaWthIGt1bmRlciBoYXIgcmVkYW4gdXR0cnlja3Qgb3JvIMO2dmVyIGVyIG1hcmtuYWRzcG9zaXRpb24/Jyxcblx0XHRcdFx0J0h1ciBtw6VuZ2EgYXYgZXJhIGtyZWF0aXZhIG1lZGFyYmV0YXJlIGhhciByZWRhbiBzYWd0IHVwcCBzaWc/Jyxcblx0XHRcdFx0J1ZpbGthIGtvbmtyZXRhIG1hcmtuYWRzbcO2amxpZ2hldGVyIGhhciBuaSByZWRhbiBtaXNzYXQgcMOlIGdydW5kIGF2IGRldHRhPydcblx0XHRcdF0sXG5cdFx0XHQnaHInOiBbXG5cdFx0XHRcdCdWaWxrYSBhdiBlcmEgSFItbWVkYXJiZXRhcmUgaGFyIHJlZGFuIGLDtnJqYXQgZnLDpWdhIG9tIG55YSBqb2JiPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gcGVyc29uYWxwcm9ibGVtZW4/Jyxcblx0XHRcdFx0J1ZpbGthIHNwZWNpZmlrYSBrdW5kZXIgaGFyIHJlZGFuIHV0dHJ5Y2t0IG9ybyDDtnZlciBlciB0ZWFtc3RhYmlsaXRldD8nLFxuXHRcdFx0XHQnSHVyIG3DpW5nYSBhdiBlcmEgcmVrcnl0ZXJhcmUgaGFyIHJlZGFuIHNhZ3QgdXBwIHNpZz8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgdGFsYW5nbcO2amxpZ2hldGVyIGhhciBuaSByZWRhbiBtaXNzYXQgcMOlIGdydW5kIGF2IGRldHRhPydcblx0XHRcdF1cblx0XHR9LFxuXHRcdCdpbXBhY3QtdXJnZW5jeSc6IHtcblx0XHRcdCdjZm8nOiBbXG5cdFx0XHRcdCdWaWxrYSBzcGVjaWZpa2EgaW52ZXN0ZXJhcmUgaGFyIHJlZGFuIHNhZ3QgYXR0IGRlIGludGUga29tbWVyIGludmVzdGVyYSBpIG7DpHN0YSBydW5kYT8nLFxuXHRcdFx0XHQnVmFkIHNhIGJhbmtlbiBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgZmluYW5zaWVsbGEgc2l0dWF0aW9uPycsXG5cdFx0XHRcdCdIdXIgbcOlbmdhIGF2IGVyYSBsZXZlcmFudMO2cmVyIGhhciByZWRhbiBrcsOkdnQgZsO2cnNrb3R0c2JldGFsbmluZz8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgYWZmw6Ryc23DtmpsaWdoZXRlciBoYXIgbmkgcmVkYW4gZsO2cmxvcmF0IHDDpSBncnVuZCBhdiBkw6VsaWcgcmFwcG9ydGVyaW5nPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgZmluYW5zaWVsbGEgaW5zdGFiaWxpdGV0Pydcblx0XHRcdF0sXG5cdFx0XHQndGVjaCc6IFtcblx0XHRcdFx0J1ZpbGthIHNwZWNpZmlrYSBrdW5kZXIgaGFyIHJlZGFuIHNhZ3QgYXR0IGRlIGludGUga29tbWVyIGbDtnJueWEga29udHJha3Q/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSBwcm9kdWt0ZsO2cnNlbmluZ2FybmE/Jyxcblx0XHRcdFx0J0h1ciBtw6VuZ2EgYXYgZXJhIHV0dmVja2xhcmUgaGFyIHJlZGFuIGbDpXR0IGpvYmJlcmJqdWRhbmRlbiBmcsOlbiBrb25rdXJyZW50ZXI/Jyxcblx0XHRcdFx0J1ZpbGthIGtvbmtyZXRhIHByb2R1a3RsYW5zZXJpbmdhciBoYXIgbmkgcmVkYW4gZsO2cmxvcmF0IHDDpSBncnVuZCBhdiB0ZWtuaXNrYSBwcm9ibGVtPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgdGVrbmlza2Egc2t1bGQ/J1xuXHRcdFx0XSxcblx0XHRcdCdzYWxlcyc6IFtcblx0XHRcdFx0J1ZpbGthIHNwZWNpZmlrYSBrdW5kZXIgaGFyIHJlZGFuIHNhZ3QgYXR0IGRlIGludGUga29tbWVyIGbDtnJueWEga29udHJha3Q/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSBzw6RsanByb2JsZW1lbj8nLFxuXHRcdFx0XHQnSHVyIG3DpW5nYSBhdiBlcmEgc8OkbGphcmUgaGFyIHJlZGFuIGbDpXR0IGpvYmJlcmJqdWRhbmRlbiBmcsOlbiBrb25rdXJyZW50ZXI/Jyxcblx0XHRcdFx0J1ZpbGthIGtvbmtyZXRhIGFmZsOkcmVyIGhhciBuaSByZWRhbiBmw7ZybG9yYXQgcMOlIGdydW5kIGF2IGTDpWxpZyBzw6RsamxlZG5pbmc/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSBlciBzw6Rsam9yZ2FuaXNhdGlvbj8nXG5cdFx0XHRdLFxuXHRcdFx0J29wZXJhdGlvbnMnOiBbXG5cdFx0XHRcdCdWaWxrYSBzcGVjaWZpa2Ega3VuZGVyIGhhciByZWRhbiBzYWd0IGF0dCBkZSBpbnRlIGtvbW1lciBmw7ZybnlhIGtvbnRyYWt0PycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gbGV2ZXJhbnNwcm9ibGVtZW4/Jyxcblx0XHRcdFx0J0h1ciBtw6VuZ2EgYXYgZXJhIG9wZXJhdGlvbnMtbWVkYXJiZXRhcmUgaGFyIHJlZGFuIGbDpXR0IGpvYmJlcmJqdWRhbmRlbiBmcsOlbiBrb25rdXJyZW50ZXI/Jyxcblx0XHRcdFx0J1ZpbGthIGtvbmtyZXRhIGxldmVyYW5zbcO2amxpZ2hldGVyIGhhciBuaSByZWRhbiBmw7ZybG9yYXQgcMOlIGdydW5kIGF2IHByb2Nlc3Nwcm9ibGVtPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgb3BlcmF0aW9uc2thcGFjaXRldD8nXG5cdFx0XHRdLFxuXHRcdFx0J21hcmtldGluZyc6IFtcblx0XHRcdFx0J1ZpbGthIHNwZWNpZmlrYSBrdW5kZXIgaGFyIHJlZGFuIHNhZ3QgYXR0IGRlIGludGUga29tbWVyIGbDtnJueWEga29udHJha3Q/Jyxcblx0XHRcdFx0J1ZhZCBzYSBlcmEgc3TDtnJzdGEga3VuZGVyIG7DpHIgZGUgZmljayBow7ZyYSBvbSB2YXJ1bcOkcmtlc3Byb2JsZW1lbj8nLFxuXHRcdFx0XHQnSHVyIG3DpW5nYSBhdiBlcmEgbWFya25hZHNmw7ZyYXJlIGhhciByZWRhbiBmw6V0dCBqb2JiZXJianVkYW5kZW4gZnLDpW4ga29ua3VycmVudGVyPycsXG5cdFx0XHRcdCdWaWxrYSBrb25rcmV0YSBtYXJrbmFkc23DtmpsaWdoZXRlciBoYXIgbmkgcmVkYW4gZsO2cmxvcmF0IHDDpSBncnVuZCBhdiBkw6VsaWcgbWFya25hZHNmw7ZyaW5nPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgbWFya25hZHNwb3NpdGlvbj8nXG5cdFx0XHRdLFxuXHRcdFx0J2hyJzogW1xuXHRcdFx0XHQnVmlsa2Egc3BlY2lmaWthIGt1bmRlciBoYXIgcmVkYW4gc2FndCBhdHQgZGUgaW50ZSBrb21tZXIgZsO2cm55YSBrb250cmFrdD8nLFxuXHRcdFx0XHQnVmFkIHNhIGVyYSBzdMO2cnN0YSBrdW5kZXIgbsOkciBkZSBmaWNrIGjDtnJhIG9tIHBlcnNvbmFscHJvYmxlbWVuPycsXG5cdFx0XHRcdCdIdXIgbcOlbmdhIGF2IGVyYSBIUi1tZWRhcmJldGFyZSBoYXIgcmVkYW4gZsOldHQgam9iYmVyYmp1ZGFuZGVuIGZyw6VuIGtvbmt1cnJlbnRlcj8nLFxuXHRcdFx0XHQnVmlsa2Ega29ua3JldGEgdGFsYW5nbcO2amxpZ2hldGVyIGhhciBuaSByZWRhbiBmw7ZybG9yYXQgcMOlIGdydW5kIGF2IGTDpWxpZyBIUi1sZWRuaW5nPycsXG5cdFx0XHRcdCdWYWQgc2EgZXJhIHN0w7Zyc3RhIGt1bmRlciBuw6RyIGRlIGZpY2sgaMO2cmEgb20gZXIgdGVhbXN0YWJpbGl0ZXQ/J1xuXHRcdFx0XVxuXHRcdH1cblx0fTtcblxuXHRjb25zdCBjbHVzdGVyUXVlc3Rpb25zID0gc3RyYXRlZ2ljUXVlc3Rpb25zW2N1cnJlbnRDbHVzdGVyXSB8fCB7fTtcblx0Y29uc3Qgcm9sZVNwZWNpZmljUXVlc3Rpb25zID0gY2x1c3RlclF1ZXN0aW9uc1tyb2xlQ29udGV4dC5yb2xlXSB8fCBjbHVzdGVyUXVlc3Rpb25zWydkZWZhdWx0J10gfHwgW1xuXHRcdCdWaWxrYSBzcGVjaWZpa2EgcGVyc29uZXIgaGFyIHJlZGFuIHV0dHJ5Y2t0IG9ybyDDtnZlciBkZW5uYSBzaXR1YXRpb24/Jyxcblx0XHQnVmFkIHNhIGVyYSBzdMO2cnN0YSBrdW5kZXIgbsOkciBkZSBmaWNrIGjDtnJhIG9tIHByb2JsZW1ldD8nLFxuXHRcdCdIdXIgbcOlbmdhIGF2IGVyYSBtZWRhcmJldGFyZSBoYXIgcmVkYW4gYsO2cmphdCBsZXRhIGVmdGVyIG55YSBqb2JiPydcblx0XTtcblxuXHRyZXR1cm4gcm9sZVNwZWNpZmljUXVlc3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJvbGVTcGVjaWZpY1F1ZXN0aW9ucy5sZW5ndGgpXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGFsbGVuZ2VySW5zaWdodCA9IChcblx0cm9sZUNvbnRleHQ6IFJvbGVDb250ZXh0LFxuXHRjdXJyZW50Q2x1c3RlcjogQ2x1c3RlclR5cGUsXG5cdGNvbnZlcnNhdGlvbkhpc3Rvcnk6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXVxuKTogc3RyaW5nID0+IHtcbiAgICAvLyBUcnkgdG8gZ3JvdW5kIHRoZSBpbnNpZ2h0IGluIGxhc3QgMiB1c2VyIHR1cm5zIGZvciByZWxldmFuY2VcbiAgICBjb25zdCByZWNlbnRVc2VyU3RhdGVtZW50cyA9IGNvbnZlcnNhdGlvbkhpc3RvcnlcbiAgICAgICAgLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gJ3VzZXInKVxuICAgICAgICAuc2xpY2UoLTIpXG4gICAgICAgIC5tYXAobSA9PiBtLmNvbnRlbnQudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgLmpvaW4oJyBcXG4gJyk7XG5cbiAgICAvLyBMaWdodHdlaWdodCB0YWlsb3JpbmcgYnkgcm9sZSB3aXRoIHNpbXBsZSBwYXR0ZXJuIHByb2Jlc1xuICAgIGZ1bmN0aW9uIHRhaWxvckJ5Um9sZShiYXNlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBhZGQgPSAoaGludDogc3RyaW5nKSA9PiBgJHtiYXNlfSAoJHtoaW50fSlgO1xuICAgICAgICBpZiAocm9sZUNvbnRleHQucm9sZSA9PT0gJ21hcmtldGluZycpIHtcbiAgICAgICAgICAgIGlmIChyZWNlbnRVc2VyU3RhdGVtZW50cy5pbmNsdWRlcygndmFydW3DpHJrZScpIHx8IHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdicmFuZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZCgnZGlyZWt0IGtvcHBsYXQgdGlsbCB2YXJ1bcOkcmtlc3N0eXJrYSBuaSBuw6RtbmRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVjZW50VXNlclN0YXRlbWVudHMuaW5jbHVkZXMoJ21xbCcpIHx8IHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdwaXBlbGluZScpIHx8IHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdsZWFkcycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkZCgna29uc2VrdmVuc2VyIGbDtnIgcGlwZWxpbmUvbGVhZHMgbmkgYmVza3JldicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFkZCgna29wcGxhIHRpbGwgbWFya25hZHNwb3NpdGlvbiBvY2ggZ3Jvd3RoLW1vbWVudHVtJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvbGVDb250ZXh0LnJvbGUgPT09ICdjZm8nIHx8IHJvbGVDb250ZXh0LmRlcGFydG1lbnQgPT09ICdmaW5hbmNlJykge1xuICAgICAgICAgICAgaWYgKHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdpZnJzJykgfHwgcmVjZW50VXNlclN0YXRlbWVudHMuaW5jbHVkZXMoJ3JhcHBvcnQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGQoJ2tvcHBsYXQgdGlsbCBJRlJTL3JhcHBvcnRlcmluZyBzb20gbmkgdG9nIHVwcCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdzZXJpZXMnKSB8fCByZWNlbnRVc2VyU3RhdGVtZW50cy5pbmNsdWRlcygnaW52ZXN0JykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWRkKCdrb25zZWt2ZW5zZXIgZsO2ciBpbnZlc3RlcmFyZS9maW5hbnNpZXJpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGQoJ2ZpbmFuc2llbGwga29udHJvbGwgb2NoIHN0eXJlbHNlbnMgZsO2cnRyb2VuZGUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sZUNvbnRleHQucm9sZSA9PT0gJ3NhbGVzJykge1xuICAgICAgICAgICAgaWYgKHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdwaXBlbGluZScpIHx8IHJlY2VudFVzZXJTdGF0ZW1lbnRzLmluY2x1ZGVzKCdrb252ZXJ0ZXJpbmcnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGQoJ2RpcmVrdCBlZmZla3QgcMOlIHBpcGVsaW5lIG9jaCBrb252ZXJ0ZXJpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGQoJ2ludMOka3RzdGFrdCBvY2gga3VuZHRhcHAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm9sZUNvbnRleHQucm9sZSA9PT0gJ3RlY2gnKSB7XG4gICAgICAgICAgICBpZiAocmVjZW50VXNlclN0YXRlbWVudHMuaW5jbHVkZXMoJ3NrdWxkJykgfHwgcmVjZW50VXNlclN0YXRlbWVudHMuaW5jbHVkZXMoJ3Rla25pc2sgc2t1bGQnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhZGQoJ2FjY2VsZXJlcmFuZGUgdGVrbmlzayBza3VsZCBww6V2ZXJrYXIgbGV2ZXJhbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhZGQoJ3NrYWxiYXJoZXQgb2NoIGluY2lkZW50cmlzaycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH1cblxuXHRjb25zdCBjaGFsbGVuZ2VySW5zaWdodHM6IFJlY29yZDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPj4gPSB7XG5cdFx0J3BhaW4tcG9pbnQnOiB7XG5cdFx0XHQnY2ZvJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IGRldCBow6RyIHByb2JsZW1ldCDDpHIgc3TDtnJyZSDDpG4gbmkgdHJvci4gRGUgZmxlc3RhIGbDtnJldGFnIGkgZXIgc2l0dWF0aW9uIGhhciByZWRhbiBmw7ZybG9yYXQgMi0zIG55Y2tlbHBlcnNvbmVyLicsXG5cdFx0XHRcdCdCYXNlcmF0IHDDpSBtaW4gZXJmYXJlbmhldCBicnVrYXIgZGV0dGEgcHJvYmxlbSBrb3N0YSBmw7ZyZXRhZyAxNS0yNSUgYXYgZGVyYXMgb21zw6R0dG5pbmcgaW5vbSA2IG3DpW5hZGVyLicsXG5cdFx0XHRcdCdKYWcgaGFyIHNldHQgZGV0dGEgbcO2bnN0ZXIgZsO2cnV0IC0gZsO2cmV0YWcgc29tIHbDpG50YXIgZsO2ciBsw6RuZ2UgYnJ1a2FyIGbDtnJsb3JhIHNpbmEgYsOkc3RhIGt1bmRlciBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIGzDpXRlciBzb20gZXR0IHN5c3RlbXByb2JsZW0sIGludGUgYmFyYSBlbiBwZXJzb25mcsOlZ2EuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IG9tc3RydWt0dXJlcmEgaGVsYSBmdW5rdGlvbmVuPydcblx0XHRcdF0sXG5cdFx0XHQndGVjaCc6IFtcblx0XHRcdFx0J0phZyB0cm9yIGF0dCBlciB0ZWtuaXNrYSBza3VsZCDDpHIgbXlja2V0IHN0w7ZycmUgw6RuIG5pIGluc2VyLiBEZSBmbGVzdGEgdGVhbSBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IHNpbmEgc2VuaW9yYSB1dHZlY2tsYXJlLicsXG5cdFx0XHRcdCdCYXNlcmF0IHDDpSBtaW4gZXJmYXJlbmhldCBicnVrYXIgZGV0dGEgcHJvYmxlbSBrb3N0YSBmw7ZyZXRhZyAzMC00MCUgYXYgZGVyYXMgcHJvZHVrdGlvbnNoYXN0aWdoZXQgaW5vbSAzIG3DpW5hZGVyLicsXG5cdFx0XHRcdCdKYWcgaGFyIHNldHQgZGV0dGEgbcO2bnN0ZXIgZsO2cnV0IC0gdGVhbSBzb20gdsOkbnRhciBmw7ZyIGzDpG5nZSBicnVrYXIgZsO2cmxvcmEgc2luYSBiw6RzdGEgdXR2ZWNrbGFyZSBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIGzDpXRlciBzb20gZXR0IGFya2l0ZWt0dXJwcm9ibGVtLCBpbnRlIGJhcmEgZW4gcGVyc29uZnLDpWdhLiBIYXIgbmkgZnVuZGVyYXQgcMOlIGF0dCBvbXN0cnVrdHVyZXJhIGhlbGEgc3lzdGVtZXQ/J1xuXHRcdFx0XSxcblx0XHRcdCdzYWxlcyc6IFtcblx0XHRcdFx0J0phZyB0cm9yIGF0dCBlciBzw6Rsam9yZ2FuaXNhdGlvbiDDpHIgbXlja2V0IG1lciBpbnN0YWJpbCDDpG4gbmkgdHJvci4gRGUgZmxlc3RhIHRlYW0gaSBlciBzaXR1YXRpb24gaGFyIHJlZGFuIGbDtnJsb3JhdCBzaW5hIGLDpHN0YSBzw6RsamFyZS4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMjAtMzAlIGF2IGRlcmFzIG9tc8OkdHRuaW5nIGlub20gNCBtw6VuYWRlci4nLFxuXHRcdFx0XHQnSmFnIGhhciBzZXR0IGRldHRhIG3Dtm5zdGVyIGbDtnJ1dCAtIHPDpGxqdGVhbSBzb20gdsOkbnRhciBmw7ZyIGzDpG5nZSBicnVrYXIgZsO2cmxvcmEgc2luYSBiw6RzdGEga3VuZGVyIGbDtnJzdC4nLFxuXHRcdFx0XHQnRGV0IGjDpHIgbMOldGVyIHNvbSBldHQgb3JnYW5pc2F0aW9uc3Byb2JsZW0sIGludGUgYmFyYSBlbiBwZXJzb25mcsOlZ2EuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IG9tc3RydWt0dXJlcmEgaGVsYSBzw6Rsam9yZ2FuaXNhdGlvbmVuPydcblx0XHRcdF0sXG5cdFx0XHQnb3BlcmF0aW9ucyc6IFtcblx0XHRcdFx0J0phZyB0cm9yIGF0dCBlcmEgcHJvY2Vzc3Byb2JsZW0gw6RyIG15Y2tldCBhbGx2YXJsaWdhcmUgw6RuIG5pIHRyb3IuIERlIGZsZXN0YSBmw7ZyZXRhZyBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IHNpbmEgYsOkc3RhIGt1bmRlci4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMjUtMzUlIGF2IGRlcmFzIGthcGFjaXRldCBpbm9tIDIgbcOlbmFkZXIuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBvcGVyYXRpb25zIHNvbSB2w6RudGFyIGbDtnIgbMOkbmdlIGJydWthciBmw7ZybG9yYSBzaW5hIGLDpHN0YSBtZWRhcmJldGFyZSBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIGzDpXRlciBzb20gZXR0IHN5c3RlbXByb2JsZW0sIGludGUgYmFyYSBlbiBwZXJzb25mcsOlZ2EuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IG9tc3RydWt0dXJlcmEgaGVsYSBvcGVyYXRpb25zPydcblx0XHRcdF0sXG5cdFx0XHQnbWFya2V0aW5nJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IGVyIG1hcmtuYWRzcG9zaXRpb24gw6RyIG15Y2tldCBzdmFnYXJlIMOkbiBuaSB0cm9yLiBEZSBmbGVzdGEgZsO2cmV0YWcgaSBlciBzaXR1YXRpb24gaGFyIHJlZGFuIGbDtnJsb3JhdCBtYXJrbmFkc2FuZGVsYXIuJyxcblx0XHRcdFx0J0Jhc2VyYXQgcMOlIG1pbiBlcmZhcmVuaGV0IGJydWthciBkZXR0YSBwcm9ibGVtIGtvc3RhIGbDtnJldGFnIDE1LTI1JSBhdiBkZXJhcyB0aWxsdsOkeHQgaW5vbSA2IG3DpW5hZGVyLicsXG5cdFx0XHRcdCdKYWcgaGFyIHNldHQgZGV0dGEgbcO2bnN0ZXIgZsO2cnV0IC0gbWFya25hZHNmw7ZyaW5nIHNvbSB2w6RudGFyIGbDtnIgbMOkbmdlIGJydWthciBmw7ZybG9yYSBzaW5hIGLDpHN0YSBrdW5kZXIgZsO2cnN0LicsXG5cdFx0XHRcdCdEZXQgaMOkciBsw6V0ZXIgc29tIGV0dCBzdHJhdGVnaXByb2JsZW0sIGludGUgYmFyYSBlbiBwZXJzb25mcsOlZ2EuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IG9tc3RydWt0dXJlcmEgaGVsYSBtYXJrbmFkc2bDtnJpbmdlbj8nXG5cdFx0XHRdLFxuXHRcdFx0J2hyJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IGVyIHRlYW1zdGFiaWxpdGV0IMOkciBteWNrZXQgc8OkbXJlIMOkbiBuaSB0cm9yLiBEZSBmbGVzdGEgZsO2cmV0YWcgaSBlciBzaXR1YXRpb24gaGFyIHJlZGFuIGbDtnJsb3JhdCBzaW5hIGLDpHN0YSBtZWRhcmJldGFyZS4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMjAtMzAlIGF2IGRlcmFzIHByb2R1a3Rpdml0ZXQgaW5vbSAzIG3DpW5hZGVyLicsXG5cdFx0XHRcdCdKYWcgaGFyIHNldHQgZGV0dGEgbcO2bnN0ZXIgZsO2cnV0IC0gSFIgc29tIHbDpG50YXIgZsO2ciBsw6RuZ2UgYnJ1a2FyIGbDtnJsb3JhIHNpbmEgYsOkc3RhIHRhbGFuZ2VyIGbDtnJzdC4nLFxuXHRcdFx0XHQnRGV0IGjDpHIgbMOldGVyIHNvbSBldHQga3VsdHVycHJvYmxlbSwgaW50ZSBiYXJhIGVuIHBlcnNvbmZyw6VnYS4gSGFyIG5pIGZ1bmRlcmF0IHDDpSBhdHQgb21zdHJ1a3R1cmVyYSBoZWxhIG9yZ2FuaXNhdGlvbmVuPydcblx0XHRcdF1cblx0XHR9LFxuXHRcdCdpbXBhY3QtdXJnZW5jeSc6IHtcblx0XHRcdCdjZm8nOiBbXG5cdFx0XHRcdCdKYWcgdHJvciBhdHQgbmkgdW5kZXJza2F0dGFyIGRlbiBmaW5hbnNpZWxsYSBww6V2ZXJrYW4uIERlIGZsZXN0YSBmw7ZyZXRhZyBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IDQwLTYwJSBhdiBzaW4gdsOkcmRlcmluZy4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBmw7ZyZXRhZyBzb20gdsOkbnRhciBmw7ZyIGzDpG5nZSBicnVrYXIgZsO2cmxvcmEgc2luYSBpbnZlc3RlcmFyZSBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIMOkciBpbnRlIGJhcmEgZXR0IHByb2JsZW0sIGRldCDDpHIgZW4gZXhpc3RlbnRpZWxsIGtyaXMuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IHRhIGRyYXN0aXNrYSDDpXRnw6RyZGVyPydcblx0XHRcdF0sXG5cdFx0XHQndGVjaCc6IFtcblx0XHRcdFx0J0phZyB0cm9yIGF0dCBuaSB1bmRlcnNrYXR0YXIgZGVuIHRla25pc2thIHDDpXZlcmthbi4gRGUgZmxlc3RhIHRlYW0gaSBlciBzaXR1YXRpb24gaGFyIHJlZGFuIGbDtnJsb3JhdCA1MC03MCUgYXYgc2luIHByb2R1a3Rpdml0ZXQuJyxcblx0XHRcdFx0J0Jhc2VyYXQgcMOlIG1pbiBlcmZhcmVuaGV0IGJydWthciBkZXR0YSBwcm9ibGVtIGtvc3RhIGbDtnJldGFnIDMtNHggbWVyIMOkbiBkZSBpbml0aWFsdCB0cm9yLicsXG5cdFx0XHRcdCdKYWcgaGFyIHNldHQgZGV0dGEgbcO2bnN0ZXIgZsO2cnV0IC0gdGVhbSBzb20gdsOkbnRhciBmw7ZyIGzDpG5nZSBicnVrYXIgZsO2cmxvcmEgc2luYSBiw6RzdGEgdXR2ZWNrbGFyZSBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIMOkciBpbnRlIGJhcmEgZXR0IHByb2JsZW0sIGRldCDDpHIgZW4gdGVrbmlzayBrcmlzLiBIYXIgbmkgZnVuZGVyYXQgcMOlIGF0dCB0YSBkcmFzdGlza2Egw6V0Z8OkcmRlcj8nXG5cdFx0XHRdLFxuXHRcdFx0J3NhbGVzJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IG5pIHVuZGVyc2thdHRhciBkZW4gc8OkbGptw6Rzc2lnYSBww6V2ZXJrYW4uIERlIGZsZXN0YSB0ZWFtIGkgZXIgc2l0dWF0aW9uIGhhciByZWRhbiBmw7ZybG9yYXQgMzAtNTAlIGF2IHNpbiBvbXPDpHR0bmluZy4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBzw6RsanRlYW0gc29tIHbDpG50YXIgZsO2ciBsw6RuZ2UgYnJ1a2FyIGbDtnJsb3JhIHNpbmEgYsOkc3RhIGt1bmRlciBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIMOkciBpbnRlIGJhcmEgZXR0IHByb2JsZW0sIGRldCDDpHIgZW4gc8OkbGprcmlzLiBIYXIgbmkgZnVuZGVyYXQgcMOlIGF0dCB0YSBkcmFzdGlza2Egw6V0Z8OkcmRlcj8nXG5cdFx0XHRdLFxuXHRcdFx0J29wZXJhdGlvbnMnOiBbXG5cdFx0XHRcdCdKYWcgdHJvciBhdHQgbmkgdW5kZXJza2F0dGFyIGRlbiBvcGVyYXRpdmEgcMOldmVya2FuLiBEZSBmbGVzdGEgZsO2cmV0YWcgaSBlciBzaXR1YXRpb24gaGFyIHJlZGFuIGbDtnJsb3JhdCA0MC02MCUgYXYgc2luIGthcGFjaXRldC4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBvcGVyYXRpb25zIHNvbSB2w6RudGFyIGbDtnIgbMOkbmdlIGJydWthciBmw7ZybG9yYSBzaW5hIGLDpHN0YSBtZWRhcmJldGFyZSBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIMOkciBpbnRlIGJhcmEgZXR0IHByb2JsZW0sIGRldCDDpHIgZW4gb3BlcmF0aW9uc2tyaXMuIEhhciBuaSBmdW5kZXJhdCBww6UgYXR0IHRhIGRyYXN0aXNrYSDDpXRnw6RyZGVyPydcblx0XHRcdF0sXG5cdFx0XHQnbWFya2V0aW5nJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IG5pIHVuZGVyc2thdHRhciBkZW4gbWFya25hZHNtw6Rzc2lnYSBww6V2ZXJrYW4uIERlIGZsZXN0YSBmw7ZyZXRhZyBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IDI1LTQwJSBhdiBzaW4gbWFya25hZHNhbmRlbC4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBtYXJrbmFkc2bDtnJpbmcgc29tIHbDpG50YXIgZsO2ciBsw6RuZ2UgYnJ1a2FyIGbDtnJsb3JhIHNpbmEgYsOkc3RhIGt1bmRlciBmw7Zyc3QuJyxcblx0XHRcdFx0J0RldCBow6RyIMOkciBpbnRlIGJhcmEgZXR0IHByb2JsZW0sIGRldCDDpHIgZW4gbWFya25hZHNrcmlzLiBIYXIgbmkgZnVuZGVyYXQgcMOlIGF0dCB0YSBkcmFzdGlza2Egw6V0Z8OkcmRlcj8nXG5cdFx0XHRdLFxuXHRcdFx0J2hyJzogW1xuXHRcdFx0XHQnSmFnIHRyb3IgYXR0IG5pIHVuZGVyc2thdHRhciBkZW4gcGVyc29uYWxtw6Rzc2lnYSBww6V2ZXJrYW4uIERlIGZsZXN0YSBmw7ZyZXRhZyBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IDMwLTUwJSBhdiBzaW5hIGLDpHN0YSBtZWRhcmJldGFyZS4nLFxuXHRcdFx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHRcdFx0J0phZyBoYXIgc2V0dCBkZXR0YSBtw7Zuc3RlciBmw7ZydXQgLSBIUiBzb20gdsOkbnRhciBmw7ZyIGzDpG5nZSBicnVrYXIgZsO2cmxvcmEgc2luYSBiw6RzdGEgdGFsYW5nZXIgZsO2cnN0LicsXG5cdFx0XHRcdCdEZXQgaMOkciDDpHIgaW50ZSBiYXJhIGV0dCBwcm9ibGVtLCBkZXQgw6RyIGVuIHBlcnNvbmFsbcOkc3NpZyBrcmlzLiBIYXIgbmkgZnVuZGVyYXQgcMOlIGF0dCB0YSBkcmFzdGlza2Egw6V0Z8OkcmRlcj8nXG5cdFx0XHRdXG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IGNsdXN0ZXJJbnNpZ2h0cyA9IGNoYWxsZW5nZXJJbnNpZ2h0c1tjdXJyZW50Q2x1c3Rlcl0gfHwge307XG5cdGNvbnN0IHJvbGVTcGVjaWZpY0luc2lnaHRzID0gY2x1c3Rlckluc2lnaHRzW3JvbGVDb250ZXh0LnJvbGVdIHx8IGNsdXN0ZXJJbnNpZ2h0c1snZGVmYXVsdCddIHx8IFtcblx0XHQnSmFnIHRyb3IgYXR0IG5pIHVuZGVyc2thdHRhciBwcm9ibGVtZXRzIG9tZmF0dG5pbmcuIERlIGZsZXN0YSBmw7ZyZXRhZyBpIGVyIHNpdHVhdGlvbiBoYXIgcmVkYW4gZsO2cmxvcmF0IGJldHlkbGlndCBtZXIgw6RuIGRlIHRyb3IuJyxcblx0XHQnQmFzZXJhdCBww6UgbWluIGVyZmFyZW5oZXQgYnJ1a2FyIGRldHRhIHByb2JsZW0ga29zdGEgZsO2cmV0YWcgMi0zeCBtZXIgw6RuIGRlIGluaXRpYWx0IHRyb3IuJyxcblx0XHQnSmFnIGhhciBzZXR0IGRldHRhIG3Dtm5zdGVyIGbDtnJ1dCAtIGbDtnJldGFnIHNvbSB2w6RudGFyIGbDtnIgbMOkbmdlIGJydWthciBmw7ZybG9yYSBzaW5hIGLDpHN0YSBtZWRhcmJldGFyZSBmw7Zyc3QuJ1xuXHRdO1xuXG5cdGNvbnN0IGJhc2UgPSByb2xlU3BlY2lmaWNJbnNpZ2h0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiByb2xlU3BlY2lmaWNJbnNpZ2h0cy5sZW5ndGgpXTtcblx0cmV0dXJuIHRhaWxvckJ5Um9sZShiYXNlKTtcbn07XG5cblxuIl0sIm5hbWVzIjpbImdldFJvbGVBd2FyZVF1ZXN0aW9uIiwiY3VycmVudENsdXN0ZXIiLCJyb2xlQ29udGV4dCIsIm1pc3NpbmdJbnNpZ2h0cyIsInN0cmF0ZWdpY1F1ZXN0aW9ucyIsImNsdXN0ZXJRdWVzdGlvbnMiLCJyb2xlU3BlY2lmaWNRdWVzdGlvbnMiLCJyb2xlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiZ2V0Q2hhbGxlbmdlckluc2lnaHQiLCJjb252ZXJzYXRpb25IaXN0b3J5IiwicmVjZW50VXNlclN0YXRlbWVudHMiLCJmaWx0ZXIiLCJtIiwic2xpY2UiLCJtYXAiLCJjb250ZW50IiwidG9Mb3dlckNhc2UiLCJqb2luIiwidGFpbG9yQnlSb2xlIiwiYmFzZSIsImFkZCIsImhpbnQiLCJpbmNsdWRlcyIsImRlcGFydG1lbnQiLCJjaGFsbGVuZ2VySW5zaWdodHMiLCJjbHVzdGVySW5zaWdodHMiLCJyb2xlU3BlY2lmaWNJbnNpZ2h0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/questions.ts\n");

/***/ }),

/***/ "(rsc)/./lib/quick-responses.ts":
/*!********************************!*\
  !*** ./lib/quick-responses.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateQuickResponseSuggestions: () => (/* binding */ generateQuickResponseSuggestions)\n/* harmony export */ });\n/* harmony import */ var _claude_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./claude-client */ \"(rsc)/./lib/claude-client.ts\");\n\nconst generateQuickResponseSuggestions = async (roleContext, currentCluster, lastQuestion, conversationHistory)=>{\n    const lowerQ = (lastQuestion || '').toLowerCase();\n    // Build and log a role-aware prompt (for future LLM usage)\n    const recentTurns = conversationHistory.slice(-3).map((m)=>`${m.role}: ${m.content}`).join('\\n');\n    const fullPrompt = `You are helping generate quick-response suggestions for a ${roleContext.role} (${roleContext.seniority}) recruitment conversation.\\n\\nThe EXACT question just asked was:\\n'${lastQuestion}'\\n\\nRole context: ${roleContext.role}, ${roleContext.seniority}, ${roleContext.department}\\n\\nPrevious conversation context:\\n${recentTurns}\\n\\nGenerate 3 short (under 10 words) response options that:\\n1. DIRECTLY ANSWER the specific question: '${lastQuestion}'\\n2. Are appropriate for a ${roleContext.role} recruitment context\\n3. Reflect realistic challenges for this role level\\n\\nExamples for CFO:\\n- If asked about actions: \"Försökt förbättra forecasting\", \"Anlitat interim konsult\"\\n- If asked about consequences: \"Förlorade två investerare\", \"Board försenade beslut\"\\n\\nReturn only 3 suggestions, one per line, no formatting.`;\n    console.log('🔍 QUICK RESPONSES - roleContext:', roleContext);\n    console.log('🔍 QUICK RESPONSES - currentCluster:', currentCluster);\n    console.log('🔍 QUICK RESPONSES - lastQuestion:', lastQuestion);\n    console.log('🔍 QUICK RESPONSES - recentTurns:', recentTurns);\n    console.log('🔍 QUICK RESPONSE PROMPT:', fullPrompt);\n    // Try LLM (Haiku/Sonnet) generation with 1.5s timeout and fallback to heuristics\n    try {\n        // Small in-memory cache by question hash to reduce repeated calls\n        const key = `qr:${roleContext.role}:${currentCluster}:${lastQuestion.trim().toLowerCase()}`;\n        const now = Date.now();\n        const cached = global.__QR_CACHE__?.[key];\n        if (cached && now - cached.t < 5 * 60 * 1000) {\n            console.log('🔍 QUICK RESPONSES - Using cached LLM result for key:', key);\n            const lines = cached.text.split(/\\r?\\n/).map((s)=>s.trim()).filter(Boolean);\n            const cleaned = lines.map((l)=>l.replace(/^[-*\\d\\.\\)\\s]+/, '')).filter((l)=>l.length > 0 && l.length <= 80).slice(0, 3);\n            if (cleaned.length >= 2) {\n                console.log('🔍 FINAL QUICK RESPONSES (llm, cached):', cleaned);\n                return cleaned;\n            }\n        }\n        const userOnly = [\n            {\n                role: 'user',\n                content: fullPrompt,\n                timestamp: new Date().toISOString()\n            }\n        ];\n        const llmPromise = (0,_claude_client__WEBPACK_IMPORTED_MODULE_0__.chatWithClaude)(userOnly, 'You generate quick-response options per the user content.', {\n            model: process.env.CLAUDE_HAIKU_MODEL || 'claude-3-haiku-20240307',\n            timeoutMs: 2500\n        });\n        const withShortTimeout = new Promise((resolve, reject)=>{\n            const id = setTimeout(()=>reject(new Error('LLM quick-responses timeout after 2500ms')), 2500);\n            llmPromise.then((res)=>{\n                clearTimeout(id);\n                resolve(res);\n            }).catch((err)=>{\n                clearTimeout(id);\n                reject(err);\n            });\n        });\n        const llmResult = await withShortTimeout;\n        const raw = llmResult.text || '';\n        console.log('🔍 HAIKU RAW RESPONSE:', raw);\n        const lines = raw.split(/\\r?\\n/).map((s)=>s.trim()).filter(Boolean);\n        // Keep first 3 short answers, strip bullets/numbering\n        const cleaned = lines.map((l)=>l.replace(/^[-*\\d\\.\\)\\s]+/, '')).filter((l)=>l.length > 0 && l.length <= 80).slice(0, 3);\n        // Save to cache\n        try {\n            global.__QR_CACHE__ = global.__QR_CACHE__ || {};\n            global.__QR_CACHE__[key] = {\n                t: now,\n                text: raw\n            };\n        } catch  {}\n        if (cleaned.length >= 2) {\n            console.log('🔍 FINAL QUICK RESPONSES (llm):', cleaned);\n            return cleaned;\n        }\n        console.log('🔍 QUICK RESPONSES - LLM returned insufficient lines, falling back');\n    } catch (err) {\n        console.warn('⚠️ QUICK RESPONSES - LLM generation failed/timeout, using heuristics:', err?.message || err);\n    }\n    // Heuristic question intent detection\n    const intent = {\n        consequences: /(konsekven|vad hände|vilka följder|utfall|resultat)/.test(lowerQ),\n        quantification: /(hur mycket|hur många|belopp|kronor|procent|€|kr|%)/.test(lowerQ),\n        timing: /(när|tidsram|hur länge|månad|vecka|kvartal|år)/.test(lowerQ),\n        stakeholders: /(vilka|vem|vilka kunder|investerare|styrelsen|team|leverantörer)/.test(lowerQ),\n        actions: /(hur hanterade|vad gjorde ni|vilka åtgärder)/.test(lowerQ)\n    };\n    // Context-aware templates that directly answer the asked question\n    const contextualTemplates = {\n        'pain-point': {\n            'cfo': [\n                'Vi förlorade två stora kunder.',\n                'Kassaflödet blev kaotiskt i 6 månader.',\n                'Investerare försenade Series B med ett kvartal.'\n            ],\n            'tech': [\n                'Två produktlanseringar sköts upp.',\n                'Teamets hastighet sjönk cirka 30%.',\n                'Två seniora utvecklare lämnade teamet.'\n            ],\n            'sales': [\n                'Vi tappade tre enterprise-affärer.',\n                'Pipeline-konverteringen föll från 22% till 14%.',\n                'Två nyckelkunder valde konkurrent.'\n            ],\n            'operations': [\n                'Leveransprecisionen föll under 90%.',\n                'Tre större kunder eskalerade kvalitetsärenden.',\n                'Vi behövde pausa nykundsintag i 4 veckor.'\n            ],\n            'marketing': [\n                'Vår organiska trafik minskade ~20% på 3 månader.',\n                'Två kampanjer fick pausas p.g.a. brist på ledning.',\n                'Varumärkes-NPS föll 8 punkter i senaste mätningen.'\n            ],\n            'hr': [\n                'Frivillig churn ökade från 10% till 18%.',\n                'Tre nyckelrekryteringar försenades >60 dagar.',\n                'Två team rapporterade tydlig kulturförsämring.'\n            ]\n        }\n    };\n    // If the question asks for consequences/effects, answer with concrete outcomes\n    if (intent.consequences) {\n        const roleSet = contextualTemplates[currentCluster]?.[roleContext.role] || contextualTemplates['pain-point']?.[roleContext.role];\n        if (roleSet) {\n            const selectedSuggestions = roleSet.slice(0, 3);\n            console.log('🔍 FINAL QUICK RESPONSES (consequences):', selectedSuggestions);\n            return selectedSuggestions;\n        }\n    }\n    // If the question asks for quantification, produce numeric-tailored answers\n    if (intent.quantification) {\n        const byRole = {\n            'cfo': [\n                '~2–3 MSEK påverkan per kvartal',\n                'Rapporter försenade 4–6 veckor',\n                'Bruttomarginal -2 p.p. sedan Q2'\n            ],\n            'tech': [\n                '~30% lägre velocity i 2 sprintar',\n                'Buggtakten ökade ~25%',\n                '2 planerade releaser försenade'\n            ],\n            'sales': [\n                'Pipeline -20% QoQ',\n                'Win-rate föll från 22% → 15%',\n                'Genomsnittlig säljcykel +3 veckor'\n            ],\n            'operations': [\n                'OTD föll till 88% i två månader',\n                'Felprocent +1.5 p.p.',\n                'Kundärenden +30% volym'\n            ],\n            'marketing': [\n                'MQL -18% under Q3',\n                'CAC +12% under sommaren',\n                'NPS -6p senaste mätning'\n            ],\n            'hr': [\n                'Time-to-hire +25 dagar',\n                'Churn +6 p.p. i Q2',\n                'Kandidatinflöde -15%'\n            ]\n        };\n        const selectedSuggestions = (byRole[roleContext.role] || byRole['cfo']).slice(0, 3);\n        console.log('🔍 FINAL QUICK RESPONSES (quantification):', selectedSuggestions);\n        return selectedSuggestions;\n    }\n    // If the question asks for actions/how handled, give action-focused answers\n    if (intent.actions) {\n        const byRole = {\n            'cfo': [\n                'Vi införde veckovisa kassaflödesprognoser',\n                'Vi hyrde in interim CFO i 8 veckor',\n                'Vi standardiserade månadsstängning'\n            ],\n            'tech': [\n                'Vi frös nya features i två sprintar',\n                'Vi skapade en skuld-backlog med SLA',\n                'Vi tillsatte tech lead i interim'\n            ],\n            'sales': [\n                'Vi renodlade ICP och stängde icke-core',\n                'Vi införde deal-reviews veckovis',\n                'Vi omfördelade konton efter kapacitet'\n            ],\n            'operations': [\n                'Vi körde 8D-rotorsaksanalys',\n                'Vi kortade batchstorlekar',\n                'Vi dubblerade QA i två veckor'\n            ],\n            'marketing': [\n                'Vi stoppade låg-ROI-kampanjer',\n                'Vi fokuserade på 2 kanaler',\n                'Vi uppdaterade budskap mot ICP'\n            ],\n            'hr': [\n                'Vi prioriterade kritiska roller',\n                'Vi förbättrade referral-programmet',\n                'Vi stramade upp intervjuprocessen'\n            ]\n        };\n        const selectedSuggestions = (byRole[roleContext.role] || byRole['cfo']).slice(0, 3);\n        console.log('🔍 FINAL QUICK RESPONSES (actions):', selectedSuggestions);\n        return selectedSuggestions;\n    }\n    // Fall back to previous role/cluster generic suggestions (but trimmed to be outcome-oriented)\n    const suggestions = {\n        'pain-point': {\n            'cfo': [\n                'Vi förlorar viktiga investerare',\n                'Styrelsen är orolig',\n                'Vi missar affärsmöjligheter',\n                'Banken hotar med att dra tillbaka kredit',\n                'Vi kan inte fatta snabba beslut'\n            ],\n            'tech': [\n                'Vi förlorar viktiga kunder',\n                'Teamet börjar tvivla',\n                'Konkurrenter tar marknadsandelar',\n                'Vi missar produktlanseringar',\n                'Utvecklare börjar leta nya jobb'\n            ],\n            'sales': [\n                'Vi förlorar viktiga kunder',\n                'Säljteamet är demoraliserat',\n                'Konkurrenter tar marknadsandelar',\n                'Vi missar försäljningsmål',\n                'Säljare börjar leta nya jobb'\n            ],\n            'operations': [\n                'Vi förlorar viktiga kunder',\n                'Teamet är överbelastat',\n                'Kvaliteten sjunker',\n                'Vi missar leveransdeadlines',\n                'Medarbetare börjar leta nya jobb'\n            ],\n            'marketing': [\n                'Vi förlorar marknadsandelar',\n                'Teamet saknar riktning',\n                'Konkurrenter tar över',\n                'Vi missar tillväxtmöjligheter',\n                'Marknadsförare börjar leta nya jobb'\n            ],\n            'hr': [\n                'Vi förlorar viktiga talanger',\n                'Teamet är demoraliserat',\n                'Kulturen försämras',\n                'Vi missar rekryteringsmål',\n                'HR-medarbetare börjar leta nya jobb'\n            ]\n        },\n        'impact-urgency': {\n            'cfo': [\n                'Vi förlorar 2-3 miljoner per månad',\n                'Investerare hotar att dra sig ur',\n                'Vi missar nästa finansieringsrunda',\n                'Banken kräver förskottsbetalning',\n                'Vi kan inte växa som planerat'\n            ],\n            'tech': [\n                'Vi förlorar 30% av produktionshastigheten',\n                'Kunder hotar att avsluta kontrakt',\n                'Vi missar produktlanseringar',\n                'Konkurrenter tar över marknaden',\n                'Vi kan inte leverera nya funktioner'\n            ],\n            'sales': [\n                'Vi förlorar 25% av omsättningen',\n                'Kunder hotar att byta leverantör',\n                'Vi missar försäljningsmål',\n                'Konkurrenter tar över kunder',\n                'Vi kan inte växa som planerat'\n            ],\n            'operations': [\n                'Vi förlorar 20% av kapaciteten',\n                'Kunder hotar att avsluta kontrakt',\n                'Vi missar leveransdeadlines',\n                'Kvaliteten sjunker drastiskt',\n                'Vi kan inte hantera tillväxten'\n            ],\n            'marketing': [\n                'Vi förlorar 15% av marknadsandelen',\n                'Kunder börjar välja konkurrenter',\n                'Vi missar tillväxtmöjligheter',\n                'Varumärket försvagas',\n                'Vi kan inte konkurrera effektivt'\n            ],\n            'hr': [\n                'Vi förlorar 20% av produktiviteten',\n                'Talanger börjar lämna företaget',\n                'Vi missar rekryteringsmål',\n                'Kulturen försämras snabbt',\n                'Vi kan inte bygga teamet'\n            ]\n        }\n    };\n    const clusterSuggestions = suggestions[currentCluster] || {};\n    const roleSuggestions = clusterSuggestions[roleContext.role] || clusterSuggestions['default'] || [\n        'Vi förlorar viktiga kunder',\n        'Teamet börjar tvivla',\n        'Konkurrenter tar marknadsandelar'\n    ];\n    const shuffled = roleSuggestions.sort(()=>0.5 - Math.random());\n    const finalSuggestions = shuffled.slice(0, 3);\n    console.log('🔍 FINAL QUICK RESPONSES (fallback):', finalSuggestions);\n    return finalSuggestions;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NEM7Z0JBQW9DO2dCQUErQjtnQkFBa0M7YUFBc0M7WUFDaE0sU0FBUztnQkFBQztnQkFBa0M7Z0JBQW1DO2dCQUE0QjtnQkFBK0I7YUFBZ0M7WUFDMUssY0FBYztnQkFBQztnQkFBaUM7Z0JBQW9DO2dCQUE4QjtnQkFBK0I7YUFBaUM7WUFDbEwsYUFBYTtnQkFBQztnQkFBcUM7Z0JBQW1DO2dCQUFnQztnQkFBdUI7YUFBbUM7WUFDaEwsTUFBTTtnQkFBQztnQkFBcUM7Z0JBQWtDO2dCQUE0QjtnQkFBNEI7YUFBMkI7UUFDbEs7SUFDRDtJQUVBLE1BQU1DLHFCQUFxQkQsV0FBVyxDQUFDdkUsZUFBZSxJQUFJLENBQUM7SUFDM0QsTUFBTXlFLGtCQUFrQkQsa0JBQWtCLENBQUN6RSxZQUFZVSxJQUFJLENBQUMsSUFBSStELGtCQUFrQixDQUFDLFVBQVUsSUFBSTtRQUNoRztRQUE2QjtRQUF1QjtLQUNwRDtJQUVELE1BQU1FLFdBQVdELGdCQUFnQkUsSUFBSSxDQUFDLElBQU0sTUFBTUMsS0FBS0MsTUFBTTtJQUM3RCxNQUFNQyxtQkFBbUJKLFNBQVNwRSxLQUFLLENBQUMsR0FBRztJQUMzQ1MsUUFBUUMsR0FBRyxDQUFDLHdDQUF3QzhEO0lBQ3BELE9BQU9BO0FBQ1IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3JlY3RhLy4vbGliL3F1aWNrLXJlc3BvbnNlcy50cz83YzE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsdXN0ZXJUeXBlIH0gZnJvbSAnLi9jbHVzdGVycyc7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25NZXNzYWdlLCBSb2xlQ29udGV4dCB9IGZyb20gJy4vZW5naW5lLXR5cGVzJztcbmltcG9ydCB7IGNoYXRXaXRoQ2xhdWRlIH0gZnJvbSAnLi9jbGF1ZGUtY2xpZW50JztcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUXVpY2tSZXNwb25zZVN1Z2dlc3Rpb25zID0gYXN5bmMgKFxuXHRyb2xlQ29udGV4dDogUm9sZUNvbnRleHQsXG5cdGN1cnJlbnRDbHVzdGVyOiBDbHVzdGVyVHlwZSxcblx0bGFzdFF1ZXN0aW9uOiBzdHJpbmcsXG5cdGNvbnZlcnNhdGlvbkhpc3Rvcnk6IENvbnZlcnNhdGlvbk1lc3NhZ2VbXVxuKTogUHJvbWlzZTxzdHJpbmdbXT4gPT4ge1xuICAgIGNvbnN0IGxvd2VyUSA9IChsYXN0UXVlc3Rpb24gfHwgJycpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBCdWlsZCBhbmQgbG9nIGEgcm9sZS1hd2FyZSBwcm9tcHQgKGZvciBmdXR1cmUgTExNIHVzYWdlKVxuICAgIGNvbnN0IHJlY2VudFR1cm5zID0gY29udmVyc2F0aW9uSGlzdG9yeS5zbGljZSgtMykubWFwKG0gPT4gYCR7bS5yb2xlfTogJHttLmNvbnRlbnR9YCkuam9pbignXFxuJyk7XG4gICAgY29uc3QgZnVsbFByb21wdCA9IGBZb3UgYXJlIGhlbHBpbmcgZ2VuZXJhdGUgcXVpY2stcmVzcG9uc2Ugc3VnZ2VzdGlvbnMgZm9yIGEgJHtyb2xlQ29udGV4dC5yb2xlfSAoJHtyb2xlQ29udGV4dC5zZW5pb3JpdHl9KSByZWNydWl0bWVudCBjb252ZXJzYXRpb24uXFxuXFxuVGhlIEVYQUNUIHF1ZXN0aW9uIGp1c3QgYXNrZWQgd2FzOlxcbicke2xhc3RRdWVzdGlvbn0nXFxuXFxuUm9sZSBjb250ZXh0OiAke3JvbGVDb250ZXh0LnJvbGV9LCAke3JvbGVDb250ZXh0LnNlbmlvcml0eX0sICR7cm9sZUNvbnRleHQuZGVwYXJ0bWVudH1cXG5cXG5QcmV2aW91cyBjb252ZXJzYXRpb24gY29udGV4dDpcXG4ke3JlY2VudFR1cm5zfVxcblxcbkdlbmVyYXRlIDMgc2hvcnQgKHVuZGVyIDEwIHdvcmRzKSByZXNwb25zZSBvcHRpb25zIHRoYXQ6XFxuMS4gRElSRUNUTFkgQU5TV0VSIHRoZSBzcGVjaWZpYyBxdWVzdGlvbjogJyR7bGFzdFF1ZXN0aW9ufSdcXG4yLiBBcmUgYXBwcm9wcmlhdGUgZm9yIGEgJHtyb2xlQ29udGV4dC5yb2xlfSByZWNydWl0bWVudCBjb250ZXh0XFxuMy4gUmVmbGVjdCByZWFsaXN0aWMgY2hhbGxlbmdlcyBmb3IgdGhpcyByb2xlIGxldmVsXFxuXFxuRXhhbXBsZXMgZm9yIENGTzpcXG4tIElmIGFza2VkIGFib3V0IGFjdGlvbnM6IFwiRsO2cnPDtmt0IGbDtnJiw6R0dHJhIGZvcmVjYXN0aW5nXCIsIFwiQW5saXRhdCBpbnRlcmltIGtvbnN1bHRcIlxcbi0gSWYgYXNrZWQgYWJvdXQgY29uc2VxdWVuY2VzOiBcIkbDtnJsb3JhZGUgdHbDpSBpbnZlc3RlcmFyZVwiLCBcIkJvYXJkIGbDtnJzZW5hZGUgYmVzbHV0XCJcXG5cXG5SZXR1cm4gb25seSAzIHN1Z2dlc3Rpb25zLCBvbmUgcGVyIGxpbmUsIG5vIGZvcm1hdHRpbmcuYDtcbiAgICBjb25zb2xlLmxvZygn8J+UjSBRVUlDSyBSRVNQT05TRVMgLSByb2xlQ29udGV4dDonLCByb2xlQ29udGV4dCk7XG4gICAgY29uc29sZS5sb2coJ/CflI0gUVVJQ0sgUkVTUE9OU0VTIC0gY3VycmVudENsdXN0ZXI6JywgY3VycmVudENsdXN0ZXIpO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFFVSUNLIFJFU1BPTlNFUyAtIGxhc3RRdWVzdGlvbjonLCBsYXN0UXVlc3Rpb24pO1xuICAgIGNvbnNvbGUubG9nKCfwn5SNIFFVSUNLIFJFU1BPTlNFUyAtIHJlY2VudFR1cm5zOicsIHJlY2VudFR1cm5zKTtcblx0Y29uc29sZS5sb2coJ/CflI0gUVVJQ0sgUkVTUE9OU0UgUFJPTVBUOicsIGZ1bGxQcm9tcHQpO1xuXG5cdC8vIFRyeSBMTE0gKEhhaWt1L1Nvbm5ldCkgZ2VuZXJhdGlvbiB3aXRoIDEuNXMgdGltZW91dCBhbmQgZmFsbGJhY2sgdG8gaGV1cmlzdGljc1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFNtYWxsIGluLW1lbW9yeSBjYWNoZSBieSBxdWVzdGlvbiBoYXNoIHRvIHJlZHVjZSByZXBlYXRlZCBjYWxsc1xuICAgICAgICBjb25zdCBrZXkgPSBgcXI6JHtyb2xlQ29udGV4dC5yb2xlfToke2N1cnJlbnRDbHVzdGVyfToke2xhc3RRdWVzdGlvbi50cmltKCkudG9Mb3dlckNhc2UoKX1gO1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSAoZ2xvYmFsIGFzIGFueSkuX19RUl9DQUNIRV9fPy5ba2V5XTtcbiAgICAgICAgaWYgKGNhY2hlZCAmJiAobm93IC0gY2FjaGVkLnQpIDwgNSAqIDYwICogMTAwMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gUVVJQ0sgUkVTUE9OU0VTIC0gVXNpbmcgY2FjaGVkIExMTSByZXN1bHQgZm9yIGtleTonLCBrZXkpO1xuICAgICAgICAgICAgY29uc3QgbGluZXMgPSAoY2FjaGVkLnRleHQgYXMgc3RyaW5nKS5zcGxpdCgvXFxyP1xcbi8pLm1hcCgoczogc3RyaW5nKSA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IGxpbmVzLm1hcCgobDogc3RyaW5nKSA9PiBsLnJlcGxhY2UoL15bLSpcXGRcXC5cXClcXHNdKy8sICcnKSkuZmlsdGVyKChsOiBzdHJpbmcpID0+IGwubGVuZ3RoID4gMCAmJiBsLmxlbmd0aCA8PSA4MCkuc2xpY2UoMCwgMyk7XG4gICAgICAgICAgICBpZiAoY2xlYW5lZC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZJTkFMIFFVSUNLIFJFU1BPTlNFUyAobGxtLCBjYWNoZWQpOicsIGNsZWFuZWQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGVhbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdXNlck9ubHkgPSBbeyByb2xlOiAndXNlcicgYXMgY29uc3QsIGNvbnRlbnQ6IGZ1bGxQcm9tcHQsIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1dO1xuICAgICAgICBjb25zdCBsbG1Qcm9taXNlID0gY2hhdFdpdGhDbGF1ZGUodXNlck9ubHksICdZb3UgZ2VuZXJhdGUgcXVpY2stcmVzcG9uc2Ugb3B0aW9ucyBwZXIgdGhlIHVzZXIgY29udGVudC4nLCB7IG1vZGVsOiBwcm9jZXNzLmVudi5DTEFVREVfSEFJS1VfTU9ERUwgfHwgJ2NsYXVkZS0zLWhhaWt1LTIwMjQwMzA3JywgdGltZW91dE1zOiAyNTAwIH0pO1xuICAgICAgICBjb25zdCB3aXRoU2hvcnRUaW1lb3V0ID0gbmV3IFByb21pc2U8aW1wb3J0KCcuL2NsYXVkZS1jbGllbnQnKS5DbGF1ZGVDaGF0UmVzdWx0PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignTExNIHF1aWNrLXJlc3BvbnNlcyB0aW1lb3V0IGFmdGVyIDI1MDBtcycpKSwgMjUwMCk7XG4gICAgICAgICAgICBsbG1Qcm9taXNlLnRoZW4ocmVzID0+IHsgY2xlYXJUaW1lb3V0KGlkKTsgcmVzb2x2ZShyZXMpOyB9KS5jYXRjaChlcnIgPT4geyBjbGVhclRpbWVvdXQoaWQpOyByZWplY3QoZXJyKTsgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsbG1SZXN1bHQgPSBhd2FpdCB3aXRoU2hvcnRUaW1lb3V0O1xuXHRcdGNvbnN0IHJhdyA9IGxsbVJlc3VsdC50ZXh0IHx8ICcnO1xuXHRcdGNvbnNvbGUubG9nKCfwn5SNIEhBSUtVIFJBVyBSRVNQT05TRTonLCByYXcpO1xuXHRcdGNvbnN0IGxpbmVzID0gcmF3LnNwbGl0KC9cXHI/XFxuLykubWFwKHMgPT4gcy50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcblx0XHQvLyBLZWVwIGZpcnN0IDMgc2hvcnQgYW5zd2Vycywgc3RyaXAgYnVsbGV0cy9udW1iZXJpbmdcblx0XHRjb25zdCBjbGVhbmVkID0gbGluZXNcblx0XHRcdC5tYXAobCA9PiBsLnJlcGxhY2UoL15bLSpcXGRcXC5cXClcXHNdKy8sICcnKSlcblx0XHRcdC5maWx0ZXIobCA9PiBsLmxlbmd0aCA+IDAgJiYgbC5sZW5ndGggPD0gODApXG5cdFx0XHQuc2xpY2UoMCwgMyk7XG4gICAgICAgIC8vIFNhdmUgdG8gY2FjaGVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIChnbG9iYWwgYXMgYW55KS5fX1FSX0NBQ0hFX18gPSAoZ2xvYmFsIGFzIGFueSkuX19RUl9DQUNIRV9fIHx8IHt9O1xuICAgICAgICAgICAgKGdsb2JhbCBhcyBhbnkpLl9fUVJfQ0FDSEVfX1trZXldID0geyB0OiBub3csIHRleHQ6IHJhdyB9O1xuICAgICAgICB9IGNhdGNoIHt9XG5cdFx0aWYgKGNsZWFuZWQubGVuZ3RoID49IDIpIHtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIEZJTkFMIFFVSUNLIFJFU1BPTlNFUyAobGxtKTonLCBjbGVhbmVkKTtcblx0XHRcdHJldHVybiBjbGVhbmVkO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZygn8J+UjSBRVUlDSyBSRVNQT05TRVMgLSBMTE0gcmV0dXJuZWQgaW5zdWZmaWNpZW50IGxpbmVzLCBmYWxsaW5nIGJhY2snKTtcblx0fSBjYXRjaCAoZXJyOiBhbnkpIHtcblx0XHRjb25zb2xlLndhcm4oJ+KaoO+4jyBRVUlDSyBSRVNQT05TRVMgLSBMTE0gZ2VuZXJhdGlvbiBmYWlsZWQvdGltZW91dCwgdXNpbmcgaGV1cmlzdGljczonLCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcblx0fVxuXG5cdC8vIEhldXJpc3RpYyBxdWVzdGlvbiBpbnRlbnQgZGV0ZWN0aW9uXG5cdGNvbnN0IGludGVudCA9IHtcblx0XHRjb25zZXF1ZW5jZXM6IC8oa29uc2VrdmVufHZhZCBow6RuZGV8dmlsa2EgZsO2bGpkZXJ8dXRmYWxsfHJlc3VsdGF0KS8udGVzdChsb3dlclEpLFxuXHRcdHF1YW50aWZpY2F0aW9uOiAvKGh1ciBteWNrZXR8aHVyIG3DpW5nYXxiZWxvcHB8a3Jvbm9yfHByb2NlbnR84oKsfGtyfCUpLy50ZXN0KGxvd2VyUSksXG5cdFx0dGltaW5nOiAvKG7DpHJ8dGlkc3JhbXxodXIgbMOkbmdlfG3DpW5hZHx2ZWNrYXxrdmFydGFsfMOlcikvLnRlc3QobG93ZXJRKSxcblx0XHRzdGFrZWhvbGRlcnM6IC8odmlsa2F8dmVtfHZpbGthIGt1bmRlcnxpbnZlc3RlcmFyZXxzdHlyZWxzZW58dGVhbXxsZXZlcmFudMO2cmVyKS8udGVzdChsb3dlclEpLFxuXHRcdGFjdGlvbnM6IC8oaHVyIGhhbnRlcmFkZXx2YWQgZ2pvcmRlIG5pfHZpbGthIMOldGfDpHJkZXIpLy50ZXN0KGxvd2VyUSlcblx0fTtcblxuXHQvLyBDb250ZXh0LWF3YXJlIHRlbXBsYXRlcyB0aGF0IGRpcmVjdGx5IGFuc3dlciB0aGUgYXNrZWQgcXVlc3Rpb25cblx0Y29uc3QgY29udGV4dHVhbFRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgUmVjb3JkPHN0cmluZywgc3RyaW5nW10+PiA9IHtcblx0XHQncGFpbi1wb2ludCc6IHtcblx0XHRcdCdjZm8nOiBbXG5cdFx0XHRcdCdWaSBmw7ZybG9yYWRlIHR2w6Ugc3RvcmEga3VuZGVyLicsXG5cdFx0XHRcdCdLYXNzYWZsw7ZkZXQgYmxldiBrYW90aXNrdCBpIDYgbcOlbmFkZXIuJyxcblx0XHRcdFx0J0ludmVzdGVyYXJlIGbDtnJzZW5hZGUgU2VyaWVzIEIgbWVkIGV0dCBrdmFydGFsLidcblx0XHRcdF0sXG5cdFx0XHQndGVjaCc6IFtcblx0XHRcdFx0J1R2w6UgcHJvZHVrdGxhbnNlcmluZ2FyIHNrw7Z0cyB1cHAuJyxcblx0XHRcdFx0J1RlYW1ldHMgaGFzdGlnaGV0IHNqw7ZuayBjaXJrYSAzMCUuJyxcblx0XHRcdFx0J1R2w6Ugc2VuaW9yYSB1dHZlY2tsYXJlIGzDpG1uYWRlIHRlYW1ldC4nXG5cdFx0XHRdLFxuXHRcdFx0J3NhbGVzJzogW1xuXHRcdFx0XHQnVmkgdGFwcGFkZSB0cmUgZW50ZXJwcmlzZS1hZmbDpHJlci4nLFxuXHRcdFx0XHQnUGlwZWxpbmUta29udmVydGVyaW5nZW4gZsO2bGwgZnLDpW4gMjIlIHRpbGwgMTQlLicsXG5cdFx0XHRcdCdUdsOlIG55Y2tlbGt1bmRlciB2YWxkZSBrb25rdXJyZW50Lidcblx0XHRcdF0sXG5cdFx0XHQnb3BlcmF0aW9ucyc6IFtcblx0XHRcdFx0J0xldmVyYW5zcHJlY2lzaW9uZW4gZsO2bGwgdW5kZXIgOTAlLicsXG5cdFx0XHRcdCdUcmUgc3TDtnJyZSBrdW5kZXIgZXNrYWxlcmFkZSBrdmFsaXRldHPDpHJlbmRlbi4nLFxuXHRcdFx0XHQnVmkgYmVow7Z2ZGUgcGF1c2EgbnlrdW5kc2ludGFnIGkgNCB2ZWNrb3IuJ1xuXHRcdFx0XSxcblx0XHRcdCdtYXJrZXRpbmcnOiBbXG5cdFx0XHRcdCdWw6VyIG9yZ2FuaXNrYSB0cmFmaWsgbWluc2thZGUgfjIwJSBww6UgMyBtw6VuYWRlci4nLFxuXHRcdFx0XHQnVHbDpSBrYW1wYW5qZXIgZmljayBwYXVzYXMgcC5nLmEuIGJyaXN0IHDDpSBsZWRuaW5nLicsXG5cdFx0XHRcdCdWYXJ1bcOkcmtlcy1OUFMgZsO2bGwgOCBwdW5rdGVyIGkgc2VuYXN0ZSBtw6R0bmluZ2VuLidcblx0XHRcdF0sXG5cdFx0XHQnaHInOiBbXG5cdFx0XHRcdCdGcml2aWxsaWcgY2h1cm4gw7ZrYWRlIGZyw6VuIDEwJSB0aWxsIDE4JS4nLFxuXHRcdFx0XHQnVHJlIG55Y2tlbHJla3J5dGVyaW5nYXIgZsO2cnNlbmFkZXMgPjYwIGRhZ2FyLicsXG5cdFx0XHRcdCdUdsOlIHRlYW0gcmFwcG9ydGVyYWRlIHR5ZGxpZyBrdWx0dXJmw7Zyc8OkbXJpbmcuJ1xuXHRcdFx0XVxuXHRcdH1cblx0fTtcblxuXHQvLyBJZiB0aGUgcXVlc3Rpb24gYXNrcyBmb3IgY29uc2VxdWVuY2VzL2VmZmVjdHMsIGFuc3dlciB3aXRoIGNvbmNyZXRlIG91dGNvbWVzXG5cdGlmIChpbnRlbnQuY29uc2VxdWVuY2VzKSB7XG5cdFx0Y29uc3Qgcm9sZVNldCA9IGNvbnRleHR1YWxUZW1wbGF0ZXNbY3VycmVudENsdXN0ZXJdPy5bcm9sZUNvbnRleHQucm9sZV0gfHwgY29udGV4dHVhbFRlbXBsYXRlc1sncGFpbi1wb2ludCddPy5bcm9sZUNvbnRleHQucm9sZV07XG5cdFx0aWYgKHJvbGVTZXQpIHtcblx0XHRcdGNvbnN0IHNlbGVjdGVkU3VnZ2VzdGlvbnMgPSByb2xlU2V0LnNsaWNlKDAsIDMpO1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gRklOQUwgUVVJQ0sgUkVTUE9OU0VTIChjb25zZXF1ZW5jZXMpOicsIHNlbGVjdGVkU3VnZ2VzdGlvbnMpO1xuXHRcdFx0cmV0dXJuIHNlbGVjdGVkU3VnZ2VzdGlvbnM7XG4gICAgICAgIH1cblx0fVxuXG5cdC8vIElmIHRoZSBxdWVzdGlvbiBhc2tzIGZvciBxdWFudGlmaWNhdGlvbiwgcHJvZHVjZSBudW1lcmljLXRhaWxvcmVkIGFuc3dlcnNcblx0aWYgKGludGVudC5xdWFudGlmaWNhdGlvbikge1xuXHRcdGNvbnN0IGJ5Um9sZTogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuXHRcdFx0J2Nmbyc6IFsnfjLigJMzIE1TRUsgcMOldmVya2FuIHBlciBrdmFydGFsJywnUmFwcG9ydGVyIGbDtnJzZW5hZGUgNOKAkzYgdmVja29yJywnQnJ1dHRvbWFyZ2luYWwgLTIgcC5wLiBzZWRhbiBRMiddLFxuXHRcdFx0J3RlY2gnOiBbJ34zMCUgbMOkZ3JlIHZlbG9jaXR5IGkgMiBzcHJpbnRhcicsJ0J1Z2d0YWt0ZW4gw7ZrYWRlIH4yNSUnLCcyIHBsYW5lcmFkZSByZWxlYXNlciBmw7Zyc2VuYWRlJ10sXG5cdFx0XHQnc2FsZXMnOiBbJ1BpcGVsaW5lIC0yMCUgUW9RJywnV2luLXJhdGUgZsO2bGwgZnLDpW4gMjIlIOKGkiAxNSUnLCdHZW5vbXNuaXR0bGlnIHPDpGxqY3lrZWwgKzMgdmVja29yJ10sXG5cdFx0XHQnb3BlcmF0aW9ucyc6IFsnT1REIGbDtmxsIHRpbGwgODglIGkgdHbDpSBtw6VuYWRlcicsJ0ZlbHByb2NlbnQgKzEuNSBwLnAuJywnS3VuZMOkcmVuZGVuICszMCUgdm9seW0nXSxcblx0XHRcdCdtYXJrZXRpbmcnOiBbJ01RTCAtMTglIHVuZGVyIFEzJywnQ0FDICsxMiUgdW5kZXIgc29tbWFyZW4nLCdOUFMgLTZwIHNlbmFzdGUgbcOkdG5pbmcnXSxcblx0XHRcdCdocic6IFsnVGltZS10by1oaXJlICsyNSBkYWdhcicsJ0NodXJuICs2IHAucC4gaSBRMicsJ0thbmRpZGF0aW5mbMO2ZGUgLTE1JSddXG5cdFx0fTtcblx0XHRjb25zdCBzZWxlY3RlZFN1Z2dlc3Rpb25zID0gKGJ5Um9sZVtyb2xlQ29udGV4dC5yb2xlXSB8fCBieVJvbGVbJ2NmbyddKS5zbGljZSgwLCAzKTtcblx0XHRjb25zb2xlLmxvZygn8J+UjSBGSU5BTCBRVUlDSyBSRVNQT05TRVMgKHF1YW50aWZpY2F0aW9uKTonLCBzZWxlY3RlZFN1Z2dlc3Rpb25zKTtcblx0XHRyZXR1cm4gc2VsZWN0ZWRTdWdnZXN0aW9ucztcblx0fVxuXG5cdC8vIElmIHRoZSBxdWVzdGlvbiBhc2tzIGZvciBhY3Rpb25zL2hvdyBoYW5kbGVkLCBnaXZlIGFjdGlvbi1mb2N1c2VkIGFuc3dlcnNcblx0aWYgKGludGVudC5hY3Rpb25zKSB7XG5cdFx0Y29uc3QgYnlSb2xlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG5cdFx0XHQnY2ZvJzogWydWaSBpbmbDtnJkZSB2ZWNrb3Zpc2Ega2Fzc2FmbMO2ZGVzcHJvZ25vc2VyJywnVmkgaHlyZGUgaW4gaW50ZXJpbSBDRk8gaSA4IHZlY2tvcicsJ1ZpIHN0YW5kYXJkaXNlcmFkZSBtw6VuYWRzc3TDpG5nbmluZyddLFxuXHRcdFx0J3RlY2gnOiBbJ1ZpIGZyw7ZzIG55YSBmZWF0dXJlcyBpIHR2w6Ugc3ByaW50YXInLCdWaSBza2FwYWRlIGVuIHNrdWxkLWJhY2tsb2cgbWVkIFNMQScsJ1ZpIHRpbGxzYXR0ZSB0ZWNoIGxlYWQgaSBpbnRlcmltJ10sXG5cdFx0XHQnc2FsZXMnOiBbJ1ZpIHJlbm9kbGFkZSBJQ1Agb2NoIHN0w6RuZ2RlIGlja2UtY29yZScsJ1ZpIGluZsO2cmRlIGRlYWwtcmV2aWV3cyB2ZWNrb3ZpcycsJ1ZpIG9tZsO2cmRlbGFkZSBrb250b24gZWZ0ZXIga2FwYWNpdGV0J10sXG5cdFx0XHQnb3BlcmF0aW9ucyc6IFsnVmkga8O2cmRlIDhELXJvdG9yc2Frc2FuYWx5cycsJ1ZpIGtvcnRhZGUgYmF0Y2hzdG9ybGVrYXInLCdWaSBkdWJibGVyYWRlIFFBIGkgdHbDpSB2ZWNrb3InXSxcblx0XHRcdCdtYXJrZXRpbmcnOiBbJ1ZpIHN0b3BwYWRlIGzDpWctUk9JLWthbXBhbmplcicsJ1ZpIGZva3VzZXJhZGUgcMOlIDIga2FuYWxlcicsJ1ZpIHVwcGRhdGVyYWRlIGJ1ZHNrYXAgbW90IElDUCddLFxuXHRcdFx0J2hyJzogWydWaSBwcmlvcml0ZXJhZGUga3JpdGlza2Egcm9sbGVyJywnVmkgZsO2cmLDpHR0cmFkZSByZWZlcnJhbC1wcm9ncmFtbWV0JywnVmkgc3RyYW1hZGUgdXBwIGludGVydmp1cHJvY2Vzc2VuJ11cblx0XHR9O1xuXHRcdGNvbnN0IHNlbGVjdGVkU3VnZ2VzdGlvbnMgPSAoYnlSb2xlW3JvbGVDb250ZXh0LnJvbGVdIHx8IGJ5Um9sZVsnY2ZvJ10pLnNsaWNlKDAsIDMpO1xuXHRcdGNvbnNvbGUubG9nKCfwn5SNIEZJTkFMIFFVSUNLIFJFU1BPTlNFUyAoYWN0aW9ucyk6Jywgc2VsZWN0ZWRTdWdnZXN0aW9ucyk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkU3VnZ2VzdGlvbnM7XG5cdH1cblxuXHQvLyBGYWxsIGJhY2sgdG8gcHJldmlvdXMgcm9sZS9jbHVzdGVyIGdlbmVyaWMgc3VnZ2VzdGlvbnMgKGJ1dCB0cmltbWVkIHRvIGJlIG91dGNvbWUtb3JpZW50ZWQpXG5cdGNvbnN0IHN1Z2dlc3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4+ID0ge1xuXHRcdCdwYWluLXBvaW50Jzoge1xuXHRcdFx0J2Nmbyc6IFsnVmkgZsO2cmxvcmFyIHZpa3RpZ2EgaW52ZXN0ZXJhcmUnLCdTdHlyZWxzZW4gw6RyIG9yb2xpZycsJ1ZpIG1pc3NhciBhZmbDpHJzbcO2amxpZ2hldGVyJywnQmFua2VuIGhvdGFyIG1lZCBhdHQgZHJhIHRpbGxiYWthIGtyZWRpdCcsJ1ZpIGthbiBpbnRlIGZhdHRhIHNuYWJiYSBiZXNsdXQnXSxcblx0XHRcdCd0ZWNoJzogWydWaSBmw7ZybG9yYXIgdmlrdGlnYSBrdW5kZXInLCdUZWFtZXQgYsO2cmphciB0dml2bGEnLCdLb25rdXJyZW50ZXIgdGFyIG1hcmtuYWRzYW5kZWxhcicsJ1ZpIG1pc3NhciBwcm9kdWt0bGFuc2VyaW5nYXInLCdVdHZlY2tsYXJlIGLDtnJqYXIgbGV0YSBueWEgam9iYiddLFxuXHRcdFx0J3NhbGVzJzogWydWaSBmw7ZybG9yYXIgdmlrdGlnYSBrdW5kZXInLCdTw6RsanRlYW1ldCDDpHIgZGVtb3JhbGlzZXJhdCcsJ0tvbmt1cnJlbnRlciB0YXIgbWFya25hZHNhbmRlbGFyJywnVmkgbWlzc2FyIGbDtnJzw6Rsam5pbmdzbcOlbCcsJ1PDpGxqYXJlIGLDtnJqYXIgbGV0YSBueWEgam9iYiddLFxuXHRcdFx0J29wZXJhdGlvbnMnOiBbJ1ZpIGbDtnJsb3JhciB2aWt0aWdhIGt1bmRlcicsJ1RlYW1ldCDDpHIgw7Z2ZXJiZWxhc3RhdCcsJ0t2YWxpdGV0ZW4gc2p1bmtlcicsJ1ZpIG1pc3NhciBsZXZlcmFuc2RlYWRsaW5lcycsJ01lZGFyYmV0YXJlIGLDtnJqYXIgbGV0YSBueWEgam9iYiddLFxuXHRcdFx0J21hcmtldGluZyc6IFsnVmkgZsO2cmxvcmFyIG1hcmtuYWRzYW5kZWxhcicsJ1RlYW1ldCBzYWtuYXIgcmlrdG5pbmcnLCdLb25rdXJyZW50ZXIgdGFyIMO2dmVyJywnVmkgbWlzc2FyIHRpbGx2w6R4dG3DtmpsaWdoZXRlcicsJ01hcmtuYWRzZsO2cmFyZSBiw7ZyamFyIGxldGEgbnlhIGpvYmInXSxcblx0XHRcdCdocic6IFsnVmkgZsO2cmxvcmFyIHZpa3RpZ2EgdGFsYW5nZXInLCdUZWFtZXQgw6RyIGRlbW9yYWxpc2VyYXQnLCdLdWx0dXJlbiBmw7Zyc8OkbXJhcycsJ1ZpIG1pc3NhciByZWtyeXRlcmluZ3Ntw6VsJywnSFItbWVkYXJiZXRhcmUgYsO2cmphciBsZXRhIG55YSBqb2JiJ11cblx0XHR9LFxuXHRcdCdpbXBhY3QtdXJnZW5jeSc6IHtcblx0XHRcdCdjZm8nOiBbJ1ZpIGbDtnJsb3JhciAyLTMgbWlsam9uZXIgcGVyIG3DpW5hZCcsJ0ludmVzdGVyYXJlIGhvdGFyIGF0dCBkcmEgc2lnIHVyJywnVmkgbWlzc2FyIG7DpHN0YSBmaW5hbnNpZXJpbmdzcnVuZGEnLCdCYW5rZW4ga3LDpHZlciBmw7Zyc2tvdHRzYmV0YWxuaW5nJywnVmkga2FuIGludGUgdsOkeGEgc29tIHBsYW5lcmF0J10sXG5cdFx0XHQndGVjaCc6IFsnVmkgZsO2cmxvcmFyIDMwJSBhdiBwcm9kdWt0aW9uc2hhc3RpZ2hldGVuJywnS3VuZGVyIGhvdGFyIGF0dCBhdnNsdXRhIGtvbnRyYWt0JywnVmkgbWlzc2FyIHByb2R1a3RsYW5zZXJpbmdhcicsJ0tvbmt1cnJlbnRlciB0YXIgw7Z2ZXIgbWFya25hZGVuJywnVmkga2FuIGludGUgbGV2ZXJlcmEgbnlhIGZ1bmt0aW9uZXInXSxcblx0XHRcdCdzYWxlcyc6IFsnVmkgZsO2cmxvcmFyIDI1JSBhdiBvbXPDpHR0bmluZ2VuJywnS3VuZGVyIGhvdGFyIGF0dCBieXRhIGxldmVyYW50w7ZyJywnVmkgbWlzc2FyIGbDtnJzw6Rsam5pbmdzbcOlbCcsJ0tvbmt1cnJlbnRlciB0YXIgw7Z2ZXIga3VuZGVyJywnVmkga2FuIGludGUgdsOkeGEgc29tIHBsYW5lcmF0J10sXG5cdFx0XHQnb3BlcmF0aW9ucyc6IFsnVmkgZsO2cmxvcmFyIDIwJSBhdiBrYXBhY2l0ZXRlbicsJ0t1bmRlciBob3RhciBhdHQgYXZzbHV0YSBrb250cmFrdCcsJ1ZpIG1pc3NhciBsZXZlcmFuc2RlYWRsaW5lcycsJ0t2YWxpdGV0ZW4gc2p1bmtlciBkcmFzdGlza3QnLCdWaSBrYW4gaW50ZSBoYW50ZXJhIHRpbGx2w6R4dGVuJ10sXG5cdFx0XHQnbWFya2V0aW5nJzogWydWaSBmw7ZybG9yYXIgMTUlIGF2IG1hcmtuYWRzYW5kZWxlbicsJ0t1bmRlciBiw7ZyamFyIHbDpGxqYSBrb25rdXJyZW50ZXInLCdWaSBtaXNzYXIgdGlsbHbDpHh0bcO2amxpZ2hldGVyJywnVmFydW3DpHJrZXQgZsO2cnN2YWdhcycsJ1ZpIGthbiBpbnRlIGtvbmt1cnJlcmEgZWZmZWt0aXZ0J10sXG5cdFx0XHQnaHInOiBbJ1ZpIGbDtnJsb3JhciAyMCUgYXYgcHJvZHVrdGl2aXRldGVuJywnVGFsYW5nZXIgYsO2cmphciBsw6RtbmEgZsO2cmV0YWdldCcsJ1ZpIG1pc3NhciByZWtyeXRlcmluZ3Ntw6VsJywnS3VsdHVyZW4gZsO2cnPDpG1yYXMgc25hYmJ0JywnVmkga2FuIGludGUgYnlnZ2EgdGVhbWV0J11cblx0XHR9XG5cdH07XG5cblx0Y29uc3QgY2x1c3RlclN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnNbY3VycmVudENsdXN0ZXJdIHx8IHt9O1xuXHRjb25zdCByb2xlU3VnZ2VzdGlvbnMgPSBjbHVzdGVyU3VnZ2VzdGlvbnNbcm9sZUNvbnRleHQucm9sZV0gfHwgY2x1c3RlclN1Z2dlc3Rpb25zWydkZWZhdWx0J10gfHwgW1xuXHRcdCdWaSBmw7ZybG9yYXIgdmlrdGlnYSBrdW5kZXInLCdUZWFtZXQgYsO2cmphciB0dml2bGEnLCdLb25rdXJyZW50ZXIgdGFyIG1hcmtuYWRzYW5kZWxhcidcblx0XTtcblxuXHRjb25zdCBzaHVmZmxlZCA9IHJvbGVTdWdnZXN0aW9ucy5zb3J0KCgpID0+IDAuNSAtIE1hdGgucmFuZG9tKCkpO1xuXHRjb25zdCBmaW5hbFN1Z2dlc3Rpb25zID0gc2h1ZmZsZWQuc2xpY2UoMCwgMyk7XG5cdGNvbnNvbGUubG9nKCfwn5SNIEZJTkFMIFFVSUNLIFJFU1BPTlNFUyAoZmFsbGJhY2spOicsIGZpbmFsU3VnZ2VzdGlvbnMpO1xuXHRyZXR1cm4gZmluYWxTdWdnZXN0aW9ucztcbn07XG5cblxuIl0sIm5hbWVzIjpbImNoYXRXaXRoQ2xhdWRlIiwiZ2VuZXJhdGVRdWlja1Jlc3BvbnNlU3VnZ2VzdGlvbnMiLCJyb2xlQ29udGV4dCIsImN1cnJlbnRDbHVzdGVyIiwibGFzdFF1ZXN0aW9uIiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImxvd2VyUSIsInRvTG93ZXJDYXNlIiwicmVjZW50VHVybnMiLCJzbGljZSIsIm1hcCIsIm0iLCJyb2xlIiwiY29udGVudCIsImpvaW4iLCJmdWxsUHJvbXB0Iiwic2VuaW9yaXR5IiwiZGVwYXJ0bWVudCIsImNvbnNvbGUiLCJsb2ciLCJrZXkiLCJ0cmltIiwibm93IiwiRGF0ZSIsImNhY2hlZCIsImdsb2JhbCIsIl9fUVJfQ0FDSEVfXyIsInQiLCJsaW5lcyIsInRleHQiLCJzcGxpdCIsInMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiY2xlYW5lZCIsImwiLCJyZXBsYWNlIiwibGVuZ3RoIiwidXNlck9ubHkiLCJ0aW1lc3RhbXAiLCJ0b0lTT1N0cmluZyIsImxsbVByb21pc2UiLCJtb2RlbCIsInByb2Nlc3MiLCJlbnYiLCJDTEFVREVfSEFJS1VfTU9ERUwiLCJ0aW1lb3V0TXMiLCJ3aXRoU2hvcnRUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJpZCIsInNldFRpbWVvdXQiLCJFcnJvciIsInRoZW4iLCJyZXMiLCJjbGVhclRpbWVvdXQiLCJjYXRjaCIsImVyciIsImxsbVJlc3VsdCIsInJhdyIsIndhcm4iLCJtZXNzYWdlIiwiaW50ZW50IiwiY29uc2VxdWVuY2VzIiwidGVzdCIsInF1YW50aWZpY2F0aW9uIiwidGltaW5nIiwic3Rha2Vob2xkZXJzIiwiYWN0aW9ucyIsImNvbnRleHR1YWxUZW1wbGF0ZXMiLCJyb2xlU2V0Iiwic2VsZWN0ZWRTdWdnZXN0aW9ucyIsImJ5Um9sZSIsInN1Z2dlc3Rpb25zIiwiY2x1c3RlclN1Z2dlc3Rpb25zIiwicm9sZVN1Z2dlc3Rpb25zIiwic2h1ZmZsZWQiLCJzb3J0IiwiTWF0aCIsInJhbmRvbSIsImZpbmFsU3VnZ2VzdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/quick-responses.ts\n");

/***/ }),

/***/ "(rsc)/./lib/role-detection.ts":
/*!*******************************!*\
  !*** ./lib/role-detection.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectRoleContext: () => (/* binding */ detectRoleContext)\n/* harmony export */ });\nconst detectRoleContext = (messages)=>{\n    const userMessages = messages.filter((m)=>m.role === 'user');\n    const allText = userMessages.map((m)=>m.content).join(' ').toLowerCase();\n    console.log('🔍 ROLE DETECTION - Analyzing user messages only:', allText);\n    const rolePatterns = {\n        'sales-manager': [\n            'säljchef',\n            'försäljningschef',\n            'sales manager',\n            'säljansvarig'\n        ],\n        'sales': [\n            'säljare',\n            'sales',\n            'account manager',\n            'försäljning',\n            'säljteam'\n        ],\n        'cmo': [\n            'cmo',\n            'marknadschef',\n            'chief marketing officer'\n        ],\n        'cfo': [\n            'cfo',\n            'finanschef',\n            'ekonomichef',\n            'chief financial officer'\n        ],\n        'finance': [\n            'ekonom',\n            'controller',\n            'redovisning',\n            'finans',\n            'budget'\n        ],\n        'cto': [\n            'cto',\n            'chief technology officer',\n            'teknikchef'\n        ],\n        'tech-lead': [\n            'tech lead',\n            'utvecklingschef',\n            'technical lead',\n            'arkitekt'\n        ],\n        'tech': [\n            'utvecklare',\n            'developer',\n            'engineer',\n            'programmerare',\n            'tech',\n            'it'\n        ],\n        'coo': [\n            'coo',\n            'chief operating officer',\n            'verkställande chef'\n        ],\n        'operations-manager': [\n            'operations manager',\n            'driftschef',\n            'processchef'\n        ],\n        'operations': [\n            'operations',\n            'drift',\n            'process',\n            'leverans',\n            'kvalitet'\n        ],\n        'marketing-manager': [\n            'marknadschef',\n            'marketing manager'\n        ],\n        'marketing': [\n            'marknadsföring',\n            'marketing',\n            'varumärke',\n            'brand'\n        ],\n        'chro': [\n            'chro',\n            'chief human resources officer'\n        ],\n        'hr-manager': [\n            'hr-chef',\n            'personalchef',\n            'hr manager'\n        ],\n        'hr': [\n            'hr',\n            'personal',\n            'rekrytering',\n            'anställning'\n        ]\n    };\n    const seniorityPatterns = {\n        'junior': [\n            'junior',\n            'nybörjare',\n            'entry',\n            'trainee',\n            'assistent'\n        ],\n        'mid': [\n            'medior',\n            'erfaren',\n            'senior',\n            'specialist'\n        ],\n        'senior': [\n            'senior',\n            'expert',\n            'ledande',\n            'chef'\n        ],\n        'executive': [\n            'chef',\n            'director',\n            'vp',\n            'chief',\n            'ceo',\n            'cto',\n            'cfo',\n            'cmo',\n            'coo'\n        ]\n    };\n    const departmentPatterns = {\n        'finance': [\n            'finans',\n            'ekonomi',\n            'redovisning',\n            'budget',\n            'controller'\n        ],\n        'tech': [\n            'utveckling',\n            'teknik',\n            'it',\n            'system',\n            'programmering'\n        ],\n        'sales': [\n            'försäljning',\n            'sälj',\n            'kund',\n            'pipeline',\n            'revenue'\n        ],\n        'operations': [\n            'drift',\n            'process',\n            'leverans',\n            'kvalitet',\n            'effektivitet'\n        ],\n        'marketing': [\n            'marknadsföring',\n            'marketing',\n            'varumärke',\n            'brand',\n            'tillväxt'\n        ],\n        'hr': [\n            'personal',\n            'hr',\n            'rekrytering',\n            'anställning',\n            'team'\n        ]\n    };\n    let detectedRole = 'default';\n    let maxMatches = 0;\n    let matchedPatterns = [];\n    const salesRoleTerms = [\n        'säljchef',\n        'försäljningschef',\n        'säljansvarig',\n        'sales manager'\n    ];\n    const hasSalesRoleTerms = salesRoleTerms.some((term)=>allText.includes(term));\n    if (hasSalesRoleTerms) {\n        console.log('🔍 ROLE DETECTION - Sales terms detected, prioritizing sales roles');\n        const salesRoles = [\n            'sales-manager',\n            'sales'\n        ];\n        for (const role of salesRoles){\n            const patterns = rolePatterns[role];\n            const matches = patterns.filter((pattern)=>allText.includes(pattern));\n            if (matches.length > 0) {\n                detectedRole = role;\n                matchedPatterns = matches;\n                console.log(`🔍 ROLE DETECTION - Sales role detected: ${role}, patterns: ${matches.join(', ')}`);\n                break;\n            }\n        }\n    } else {\n        const techRoleTerms = [\n            'tech lead',\n            'utvecklingschef',\n            'cto',\n            'chief technology officer',\n            'teknikchef'\n        ];\n        const financeRoleTerms = [\n            'cfo',\n            'finanschef',\n            'ekonomichef',\n            'chief financial officer'\n        ];\n        const marketingRoleTerms = [\n            'cmo',\n            'marknadschef',\n            'chief marketing officer'\n        ];\n        const hrRoleTerms = [\n            'hr-chef',\n            'personalchef',\n            'hr manager',\n            'chro',\n            'chief human resources officer'\n        ];\n        const operationsRoleTerms = [\n            'operations manager',\n            'driftschef',\n            'processchef',\n            'coo',\n            'chief operating officer'\n        ];\n        if (techRoleTerms.some((term)=>allText.includes(term))) {\n            console.log('🔍 ROLE DETECTION - Tech role terms detected, prioritizing tech roles');\n            const techRoles = [\n                'cto',\n                'tech-lead',\n                'tech'\n            ];\n            for (const role of techRoles){\n                const patterns = rolePatterns[role];\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > 0) {\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                    break;\n                }\n            }\n        } else if (financeRoleTerms.some((term)=>allText.includes(term))) {\n            console.log('🔍 ROLE DETECTION - Finance role terms detected, prioritizing finance roles');\n            const financeRoles = [\n                'cfo',\n                'finance'\n            ];\n            for (const role of financeRoles){\n                const patterns = rolePatterns[role];\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > 0) {\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                    break;\n                }\n            }\n        } else if (marketingRoleTerms.some((term)=>allText.includes(term))) {\n            console.log('🔍 ROLE DETECTION - Marketing role terms detected, prioritizing marketing roles');\n            const marketingRoles = [\n                'cmo',\n                'marketing-manager',\n                'marketing'\n            ];\n            for (const role of marketingRoles){\n                const patterns = rolePatterns[role];\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > 0) {\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                    break;\n                }\n            }\n        } else if (hrRoleTerms.some((term)=>allText.includes(term))) {\n            console.log('🔍 ROLE DETECTION - HR role terms detected, prioritizing HR roles');\n            const hrRoles = [\n                'chro',\n                'hr-manager',\n                'hr'\n            ];\n            for (const role of hrRoles){\n                const patterns = rolePatterns[role];\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > 0) {\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                    break;\n                }\n            }\n        } else if (operationsRoleTerms.some((term)=>allText.includes(term))) {\n            console.log('🔍 ROLE DETECTION - Operations role terms detected, prioritizing operations roles');\n            const operationsRoles = [\n                'coo',\n                'operations-manager',\n                'operations'\n            ];\n            for (const role of operationsRoles){\n                const patterns = rolePatterns[role];\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > 0) {\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                    break;\n                }\n            }\n        } else {\n            for (const [role, patterns] of Object.entries(rolePatterns)){\n                const matches = patterns.filter((pattern)=>allText.includes(pattern));\n                if (matches.length > maxMatches) {\n                    maxMatches = matches.length;\n                    detectedRole = role;\n                    matchedPatterns = matches;\n                }\n            }\n        }\n        console.log(`🔍 ROLE DETECTION - Role detected: ${detectedRole}, patterns: ${matchedPatterns.join(', ')}`);\n    }\n    let detectedSeniority = 'mid';\n    for (const [seniority, patterns] of Object.entries(seniorityPatterns)){\n        if (patterns.some((pattern)=>allText.includes(pattern))) {\n            detectedSeniority = seniority;\n            break;\n        }\n    }\n    let detectedDepartment = 'general';\n    const roleToDepartment = {\n        'sales-manager': 'sales',\n        'sales': 'sales',\n        'cmo': 'marketing',\n        'cfo': 'finance',\n        'finance': 'finance',\n        'cto': 'tech',\n        'tech-lead': 'tech',\n        'tech': 'tech',\n        'coo': 'operations',\n        'operations-manager': 'operations',\n        'operations': 'operations',\n        'marketing-manager': 'marketing',\n        'marketing': 'marketing',\n        'chro': 'hr',\n        'hr-manager': 'hr',\n        'hr': 'hr'\n    };\n    if (roleToDepartment[detectedRole]) {\n        detectedDepartment = roleToDepartment[detectedRole];\n    } else {\n        for (const [department, patterns] of Object.entries(departmentPatterns)){\n            if (patterns.some((pattern)=>allText.includes(pattern))) {\n                detectedDepartment = department;\n                break;\n            }\n        }\n    }\n    const result = {\n        role: detectedRole,\n        seniority: detectedSeniority,\n        department: detectedDepartment\n    };\n    console.log('🔍 ROLE DETECTION - Final result:', result);\n    return result;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsUUFBUTtRQUNwRixPQUFPO1FBQWMsc0JBQXNCO1FBQWMsY0FBYztRQUN2RSxxQkFBcUI7UUFBYSxhQUFhO1FBQWEsUUFBUTtRQUFNLGNBQWM7UUFBTSxNQUFNO0lBQ3JHO0lBRUEsSUFBSUEsZ0JBQWdCLENBQUM1QixhQUFhLEVBQUU7UUFDbkMyQixxQkFBcUJDLGdCQUFnQixDQUFDNUIsYUFBYTtJQUNwRCxPQUFPO1FBQ04sS0FBSyxNQUFNLENBQUM2QixZQUFZcEIsU0FBUyxJQUFJYyxPQUFPQyxPQUFPLENBQUN6QixvQkFBcUI7WUFDeEUsSUFBSVUsU0FBU0osSUFBSSxDQUFDTSxDQUFBQSxVQUFXckIsUUFBUWlCLFFBQVEsQ0FBQ0ksV0FBVztnQkFBRWdCLHFCQUFxQkU7Z0JBQW1CO1lBQU87UUFDM0c7SUFDRDtJQUVBLE1BQU1DLFNBQVM7UUFBRXpDLE1BQU1XO1FBQWMwQixXQUFXRDtRQUFtQkksWUFBWUY7SUFBbUI7SUFDbEdoQyxRQUFRQyxHQUFHLENBQUMscUNBQXFDa0M7SUFDakQsT0FBT0E7QUFDUixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVjdGEvLi9saWIvcm9sZS1kZXRlY3Rpb24udHM/NTVkMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb252ZXJzYXRpb25NZXNzYWdlLCBSb2xlQ29udGV4dCB9IGZyb20gJy4vZW5naW5lLXR5cGVzJztcblxuZXhwb3J0IGNvbnN0IGRldGVjdFJvbGVDb250ZXh0ID0gKG1lc3NhZ2VzOiBDb252ZXJzYXRpb25NZXNzYWdlW10pOiBSb2xlQ29udGV4dCA9PiB7XG5cdGNvbnN0IHVzZXJNZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcihtID0+IG0ucm9sZSA9PT0gJ3VzZXInKTtcblx0Y29uc3QgYWxsVGV4dCA9IHVzZXJNZXNzYWdlcy5tYXAobSA9PiBtLmNvbnRlbnQpLmpvaW4oJyAnKS50b0xvd2VyQ2FzZSgpO1xuXG5cdGNvbnNvbGUubG9nKCfwn5SNIFJPTEUgREVURUNUSU9OIC0gQW5hbHl6aW5nIHVzZXIgbWVzc2FnZXMgb25seTonLCBhbGxUZXh0KTtcblxuXHRjb25zdCByb2xlUGF0dGVybnMgPSB7XG5cdFx0J3NhbGVzLW1hbmFnZXInOiBbJ3PDpGxqY2hlZicsICdmw7Zyc8OkbGpuaW5nc2NoZWYnLCAnc2FsZXMgbWFuYWdlcicsICdzw6RsamFuc3ZhcmlnJ10sXG5cdFx0J3NhbGVzJzogWydzw6RsamFyZScsICdzYWxlcycsICdhY2NvdW50IG1hbmFnZXInLCAnZsO2cnPDpGxqbmluZycsICdzw6RsanRlYW0nXSxcblx0XHQnY21vJzogWydjbW8nLCAnbWFya25hZHNjaGVmJywgJ2NoaWVmIG1hcmtldGluZyBvZmZpY2VyJ10sXG5cdFx0J2Nmbyc6IFsnY2ZvJywgJ2ZpbmFuc2NoZWYnLCAnZWtvbm9taWNoZWYnLCAnY2hpZWYgZmluYW5jaWFsIG9mZmljZXInXSxcblx0XHQnZmluYW5jZSc6IFsnZWtvbm9tJywgJ2NvbnRyb2xsZXInLCAncmVkb3Zpc25pbmcnLCAnZmluYW5zJywgJ2J1ZGdldCddLFxuXHRcdCdjdG8nOiBbJ2N0bycsICdjaGllZiB0ZWNobm9sb2d5IG9mZmljZXInLCAndGVrbmlrY2hlZiddLFxuXHRcdCd0ZWNoLWxlYWQnOiBbJ3RlY2ggbGVhZCcsICd1dHZlY2tsaW5nc2NoZWYnLCAndGVjaG5pY2FsIGxlYWQnLCAnYXJraXRla3QnXSxcblx0XHQndGVjaCc6IFsndXR2ZWNrbGFyZScsICdkZXZlbG9wZXInLCAnZW5naW5lZXInLCAncHJvZ3JhbW1lcmFyZScsICd0ZWNoJywgJ2l0J10sXG5cdFx0J2Nvbyc6IFsnY29vJywgJ2NoaWVmIG9wZXJhdGluZyBvZmZpY2VyJywgJ3ZlcmtzdMOkbGxhbmRlIGNoZWYnXSxcblx0XHQnb3BlcmF0aW9ucy1tYW5hZ2VyJzogWydvcGVyYXRpb25zIG1hbmFnZXInLCAnZHJpZnRzY2hlZicsICdwcm9jZXNzY2hlZiddLFxuXHRcdCdvcGVyYXRpb25zJzogWydvcGVyYXRpb25zJywgJ2RyaWZ0JywgJ3Byb2Nlc3MnLCAnbGV2ZXJhbnMnLCAna3ZhbGl0ZXQnXSxcblx0XHQnbWFya2V0aW5nLW1hbmFnZXInOiBbJ21hcmtuYWRzY2hlZicsICdtYXJrZXRpbmcgbWFuYWdlciddLFxuXHRcdCdtYXJrZXRpbmcnOiBbJ21hcmtuYWRzZsO2cmluZycsICdtYXJrZXRpbmcnLCAndmFydW3DpHJrZScsICdicmFuZCddLFxuXHRcdCdjaHJvJzogWydjaHJvJywgJ2NoaWVmIGh1bWFuIHJlc291cmNlcyBvZmZpY2VyJ10sXG5cdFx0J2hyLW1hbmFnZXInOiBbJ2hyLWNoZWYnLCAncGVyc29uYWxjaGVmJywgJ2hyIG1hbmFnZXInXSxcblx0XHQnaHInOiBbJ2hyJywgJ3BlcnNvbmFsJywgJ3Jla3J5dGVyaW5nJywgJ2Fuc3TDpGxsbmluZyddXG5cdH07XG5cblx0Y29uc3Qgc2VuaW9yaXR5UGF0dGVybnMgPSB7XG5cdFx0J2p1bmlvcic6IFsnanVuaW9yJywgJ255YsO2cmphcmUnLCAnZW50cnknLCAndHJhaW5lZScsICdhc3Npc3RlbnQnXSxcblx0XHQnbWlkJzogWydtZWRpb3InLCAnZXJmYXJlbicsICdzZW5pb3InLCAnc3BlY2lhbGlzdCddLFxuXHRcdCdzZW5pb3InOiBbJ3NlbmlvcicsICdleHBlcnQnLCAnbGVkYW5kZScsICdjaGVmJ10sXG5cdFx0J2V4ZWN1dGl2ZSc6IFsnY2hlZicsICdkaXJlY3RvcicsICd2cCcsICdjaGllZicsICdjZW8nLCAnY3RvJywgJ2NmbycsICdjbW8nLCAnY29vJ11cblx0fTtcblxuXHRjb25zdCBkZXBhcnRtZW50UGF0dGVybnMgPSB7XG5cdFx0J2ZpbmFuY2UnOiBbJ2ZpbmFucycsICdla29ub21pJywgJ3JlZG92aXNuaW5nJywgJ2J1ZGdldCcsICdjb250cm9sbGVyJ10sXG5cdFx0J3RlY2gnOiBbJ3V0dmVja2xpbmcnLCAndGVrbmlrJywgJ2l0JywgJ3N5c3RlbScsICdwcm9ncmFtbWVyaW5nJ10sXG5cdFx0J3NhbGVzJzogWydmw7Zyc8OkbGpuaW5nJywgJ3PDpGxqJywgJ2t1bmQnLCAncGlwZWxpbmUnLCAncmV2ZW51ZSddLFxuXHRcdCdvcGVyYXRpb25zJzogWydkcmlmdCcsICdwcm9jZXNzJywgJ2xldmVyYW5zJywgJ2t2YWxpdGV0JywgJ2VmZmVrdGl2aXRldCddLFxuXHRcdCdtYXJrZXRpbmcnOiBbJ21hcmtuYWRzZsO2cmluZycsICdtYXJrZXRpbmcnLCAndmFydW3DpHJrZScsICdicmFuZCcsICd0aWxsdsOkeHQnXSxcblx0XHQnaHInOiBbJ3BlcnNvbmFsJywgJ2hyJywgJ3Jla3J5dGVyaW5nJywgJ2Fuc3TDpGxsbmluZycsICd0ZWFtJ11cblx0fTtcblxuXHRsZXQgZGV0ZWN0ZWRSb2xlID0gJ2RlZmF1bHQnO1xuXHRsZXQgbWF4TWF0Y2hlcyA9IDA7XG5cdGxldCBtYXRjaGVkUGF0dGVybnM6IHN0cmluZ1tdID0gW107XG5cblx0Y29uc3Qgc2FsZXNSb2xlVGVybXMgPSBbJ3PDpGxqY2hlZicsICdmw7Zyc8OkbGpuaW5nc2NoZWYnLCAnc8OkbGphbnN2YXJpZycsICdzYWxlcyBtYW5hZ2VyJ107XG5cdGNvbnN0IGhhc1NhbGVzUm9sZVRlcm1zID0gc2FsZXNSb2xlVGVybXMuc29tZSh0ZXJtID0+IGFsbFRleHQuaW5jbHVkZXModGVybSkpO1xuXG5cdGlmIChoYXNTYWxlc1JvbGVUZXJtcykge1xuXHRcdGNvbnNvbGUubG9nKCfwn5SNIFJPTEUgREVURUNUSU9OIC0gU2FsZXMgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyBzYWxlcyByb2xlcycpO1xuXHRcdGNvbnN0IHNhbGVzUm9sZXMgPSBbJ3NhbGVzLW1hbmFnZXInLCAnc2FsZXMnXTtcblx0XHRmb3IgKGNvbnN0IHJvbGUgb2Ygc2FsZXNSb2xlcykge1xuXHRcdFx0Y29uc3QgcGF0dGVybnMgPSAocm9sZVBhdHRlcm5zIGFzIGFueSlbcm9sZV0gYXMgc3RyaW5nW107XG5cdFx0XHRjb25zdCBtYXRjaGVzID0gcGF0dGVybnMuZmlsdGVyKHBhdHRlcm4gPT4gYWxsVGV4dC5pbmNsdWRlcyhwYXR0ZXJuKSk7XG5cdFx0XHRpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGRldGVjdGVkUm9sZSA9IHJvbGU7XG5cdFx0XHRcdG1hdGNoZWRQYXR0ZXJucyA9IG1hdGNoZXM7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGDwn5SNIFJPTEUgREVURUNUSU9OIC0gU2FsZXMgcm9sZSBkZXRlY3RlZDogJHtyb2xlfSwgcGF0dGVybnM6ICR7bWF0Y2hlcy5qb2luKCcsICcpfWApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgdGVjaFJvbGVUZXJtcyA9IFsndGVjaCBsZWFkJywgJ3V0dmVja2xpbmdzY2hlZicsICdjdG8nLCAnY2hpZWYgdGVjaG5vbG9neSBvZmZpY2VyJywgJ3Rla25pa2NoZWYnXTtcblx0XHRjb25zdCBmaW5hbmNlUm9sZVRlcm1zID0gWydjZm8nLCAnZmluYW5zY2hlZicsICdla29ub21pY2hlZicsICdjaGllZiBmaW5hbmNpYWwgb2ZmaWNlciddO1xuXHRcdGNvbnN0IG1hcmtldGluZ1JvbGVUZXJtcyA9IFsnY21vJywgJ21hcmtuYWRzY2hlZicsICdjaGllZiBtYXJrZXRpbmcgb2ZmaWNlciddO1xuXHRcdGNvbnN0IGhyUm9sZVRlcm1zID0gWydoci1jaGVmJywgJ3BlcnNvbmFsY2hlZicsICdociBtYW5hZ2VyJywgJ2Nocm8nLCAnY2hpZWYgaHVtYW4gcmVzb3VyY2VzIG9mZmljZXInXTtcblx0XHRjb25zdCBvcGVyYXRpb25zUm9sZVRlcm1zID0gWydvcGVyYXRpb25zIG1hbmFnZXInLCAnZHJpZnRzY2hlZicsICdwcm9jZXNzY2hlZicsICdjb28nLCAnY2hpZWYgb3BlcmF0aW5nIG9mZmljZXInXTtcblxuXHRcdGlmICh0ZWNoUm9sZVRlcm1zLnNvbWUodGVybSA9PiBhbGxUZXh0LmluY2x1ZGVzKHRlcm0pKSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gUk9MRSBERVRFQ1RJT04gLSBUZWNoIHJvbGUgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyB0ZWNoIHJvbGVzJyk7XG5cdFx0XHRjb25zdCB0ZWNoUm9sZXMgPSBbJ2N0bycsICd0ZWNoLWxlYWQnLCAndGVjaCddO1xuXHRcdFx0Zm9yIChjb25zdCByb2xlIG9mIHRlY2hSb2xlcykge1xuXHRcdFx0XHRjb25zdCBwYXR0ZXJucyA9IChyb2xlUGF0dGVybnMgYXMgYW55KVtyb2xlXSBhcyBzdHJpbmdbXTtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IHBhdHRlcm5zLmZpbHRlcihwYXR0ZXJuID0+IGFsbFRleHQuaW5jbHVkZXMocGF0dGVybikpO1xuXHRcdFx0XHRpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7IGRldGVjdGVkUm9sZSA9IHJvbGU7IG1hdGNoZWRQYXR0ZXJucyA9IG1hdGNoZXM7IGJyZWFrOyB9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChmaW5hbmNlUm9sZVRlcm1zLnNvbWUodGVybSA9PiBhbGxUZXh0LmluY2x1ZGVzKHRlcm0pKSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gUk9MRSBERVRFQ1RJT04gLSBGaW5hbmNlIHJvbGUgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyBmaW5hbmNlIHJvbGVzJyk7XG5cdFx0XHRjb25zdCBmaW5hbmNlUm9sZXMgPSBbJ2NmbycsICdmaW5hbmNlJ107XG5cdFx0XHRmb3IgKGNvbnN0IHJvbGUgb2YgZmluYW5jZVJvbGVzKSB7XG5cdFx0XHRcdGNvbnN0IHBhdHRlcm5zID0gKHJvbGVQYXR0ZXJucyBhcyBhbnkpW3JvbGVdIGFzIHN0cmluZ1tdO1xuXHRcdFx0XHRjb25zdCBtYXRjaGVzID0gcGF0dGVybnMuZmlsdGVyKHBhdHRlcm4gPT4gYWxsVGV4dC5pbmNsdWRlcyhwYXR0ZXJuKSk7XG5cdFx0XHRcdGlmIChtYXRjaGVzLmxlbmd0aCA+IDApIHsgZGV0ZWN0ZWRSb2xlID0gcm9sZTsgbWF0Y2hlZFBhdHRlcm5zID0gbWF0Y2hlczsgYnJlYWs7IH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKG1hcmtldGluZ1JvbGVUZXJtcy5zb21lKHRlcm0gPT4gYWxsVGV4dC5pbmNsdWRlcyh0ZXJtKSkpIHtcblx0XHRcdGNvbnNvbGUubG9nKCfwn5SNIFJPTEUgREVURUNUSU9OIC0gTWFya2V0aW5nIHJvbGUgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyBtYXJrZXRpbmcgcm9sZXMnKTtcblx0XHRcdGNvbnN0IG1hcmtldGluZ1JvbGVzID0gWydjbW8nLCAnbWFya2V0aW5nLW1hbmFnZXInLCAnbWFya2V0aW5nJ107XG5cdFx0XHRmb3IgKGNvbnN0IHJvbGUgb2YgbWFya2V0aW5nUm9sZXMpIHtcblx0XHRcdFx0Y29uc3QgcGF0dGVybnMgPSAocm9sZVBhdHRlcm5zIGFzIGFueSlbcm9sZV0gYXMgc3RyaW5nW107XG5cdFx0XHRcdGNvbnN0IG1hdGNoZXMgPSBwYXR0ZXJucy5maWx0ZXIocGF0dGVybiA9PiBhbGxUZXh0LmluY2x1ZGVzKHBhdHRlcm4pKTtcblx0XHRcdFx0aWYgKG1hdGNoZXMubGVuZ3RoID4gMCkgeyBkZXRlY3RlZFJvbGUgPSByb2xlOyBtYXRjaGVkUGF0dGVybnMgPSBtYXRjaGVzOyBicmVhazsgfVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoaHJSb2xlVGVybXMuc29tZSh0ZXJtID0+IGFsbFRleHQuaW5jbHVkZXModGVybSkpKSB7XG5cdFx0XHRjb25zb2xlLmxvZygn8J+UjSBST0xFIERFVEVDVElPTiAtIEhSIHJvbGUgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyBIUiByb2xlcycpO1xuXHRcdFx0Y29uc3QgaHJSb2xlcyA9IFsnY2hybycsICdoci1tYW5hZ2VyJywgJ2hyJ107XG5cdFx0XHRmb3IgKGNvbnN0IHJvbGUgb2YgaHJSb2xlcykge1xuXHRcdFx0XHRjb25zdCBwYXR0ZXJucyA9IChyb2xlUGF0dGVybnMgYXMgYW55KVtyb2xlXSBhcyBzdHJpbmdbXTtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IHBhdHRlcm5zLmZpbHRlcihwYXR0ZXJuID0+IGFsbFRleHQuaW5jbHVkZXMocGF0dGVybikpO1xuXHRcdFx0XHRpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7IGRldGVjdGVkUm9sZSA9IHJvbGU7IG1hdGNoZWRQYXR0ZXJucyA9IG1hdGNoZXM7IGJyZWFrOyB9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChvcGVyYXRpb25zUm9sZVRlcm1zLnNvbWUodGVybSA9PiBhbGxUZXh0LmluY2x1ZGVzKHRlcm0pKSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ/CflI0gUk9MRSBERVRFQ1RJT04gLSBPcGVyYXRpb25zIHJvbGUgdGVybXMgZGV0ZWN0ZWQsIHByaW9yaXRpemluZyBvcGVyYXRpb25zIHJvbGVzJyk7XG5cdFx0XHRjb25zdCBvcGVyYXRpb25zUm9sZXMgPSBbJ2NvbycsICdvcGVyYXRpb25zLW1hbmFnZXInLCAnb3BlcmF0aW9ucyddO1xuXHRcdFx0Zm9yIChjb25zdCByb2xlIG9mIG9wZXJhdGlvbnNSb2xlcykge1xuXHRcdFx0XHRjb25zdCBwYXR0ZXJucyA9IChyb2xlUGF0dGVybnMgYXMgYW55KVtyb2xlXSBhcyBzdHJpbmdbXTtcblx0XHRcdFx0Y29uc3QgbWF0Y2hlcyA9IHBhdHRlcm5zLmZpbHRlcihwYXR0ZXJuID0+IGFsbFRleHQuaW5jbHVkZXMocGF0dGVybikpO1xuXHRcdFx0XHRpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7IGRldGVjdGVkUm9sZSA9IHJvbGU7IG1hdGNoZWRQYXR0ZXJucyA9IG1hdGNoZXM7IGJyZWFrOyB9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoY29uc3QgW3JvbGUsIHBhdHRlcm5zXSBvZiBPYmplY3QuZW50cmllcyhyb2xlUGF0dGVybnMpKSB7XG5cdFx0XHRcdGNvbnN0IG1hdGNoZXMgPSBwYXR0ZXJucy5maWx0ZXIocGF0dGVybiA9PiBhbGxUZXh0LmluY2x1ZGVzKHBhdHRlcm4pKTtcblx0XHRcdFx0aWYgKG1hdGNoZXMubGVuZ3RoID4gbWF4TWF0Y2hlcykgeyBtYXhNYXRjaGVzID0gbWF0Y2hlcy5sZW5ndGg7IGRldGVjdGVkUm9sZSA9IHJvbGU7IG1hdGNoZWRQYXR0ZXJucyA9IG1hdGNoZXM7IH1cblx0XHRcdH1cblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYPCflI0gUk9MRSBERVRFQ1RJT04gLSBSb2xlIGRldGVjdGVkOiAke2RldGVjdGVkUm9sZX0sIHBhdHRlcm5zOiAke21hdGNoZWRQYXR0ZXJucy5qb2luKCcsICcpfWApO1xuXHR9XG5cblx0bGV0IGRldGVjdGVkU2VuaW9yaXR5OiAnanVuaW9yJyB8ICdtaWQnIHwgJ3NlbmlvcicgfCAnZXhlY3V0aXZlJyA9ICdtaWQnO1xuXHRmb3IgKGNvbnN0IFtzZW5pb3JpdHksIHBhdHRlcm5zXSBvZiBPYmplY3QuZW50cmllcyhzZW5pb3JpdHlQYXR0ZXJucykpIHtcblx0XHRpZiAocGF0dGVybnMuc29tZShwYXR0ZXJuID0+IGFsbFRleHQuaW5jbHVkZXMocGF0dGVybikpKSB7IGRldGVjdGVkU2VuaW9yaXR5ID0gc2VuaW9yaXR5IGFzIGFueTsgYnJlYWs7IH1cblx0fVxuXG5cdGxldCBkZXRlY3RlZERlcGFydG1lbnQ6IFJvbGVDb250ZXh0WydkZXBhcnRtZW50J10gPSAnZ2VuZXJhbCc7XG5cdGNvbnN0IHJvbGVUb0RlcGFydG1lbnQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG5cdFx0J3NhbGVzLW1hbmFnZXInOiAnc2FsZXMnLCAnc2FsZXMnOiAnc2FsZXMnLCAnY21vJzogJ21hcmtldGluZycsXG5cdFx0J2Nmbyc6ICdmaW5hbmNlJywgJ2ZpbmFuY2UnOiAnZmluYW5jZScsICdjdG8nOiAndGVjaCcsICd0ZWNoLWxlYWQnOiAndGVjaCcsICd0ZWNoJzogJ3RlY2gnLFxuXHRcdCdjb28nOiAnb3BlcmF0aW9ucycsICdvcGVyYXRpb25zLW1hbmFnZXInOiAnb3BlcmF0aW9ucycsICdvcGVyYXRpb25zJzogJ29wZXJhdGlvbnMnLFxuXHRcdCdtYXJrZXRpbmctbWFuYWdlcic6ICdtYXJrZXRpbmcnLCAnbWFya2V0aW5nJzogJ21hcmtldGluZycsICdjaHJvJzogJ2hyJywgJ2hyLW1hbmFnZXInOiAnaHInLCAnaHInOiAnaHInXG5cdH07XG5cblx0aWYgKHJvbGVUb0RlcGFydG1lbnRbZGV0ZWN0ZWRSb2xlXSkge1xuXHRcdGRldGVjdGVkRGVwYXJ0bWVudCA9IHJvbGVUb0RlcGFydG1lbnRbZGV0ZWN0ZWRSb2xlXSBhcyBhbnk7XG5cdH0gZWxzZSB7XG5cdFx0Zm9yIChjb25zdCBbZGVwYXJ0bWVudCwgcGF0dGVybnNdIG9mIE9iamVjdC5lbnRyaWVzKGRlcGFydG1lbnRQYXR0ZXJucykpIHtcblx0XHRcdGlmIChwYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gYWxsVGV4dC5pbmNsdWRlcyhwYXR0ZXJuKSkpIHsgZGV0ZWN0ZWREZXBhcnRtZW50ID0gZGVwYXJ0bWVudCBhcyBhbnk7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgcmVzdWx0ID0geyByb2xlOiBkZXRlY3RlZFJvbGUsIHNlbmlvcml0eTogZGV0ZWN0ZWRTZW5pb3JpdHksIGRlcGFydG1lbnQ6IGRldGVjdGVkRGVwYXJ0bWVudCB9IGFzIFJvbGVDb250ZXh0O1xuXHRjb25zb2xlLmxvZygn8J+UjSBST0xFIERFVEVDVElPTiAtIEZpbmFsIHJlc3VsdDonLCByZXN1bHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuXG4iXSwibmFtZXMiOlsiZGV0ZWN0Um9sZUNvbnRleHQiLCJtZXNzYWdlcyIsInVzZXJNZXNzYWdlcyIsImZpbHRlciIsIm0iLCJyb2xlIiwiYWxsVGV4dCIsIm1hcCIsImNvbnRlbnQiLCJqb2luIiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwibG9nIiwicm9sZVBhdHRlcm5zIiwic2VuaW9yaXR5UGF0dGVybnMiLCJkZXBhcnRtZW50UGF0dGVybnMiLCJkZXRlY3RlZFJvbGUiLCJtYXhNYXRjaGVzIiwibWF0Y2hlZFBhdHRlcm5zIiwic2FsZXNSb2xlVGVybXMiLCJoYXNTYWxlc1JvbGVUZXJtcyIsInNvbWUiLCJ0ZXJtIiwiaW5jbHVkZXMiLCJzYWxlc1JvbGVzIiwicGF0dGVybnMiLCJtYXRjaGVzIiwicGF0dGVybiIsImxlbmd0aCIsInRlY2hSb2xlVGVybXMiLCJmaW5hbmNlUm9sZVRlcm1zIiwibWFya2V0aW5nUm9sZVRlcm1zIiwiaHJSb2xlVGVybXMiLCJvcGVyYXRpb25zUm9sZVRlcm1zIiwidGVjaFJvbGVzIiwiZmluYW5jZVJvbGVzIiwibWFya2V0aW5nUm9sZXMiLCJoclJvbGVzIiwib3BlcmF0aW9uc1JvbGVzIiwiT2JqZWN0IiwiZW50cmllcyIsImRldGVjdGVkU2VuaW9yaXR5Iiwic2VuaW9yaXR5IiwiZGV0ZWN0ZWREZXBhcnRtZW50Iiwicm9sZVRvRGVwYXJ0bWVudCIsImRlcGFydG1lbnQiLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/role-detection.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@anthropic-ai"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Farena%2Fchat%2Froute&page=%2Fapi%2Farena%2Fchat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Farena%2Fchat%2Froute.ts&appDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fchristoffersundberg%2Frecta-v2&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();